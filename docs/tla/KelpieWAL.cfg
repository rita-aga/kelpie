\* TLC Configuration for KelpieWAL - Default (safety + liveness)
\* Run with: java -XX:+UseParallelGC -jar tla2tools.jar -deadlock -config KelpieWAL.cfg KelpieWAL.tla
\* For concurrent client safety check, use KelpieWAL-concurrent.cfg

\* Model constants - single client for fast liveness verification
CONSTANTS
    Clients = {c1}          \* Single client (liveness checking is expensive)
    MaxEntries = 2          \* Maximum WAL entries
    MaxOperations = 2       \* Max operations per client

\* Specification to check (includes fairness for liveness)
SPECIFICATION Spec

\* Safety invariants
INVARIANT TypeOK
INVARIANT Durability
INVARIANT Idempotency
INVARIANT AtomicVisibility

\* Liveness properties (require fairness)
PROPERTY EventualRecovery
PROPERTY EventualCompletion
PROPERTY NoStarvation
PROPERTY ProgressUnderCrash

\* State constraint to enable bounded model checking
CONSTRAINT StateConstraint

\* Note: Symmetry disabled for liveness checking (can cause TLC to miss violations)
\* For safety-only checks, see KelpieWAL-safety.cfg
