\* KelpieRegistry TLC Configuration
\*
\* Run with:
\*   java -XX:+UseParallelGC -jar tla2tools.jar -deadlock -config KelpieRegistry.cfg KelpieRegistry.tla

\* ---------------------------------------------------------------------------
\* Constants
\* ---------------------------------------------------------------------------

\* Medium model (2 nodes, 2 actors) - good balance of coverage and speed
\* Verified in ~30 seconds with ~15K distinct states
CONSTANT
    Nodes = {n1, n2}
    Actors = {a1, a2}
    MaxHeartbeatMiss = 2
    Active = Active
    Suspect = Suspect
    Failed = Failed
    NULL = NULL

\* ---------------------------------------------------------------------------
\* Specification
\* ---------------------------------------------------------------------------

SPECIFICATION Spec

\* ---------------------------------------------------------------------------
\* Safety Invariants
\* ---------------------------------------------------------------------------

INVARIANT TypeOK
INVARIANT SingleActivation
INVARIANT PlacementConsistency

\* ---------------------------------------------------------------------------
\* Liveness Properties
\* ---------------------------------------------------------------------------

PROPERTY EventualFailureDetection
PROPERTY EventualCacheInvalidation
