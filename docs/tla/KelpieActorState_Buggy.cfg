\* Configuration file for KelpieActorState TLA+ specification
\* Buggy mode: rollback does NOT restore pre-invocation state
\*
\* Expected: TLC should find a counterexample violating RollbackCorrectness

CONSTANTS
    Values = {"v1", "v2", "empty"}
    SafeMode = FALSE
    MaxBufferLen = 2

INIT Init

NEXT Next

INVARIANTS
    TypeOK
    RollbackCorrectness
    BufferEmptyWhenIdle

CONSTRAINT StateConstraint

\* We expect RollbackCorrectness to FAIL in buggy mode
\* This proves our invariant catches the bug
