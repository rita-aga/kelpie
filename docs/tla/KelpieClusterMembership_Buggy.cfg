\* KelpieClusterMembership_Buggy.cfg
\* Buggy configuration - NoSplitBrain should FAIL

\* Model values for constants
CONSTANTS
    \* Set of nodes - use small set for bounded model checking
    Nodes = {n1, n2, n3}

    \* Maximum view number to bound state space
    MaxViewNum = 3

    \* BUGGY MODE: Nodes can become primary without quorum check
    \* This enables split-brain: two partitioned nodes both becoming primary
    BUGGY_MODE = TRUE

    \* Node state constants
    Joining = Joining
    Active = Active
    Leaving = Leaving
    Failed = Failed
    Left = Left

    \* Special value
    NoPrimary = NoPrimary

\* Check these invariants
\* NoSplitBrain SHOULD FAIL in buggy mode!
INVARIANTS
    TypeOK
    JoinAtomicity
    NoSplitBrain

\* Specification
SPECIFICATION Spec
