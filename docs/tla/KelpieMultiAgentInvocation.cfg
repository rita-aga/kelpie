\* TLC Configuration for KelpieMultiAgentInvocation.tla
\*
\* Run with: tlc KelpieMultiAgentInvocation.tla -config KelpieMultiAgentInvocation.cfg
\* Or with TLA+ toolbox

SPECIFICATION Spec

\* Constants
\* Using small sets for tractable model checking
\* Reduced from 3 agents to 2 for faster checking
CONSTANTS
    Agents = {"a1", "a2"}
    Nodes = {"n1"}
    MAX_DEPTH = 2
    TIMEOUT_MS = 5
    NONE = "NONE"

\* Invariants to check (SAFETY)
INVARIANT TypeOK
INVARIANT NoDeadlock
INVARIANT SingleActivationDuringCall
INVARIANT DepthBounded
INVARIANT BoundedPendingCalls

\* Properties to check (LIVENESS)
\* Note: Liveness checking disabled - safety invariants are the key guarantees
\* The liveness properties require additional fairness constraints on activation
\* that are enforced in implementation via timeouts rather than TLA+ fairness
\* PROPERTY CallsEventuallyComplete
\* PROPERTY WaitingAgentsResume

\* State constraint to bound state space
CONSTRAINT StateConstraint

\* Symmetry set for optimization (agents and nodes are interchangeable)
\* SYMMETRY AgentSymmetry
