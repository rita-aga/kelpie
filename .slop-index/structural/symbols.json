{
  "version": "1.0.0",
  "generated_at": "2026-01-30T16:11:54.854291+00:00",
  "files": [
    {
      "path": "crates/kelpie-core/src/telemetry.rs",
      "symbols": [
        {
          "name": "TelemetryConfig",
          "kind": "struct",
          "line": 14,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "METRICS_PORT_DEFAULT",
          "kind": "const",
          "line": 30,
          "visibility": "private",
          "signature": "const METRICS_PORT_DEFAULT: u16",
          "doc": "Default metrics port"
        },
        {
          "name": "Default for TelemetryConfig",
          "kind": "impl",
          "line": 32,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 33,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "TelemetryConfig",
          "kind": "impl",
          "line": 45,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "fn new(service_name: impl Into<String>)",
          "doc": "Create a new configuration with the given service name"
        },
        {
          "name": "with_otlp_endpoint",
          "kind": "function",
          "line": 55,
          "visibility": "pub",
          "signature": "fn with_otlp_endpoint(mut self, endpoint: impl Into<String>)",
          "doc": "Set the OTLP endpoint"
        },
        {
          "name": "without_stdout",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "fn without_stdout(mut self)",
          "doc": "Disable stdout tracing"
        },
        {
          "name": "with_log_level",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "fn with_log_level(mut self, level: impl Into<String>)",
          "doc": "Set the log level filter"
        },
        {
          "name": "with_metrics",
          "kind": "function",
          "line": 73,
          "visibility": "pub",
          "signature": "fn with_metrics(mut self, port: u16)",
          "doc": "Enable metrics collection"
        },
        {
          "name": "without_metrics",
          "kind": "function",
          "line": 80,
          "visibility": "pub",
          "signature": "fn without_metrics(mut self)",
          "doc": "Disable metrics collection"
        },
        {
          "name": "from_env",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn from_env()",
          "doc": "Create from environment variables\n\nReads:\n- `OTEL_SERVICE_NAME`: Service name (default: \"kelpie\")\n- `OTEL_EXPORTER_OTLP_ENDPOINT`: OTLP endpoint\n- `RUST_LOG`: Log level filter (default: \"info\")\n- `METRICS_ENABLED`: Enable metrics collection (default: false)\n- `METRICS_PORT`: Port for /metrics endpoint (default: 9090)"
        },
        {
          "name": "init_telemetry",
          "kind": "function",
          "line": 140,
          "visibility": "pub",
          "signature": "fn init_telemetry(config: TelemetryConfig)",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "TelemetryGuard",
          "kind": "struct",
          "line": 216,
          "visibility": "pub",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "TelemetryGuard",
          "kind": "impl",
          "line": 222,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "registry",
          "kind": "function",
          "line": 224,
          "visibility": "pub",
          "signature": "fn registry(&self)",
          "doc": "Get a reference to the Prometheus registry if metrics are enabled"
        },
        {
          "name": "init_metrics",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn init_metrics(config: &TelemetryConfig)",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "Drop for TelemetryGuard",
          "kind": "impl",
          "line": 277,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 278,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        },
        {
          "name": "init_metrics",
          "kind": "function",
          "line": 287,
          "visibility": "pub",
          "signature": "fn init_metrics(_config: &TelemetryConfig)",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "init_telemetry",
          "kind": "function",
          "line": 293,
          "visibility": "pub",
          "signature": "fn init_telemetry(_config: TelemetryConfig)",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "TelemetryGuard",
          "kind": "struct",
          "line": 300,
          "visibility": "pub",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 303,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_telemetry_config_default",
          "kind": "function",
          "line": 307,
          "visibility": "private",
          "signature": "fn test_telemetry_config_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_telemetry_config_builder",
          "kind": "function",
          "line": 317,
          "visibility": "private",
          "signature": "fn test_telemetry_config_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_telemetry_config_with_metrics",
          "kind": "function",
          "line": 333,
          "visibility": "private",
          "signature": "fn test_telemetry_config_with_metrics()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::Error"
        },
        {
          "path": "crate::error::Result"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/runtime.rs",
      "symbols": [
        {
          "name": "JoinHandle",
          "kind": "type_alias",
          "line": 45,
          "visibility": "pub",
          "doc": "JoinHandle for spawned tasks\n\nThis abstracts over tokio::task::JoinHandle and madsim::task::JoinHandle"
        },
        {
          "name": "JoinError",
          "kind": "enum",
          "line": 49,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, thiserror::Error)"
          ]
        },
        {
          "name": "Instant",
          "kind": "struct",
          "line": 60,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, PartialOrd, Ord)"
          ]
        },
        {
          "name": "Instant",
          "kind": "impl",
          "line": 65,
          "visibility": "private"
        },
        {
          "name": "from_millis",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "fn from_millis(millis: u64)",
          "doc": "Create a new instant from milliseconds"
        },
        {
          "name": "elapsed",
          "kind": "function",
          "line": 72,
          "visibility": "pub",
          "signature": "fn elapsed(&self, now: Instant)",
          "doc": "Get duration elapsed since this instant"
        },
        {
          "name": "Runtime",
          "kind": "trait",
          "line": 89,
          "visibility": "pub",
          "attributes": [
            "async_trait::async_trait"
          ]
        },
        {
          "name": "TokioRuntime",
          "kind": "struct",
          "line": 155,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Runtime for TokioRuntime",
          "kind": "impl",
          "line": 160,
          "visibility": "private",
          "attributes": [
            "allow(clippy::disallowed_methods)",
            "async_trait::async_trait"
          ]
        },
        {
          "name": "now",
          "kind": "function",
          "line": 161,
          "visibility": "private",
          "signature": "fn now(&self)"
        },
        {
          "name": "sleep",
          "kind": "function",
          "line": 168,
          "visibility": "private",
          "signature": "async fn sleep(&self, duration: Duration)",
          "is_async": true
        },
        {
          "name": "yield_now",
          "kind": "function",
          "line": 176,
          "visibility": "private",
          "signature": "async fn yield_now(&self)",
          "is_async": true
        },
        {
          "name": "spawn",
          "kind": "function",
          "line": 180,
          "visibility": "private",
          "signature": "fn spawn<F>(&self, future: F)",
          "generic_params": [
            "F"
          ]
        },
        {
          "name": "timeout",
          "kind": "function",
          "line": 197,
          "visibility": "private",
          "signature": "async fn timeout<F>(&self, duration: Duration, future: F)",
          "is_async": true,
          "generic_params": [
            "F"
          ]
        },
        {
          "name": "MadsimRuntime",
          "kind": "struct",
          "line": 219,
          "visibility": "pub",
          "attributes": [
            "cfg(madsim)",
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Runtime for MadsimRuntime",
          "kind": "impl",
          "line": 223,
          "visibility": "private",
          "attributes": [
            "cfg(madsim)",
            "async_trait::async_trait"
          ]
        },
        {
          "name": "now",
          "kind": "function",
          "line": 224,
          "visibility": "private",
          "signature": "fn now(&self)"
        },
        {
          "name": "sleep",
          "kind": "function",
          "line": 232,
          "visibility": "private",
          "signature": "async fn sleep(&self, duration: Duration)",
          "is_async": true
        },
        {
          "name": "yield_now",
          "kind": "function",
          "line": 240,
          "visibility": "private",
          "signature": "async fn yield_now(&self)",
          "is_async": true
        },
        {
          "name": "spawn",
          "kind": "function",
          "line": 245,
          "visibility": "private",
          "signature": "fn spawn<F>(&self, future: F)",
          "generic_params": [
            "F"
          ]
        },
        {
          "name": "timeout",
          "kind": "function",
          "line": 254,
          "visibility": "private",
          "signature": "async fn timeout<F>(&self, duration: Duration, future: F)",
          "is_async": true,
          "generic_params": [
            "F"
          ]
        },
        {
          "name": "CurrentRuntime",
          "kind": "type_alias",
          "line": 280,
          "visibility": "pub",
          "attributes": [
            "cfg(madsim)"
          ]
        },
        {
          "name": "CurrentRuntime",
          "kind": "type_alias",
          "line": 284,
          "visibility": "pub",
          "attributes": [
            "cfg(not(madsim))"
          ]
        },
        {
          "name": "current_runtime",
          "kind": "function",
          "line": 309,
          "visibility": "pub",
          "signature": "fn current_runtime()",
          "attributes": [
            "cfg(madsim)"
          ]
        },
        {
          "name": "current_runtime",
          "kind": "function",
          "line": 315,
          "visibility": "pub",
          "signature": "fn current_runtime()",
          "attributes": [
            "cfg(not(madsim))"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 320,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_tokio_runtime_sleep",
          "kind": "function",
          "line": 324,
          "visibility": "private",
          "signature": "async fn test_tokio_runtime_sleep()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_tokio_runtime_spawn",
          "kind": "function",
          "line": 338,
          "visibility": "private",
          "signature": "async fn test_tokio_runtime_spawn()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "std::future::Future"
        },
        {
          "path": "std::pin::Pin"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/io.rs",
      "symbols": [
        {
          "name": "TimeProvider",
          "kind": "trait",
          "line": 55,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "WallClockTime",
          "kind": "struct",
          "line": 73,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "WallClockTime",
          "kind": "impl",
          "line": 75,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 77,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new wall clock time provider"
        },
        {
          "name": "TimeProvider for WallClockTime",
          "kind": "impl",
          "line": 83,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 84,
          "visibility": "private",
          "signature": "fn now_ms(&self)"
        },
        {
          "name": "sleep_ms",
          "kind": "function",
          "line": 91,
          "visibility": "private",
          "signature": "async fn sleep_ms(&self, ms: u64)",
          "is_async": true
        },
        {
          "name": "RngProvider",
          "kind": "trait",
          "line": 111,
          "visibility": "pub",
          "doc": "Random number generator abstraction for DST\n\nAll code that needs randomness MUST use this trait.\nNever use `rand::thread_rng()` or `uuid::Uuid::new_v4()` directly.\n\n# Implementations\n\n- `StdRngProvider`: Production - uses thread-local RNG\n- `DeterministicRng` (in kelpie-dst): DST - seeded, reproducible"
        },
        {
          "name": "StdRngProvider",
          "kind": "struct",
          "line": 179,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "Default for StdRngProvider",
          "kind": "impl",
          "line": 184,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 185,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "StdRngProvider",
          "kind": "impl",
          "line": 190,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 192,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new RNG provider seeded from system time"
        },
        {
          "name": "with_seed",
          "kind": "function",
          "line": 204,
          "visibility": "pub",
          "signature": "fn with_seed(seed: u64)",
          "doc": "Create with specific seed (for testing)"
        },
        {
          "name": "RngProvider for StdRngProvider",
          "kind": "impl",
          "line": 211,
          "visibility": "private"
        },
        {
          "name": "next_u64",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "fn next_u64(&self)"
        },
        {
          "name": "IoContext",
          "kind": "struct",
          "line": 244,
          "visibility": "pub",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "std::fmt::Debug for IoContext",
          "kind": "impl",
          "line": 251,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 252,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "Default for IoContext",
          "kind": "impl",
          "line": 260,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 261,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "IoContext",
          "kind": "impl",
          "line": 266,
          "visibility": "private"
        },
        {
          "name": "production",
          "kind": "function",
          "line": 268,
          "visibility": "pub",
          "signature": "fn production()",
          "doc": "Create production I/O context with real wall clock and RNG"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 276,
          "visibility": "pub",
          "signature": "fn new(time: Arc<dyn TimeProvider>, rng: Arc<dyn RngProvider>)",
          "doc": "Create I/O context with custom providers"
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 281,
          "visibility": "pub",
          "signature": "fn now_ms(&self)",
          "doc": "Get current time in milliseconds"
        },
        {
          "name": "sleep_ms",
          "kind": "function",
          "line": 286,
          "visibility": "pub",
          "signature": "async fn sleep_ms(&self, ms: u64)",
          "doc": "Sleep for specified duration",
          "is_async": true
        },
        {
          "name": "gen_uuid",
          "kind": "function",
          "line": 291,
          "visibility": "pub",
          "signature": "fn gen_uuid(&self)",
          "doc": "Generate a UUID"
        },
        {
          "name": "gen_bool",
          "kind": "function",
          "line": 296,
          "visibility": "pub",
          "signature": "fn gen_bool(&self, probability: f64)",
          "doc": "Generate random boolean with probability"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 306,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_wall_clock_time_now_ms",
          "kind": "function",
          "line": 310,
          "visibility": "private",
          "signature": "fn test_wall_clock_time_now_ms()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_wall_clock_time_sleep",
          "kind": "function",
          "line": 324,
          "visibility": "private",
          "signature": "async fn test_wall_clock_time_sleep()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_std_rng_provider_deterministic_with_seed",
          "kind": "function",
          "line": 336,
          "visibility": "private",
          "signature": "fn test_std_rng_provider_deterministic_with_seed()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_std_rng_provider_gen_uuid",
          "kind": "function",
          "line": 350,
          "visibility": "private",
          "signature": "fn test_std_rng_provider_gen_uuid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_std_rng_provider_gen_bool",
          "kind": "function",
          "line": 366,
          "visibility": "private",
          "signature": "fn test_std_rng_provider_gen_bool()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_std_rng_provider_gen_range",
          "kind": "function",
          "line": 381,
          "visibility": "private",
          "signature": "fn test_std_rng_provider_gen_range()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_io_context_production",
          "kind": "function",
          "line": 392,
          "visibility": "private",
          "signature": "fn test_io_context_production()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::runtime::Runtime"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::SystemTime"
        },
        {
          "path": "std::time::UNIX_EPOCH"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/constants.rs",
      "symbols": [
        {
          "name": "ACTOR_ID_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 11,
          "visibility": "pub",
          "signature": "const ACTOR_ID_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum length of an actor ID in bytes"
        },
        {
          "name": "ACTOR_NAMESPACE_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 14,
          "visibility": "pub",
          "signature": "const ACTOR_NAMESPACE_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum length of an actor namespace in bytes"
        },
        {
          "name": "ACTOR_STATE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 17,
          "visibility": "pub",
          "signature": "const ACTOR_STATE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum size of actor state in bytes (10 MB)"
        },
        {
          "name": "ACTOR_KV_KEY_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 20,
          "visibility": "pub",
          "signature": "const ACTOR_KV_KEY_SIZE_BYTES_MAX: usize",
          "doc": "Maximum size of actor KV key in bytes (10 KB)"
        },
        {
          "name": "ACTOR_KV_VALUE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 23,
          "visibility": "pub",
          "signature": "const ACTOR_KV_VALUE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum size of actor KV value in bytes (1 MB)"
        },
        {
          "name": "ACTOR_INVOCATION_TIMEOUT_MS_MAX",
          "kind": "const",
          "line": 28,
          "visibility": "pub",
          "signature": "const ACTOR_INVOCATION_TIMEOUT_MS_MAX: u64",
          "doc": "Maximum duration for an actor invocation in milliseconds (2 min)\nTigerStyle: LLM API calls (especially with tool use) can take 30-60+ seconds.\n120 seconds provides margin for slow API responses while preventing runaway tasks."
        },
        {
          "name": "ACTOR_IDLE_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 31,
          "visibility": "pub",
          "signature": "const ACTOR_IDLE_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default idle timeout before actor deactivation in milliseconds (5 min)"
        },
        {
          "name": "ACTOR_IDLE_TIMEOUT_MS_MAX",
          "kind": "const",
          "line": 34,
          "visibility": "pub",
          "signature": "const ACTOR_IDLE_TIMEOUT_MS_MAX: u64",
          "doc": "Maximum idle timeout in milliseconds (1 hour)"
        },
        {
          "name": "ACTOR_CONCURRENT_COUNT_MAX",
          "kind": "const",
          "line": 37,
          "visibility": "pub",
          "signature": "const ACTOR_CONCURRENT_COUNT_MAX: usize",
          "doc": "Maximum number of concurrent actors per node"
        },
        {
          "name": "TRANSACTION_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 44,
          "visibility": "pub",
          "signature": "const TRANSACTION_SIZE_BYTES_MAX: usize",
          "doc": "Maximum size of a transaction in bytes (10 MB - FDB limit)"
        },
        {
          "name": "TRANSACTION_KEYS_COUNT_MAX",
          "kind": "const",
          "line": 47,
          "visibility": "pub",
          "signature": "const TRANSACTION_KEYS_COUNT_MAX: usize",
          "doc": "Maximum number of keys in a single transaction"
        },
        {
          "name": "TRANSACTION_KEY_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 50,
          "visibility": "pub",
          "signature": "const TRANSACTION_KEY_SIZE_BYTES_MAX: usize",
          "doc": "Maximum key size in bytes"
        },
        {
          "name": "TRANSACTION_VALUE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 53,
          "visibility": "pub",
          "signature": "const TRANSACTION_VALUE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum value size in bytes"
        },
        {
          "name": "TRANSACTION_TIMEOUT_MS_MAX",
          "kind": "const",
          "line": 56,
          "visibility": "pub",
          "signature": "const TRANSACTION_TIMEOUT_MS_MAX: u64",
          "doc": "Maximum transaction timeout in milliseconds (5 sec)"
        },
        {
          "name": "TRANSACTION_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 59,
          "visibility": "pub",
          "signature": "const TRANSACTION_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default transaction timeout in milliseconds (2 sec)"
        },
        {
          "name": "CLUSTER_NODES_COUNT_MAX",
          "kind": "const",
          "line": 66,
          "visibility": "pub",
          "signature": "const CLUSTER_NODES_COUNT_MAX: usize",
          "doc": "Maximum number of nodes in a cluster"
        },
        {
          "name": "HEARTBEAT_INTERVAL_MS",
          "kind": "const",
          "line": 69,
          "visibility": "pub",
          "signature": "const HEARTBEAT_INTERVAL_MS: u64",
          "doc": "Heartbeat interval in milliseconds (1 sec)"
        },
        {
          "name": "HEARTBEAT_TIMEOUT_MS",
          "kind": "const",
          "line": 72,
          "visibility": "pub",
          "signature": "const HEARTBEAT_TIMEOUT_MS: u64",
          "doc": "Heartbeat timeout before node is considered failed (5 sec)"
        },
        {
          "name": "ACTOR_ACTIVATION_RATE_PER_SEC_MAX",
          "kind": "const",
          "line": 75,
          "visibility": "pub",
          "signature": "const ACTOR_ACTIVATION_RATE_PER_SEC_MAX: u64",
          "doc": "Maximum rate of actor activations per second per node"
        },
        {
          "name": "ACTOR_MIGRATION_COOLDOWN_MS",
          "kind": "const",
          "line": 78,
          "visibility": "pub",
          "signature": "const ACTOR_MIGRATION_COOLDOWN_MS: u64",
          "doc": "Minimum time between migration attempts for same actor (10 sec)"
        },
        {
          "name": "MESSAGE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 85,
          "visibility": "pub",
          "signature": "const MESSAGE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum size of a message payload in bytes (1 MB)"
        },
        {
          "name": "MAILBOX_DEPTH_MAX",
          "kind": "const",
          "line": 88,
          "visibility": "pub",
          "signature": "const MAILBOX_DEPTH_MAX: usize",
          "doc": "Maximum depth of actor mailbox"
        },
        {
          "name": "INVOCATION_PENDING_COUNT_MAX",
          "kind": "const",
          "line": 91,
          "visibility": "pub",
          "signature": "const INVOCATION_PENDING_COUNT_MAX: usize",
          "doc": "Maximum number of pending invocations per actor"
        },
        {
          "name": "RPC_CONNECTIONS_COUNT_MAX",
          "kind": "const",
          "line": 98,
          "visibility": "pub",
          "signature": "const RPC_CONNECTIONS_COUNT_MAX: usize",
          "doc": "Maximum number of concurrent RPC connections per node"
        },
        {
          "name": "RPC_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 101,
          "visibility": "pub",
          "signature": "const RPC_TIMEOUT_MS_DEFAULT: u64",
          "doc": "RPC request timeout in milliseconds (30 sec)"
        },
        {
          "name": "RPC_MESSAGE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 104,
          "visibility": "pub",
          "signature": "const RPC_MESSAGE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum RPC message size in bytes (16 MB)"
        },
        {
          "name": "WASM_MODULE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 111,
          "visibility": "pub",
          "signature": "const WASM_MODULE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum WASM module size in bytes (100 MB)"
        },
        {
          "name": "WASM_MEMORY_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 114,
          "visibility": "pub",
          "signature": "const WASM_MEMORY_SIZE_BYTES_MAX: usize",
          "doc": "Maximum WASM memory per actor in bytes (256 MB)"
        },
        {
          "name": "WASM_EXECUTION_TIMEOUT_MS_MAX",
          "kind": "const",
          "line": 117,
          "visibility": "pub",
          "signature": "const WASM_EXECUTION_TIMEOUT_MS_MAX: u64",
          "doc": "WASM execution timeout in milliseconds (30 sec)"
        },
        {
          "name": "DST_STEPS_COUNT_MAX",
          "kind": "const",
          "line": 124,
          "visibility": "pub",
          "signature": "const DST_STEPS_COUNT_MAX: u64",
          "doc": "Maximum simulation steps before forced termination"
        },
        {
          "name": "DST_TIME_MS_MAX",
          "kind": "const",
          "line": 127,
          "visibility": "pub",
          "signature": "const DST_TIME_MS_MAX: u64",
          "doc": "Maximum simulated time in milliseconds (24 hours)"
        },
        {
          "name": "DST_FAULT_PROBABILITY_DEFAULT",
          "kind": "const",
          "line": 130,
          "visibility": "pub",
          "signature": "const DST_FAULT_PROBABILITY_DEFAULT: f64",
          "doc": "Default fault injection probability"
        },
        {
          "name": "METRIC_NAME_AGENTS_ACTIVE_COUNT",
          "kind": "const",
          "line": 137,
          "visibility": "pub",
          "signature": "const METRIC_NAME_AGENTS_ACTIVE_COUNT: &str",
          "doc": "Metric: Current number of active agents (gauge)"
        },
        {
          "name": "METRIC_NAME_AGENTS_ACTIVATED_TOTAL",
          "kind": "const",
          "line": 140,
          "visibility": "pub",
          "signature": "const METRIC_NAME_AGENTS_ACTIVATED_TOTAL: &str",
          "doc": "Metric: Total number of agent activations (counter)"
        },
        {
          "name": "METRIC_NAME_AGENTS_DEACTIVATED_TOTAL",
          "kind": "const",
          "line": 143,
          "visibility": "pub",
          "signature": "const METRIC_NAME_AGENTS_DEACTIVATED_TOTAL: &str",
          "doc": "Metric: Total number of agent deactivations (counter)"
        },
        {
          "name": "METRIC_NAME_INVOCATIONS_TOTAL",
          "kind": "const",
          "line": 146,
          "visibility": "pub",
          "signature": "const METRIC_NAME_INVOCATIONS_TOTAL: &str",
          "doc": "Metric: Total number of invocations (counter, labels: operation, status)"
        },
        {
          "name": "METRIC_NAME_INVOCATION_DURATION_SECONDS",
          "kind": "const",
          "line": 149,
          "visibility": "pub",
          "signature": "const METRIC_NAME_INVOCATION_DURATION_SECONDS: &str",
          "doc": "Metric: Invocation duration in seconds (histogram)"
        },
        {
          "name": "METRIC_NAME_INVOCATIONS_PENDING_COUNT",
          "kind": "const",
          "line": 152,
          "visibility": "pub",
          "signature": "const METRIC_NAME_INVOCATIONS_PENDING_COUNT: &str",
          "doc": "Metric: Current number of pending invocations (gauge)"
        },
        {
          "name": "METRIC_NAME_MEMORY_USAGE_BYTES",
          "kind": "const",
          "line": 155,
          "visibility": "pub",
          "signature": "const METRIC_NAME_MEMORY_USAGE_BYTES: &str",
          "doc": "Metric: Memory usage in bytes (gauge, labels: tier)"
        },
        {
          "name": "METRIC_NAME_MEMORY_BLOCKS_TOTAL",
          "kind": "const",
          "line": 158,
          "visibility": "pub",
          "signature": "const METRIC_NAME_MEMORY_BLOCKS_TOTAL: &str",
          "doc": "Metric: Total number of memory blocks (gauge)"
        },
        {
          "name": "METRIC_NAME_STORAGE_DURATION_SECONDS",
          "kind": "const",
          "line": 161,
          "visibility": "pub",
          "signature": "const METRIC_NAME_STORAGE_DURATION_SECONDS: &str",
          "doc": "Metric: Storage operation duration in seconds (histogram, labels: operation)"
        },
        {
          "name": "METRIC_NAME_STORAGE_OPERATIONS_TOTAL",
          "kind": "const",
          "line": 164,
          "visibility": "pub",
          "signature": "const METRIC_NAME_STORAGE_OPERATIONS_TOTAL: &str",
          "doc": "Metric: Total storage operations (counter, labels: operation, status)"
        },
        {
          "name": "_",
          "kind": "const",
          "line": 167,
          "visibility": "private",
          "signature": "const _: ()"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 176,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_constants_are_reasonable",
          "kind": "function",
          "line": 180,
          "visibility": "private",
          "signature": "fn test_constants_are_reasonable()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_limits_have_units_in_names",
          "kind": "function",
          "line": 186,
          "visibility": "private",
          "signature": "fn test_limits_have_units_in_names()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/error.rs",
      "symbols": [
        {
          "name": "Result",
          "kind": "type_alias",
          "line": 8,
          "visibility": "pub",
          "doc": "Result type alias for Kelpie operations"
        },
        {
          "name": "Error",
          "kind": "enum",
          "line": 12,
          "visibility": "pub",
          "attributes": [
            "derive(Error, Debug)"
          ]
        },
        {
          "name": "Error",
          "kind": "impl",
          "line": 153,
          "visibility": "private"
        },
        {
          "name": "actor_not_found",
          "kind": "function",
          "line": 155,
          "visibility": "pub",
          "signature": "fn actor_not_found(id: impl Into<String>)",
          "doc": "Create an actor not found error"
        },
        {
          "name": "invocation_failed",
          "kind": "function",
          "line": 160,
          "visibility": "pub",
          "signature": "fn invocation_failed(\n        id: impl Into<String>,\n        operation: impl Into<String>,\n        reason: impl Into<String>,\n    )",
          "doc": "Create an actor invocation failed error"
        },
        {
          "name": "storage_write_failed",
          "kind": "function",
          "line": 173,
          "visibility": "pub",
          "signature": "fn storage_write_failed(key: impl Into<String>, reason: impl Into<String>)",
          "doc": "Create a storage write failed error"
        },
        {
          "name": "transaction_failed",
          "kind": "function",
          "line": 181,
          "visibility": "pub",
          "signature": "fn transaction_failed(reason: impl Into<String>)",
          "doc": "Create a transaction failed error"
        },
        {
          "name": "internal",
          "kind": "function",
          "line": 188,
          "visibility": "pub",
          "signature": "fn internal(message: impl Into<String>)",
          "doc": "Create an internal error"
        },
        {
          "name": "is_retriable",
          "kind": "function",
          "line": 195,
          "visibility": "pub",
          "signature": "fn is_retriable(&self)",
          "doc": "Check if this error is retriable"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 206,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_error_display",
          "kind": "function",
          "line": 210,
          "visibility": "private",
          "signature": "fn test_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_error_is_retriable",
          "kind": "function",
          "line": 216,
          "visibility": "private",
          "signature": "fn test_error_is_retriable()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "thiserror::Error"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/config.rs",
      "symbols": [
        {
          "name": "KelpieConfig",
          "kind": "struct",
          "line": 11,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "KelpieConfig",
          "kind": "impl",
          "line": 29,
          "visibility": "private"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 31,
          "visibility": "pub",
          "signature": "fn validate(&self)",
          "doc": "Validate the configuration"
        },
        {
          "name": "NodeConfig",
          "kind": "struct",
          "line": 42,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_bind_address",
          "kind": "function",
          "line": 56,
          "visibility": "private",
          "signature": "fn default_bind_address()"
        },
        {
          "name": "Default for NodeConfig",
          "kind": "impl",
          "line": 60,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 61,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "NodeConfig",
          "kind": "impl",
          "line": 70,
          "visibility": "private"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 71,
          "visibility": "private",
          "signature": "fn validate(&self)"
        },
        {
          "name": "ActorConfig",
          "kind": "struct",
          "line": 85,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_max_actors",
          "kind": "function",
          "line": 103,
          "visibility": "private",
          "signature": "fn default_max_actors()"
        },
        {
          "name": "default_idle_timeout_ms",
          "kind": "function",
          "line": 107,
          "visibility": "private",
          "signature": "fn default_idle_timeout_ms()"
        },
        {
          "name": "default_invocation_timeout_ms",
          "kind": "function",
          "line": 111,
          "visibility": "private",
          "signature": "fn default_invocation_timeout_ms()"
        },
        {
          "name": "default_mailbox_depth",
          "kind": "function",
          "line": 115,
          "visibility": "private",
          "signature": "fn default_mailbox_depth()"
        },
        {
          "name": "Default for ActorConfig",
          "kind": "impl",
          "line": 119,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 120,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ActorConfig",
          "kind": "impl",
          "line": 130,
          "visibility": "private"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 131,
          "visibility": "private",
          "signature": "fn validate(&self)"
        },
        {
          "name": "StorageConfig",
          "kind": "struct",
          "line": 168,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "StorageBackend",
          "kind": "enum",
          "line": 181,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)",
            "serde(rename_all = \"lowercase\")"
          ]
        },
        {
          "name": "Default for StorageConfig",
          "kind": "impl",
          "line": 190,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 191,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "StorageConfig",
          "kind": "impl",
          "line": 199,
          "visibility": "private"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 200,
          "visibility": "private",
          "signature": "fn validate(&self)"
        },
        {
          "name": "ClusterConfig",
          "kind": "struct",
          "line": 213,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_heartbeat_interval",
          "kind": "function",
          "line": 227,
          "visibility": "private",
          "signature": "fn default_heartbeat_interval()"
        },
        {
          "name": "default_heartbeat_timeout",
          "kind": "function",
          "line": 231,
          "visibility": "private",
          "signature": "fn default_heartbeat_timeout()"
        },
        {
          "name": "Default for ClusterConfig",
          "kind": "impl",
          "line": 235,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 236,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ClusterConfig",
          "kind": "impl",
          "line": 245,
          "visibility": "private"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 246,
          "visibility": "private",
          "signature": "fn validate(&self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 258,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_default_config_is_valid",
          "kind": "function",
          "line": 262,
          "visibility": "private",
          "signature": "fn test_default_config_is_valid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_invalid_heartbeat_config",
          "kind": "function",
          "line": 268,
          "visibility": "private",
          "signature": "fn test_invalid_heartbeat_config()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fdb_requires_cluster_file",
          "kind": "function",
          "line": 276,
          "visibility": "private",
          "signature": "fn test_fdb_requires_cluster_file()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::constants::*",
          "is_glob": true
        },
        {
          "path": "crate::error::Error"
        },
        {
          "path": "crate::error::Result"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/lib.rs",
      "symbols": [
        {
          "name": "actor",
          "kind": "mod",
          "line": 20,
          "visibility": "pub"
        },
        {
          "name": "config",
          "kind": "mod",
          "line": 21,
          "visibility": "pub"
        },
        {
          "name": "constants",
          "kind": "mod",
          "line": 22,
          "visibility": "pub"
        },
        {
          "name": "error",
          "kind": "mod",
          "line": 23,
          "visibility": "pub"
        },
        {
          "name": "http",
          "kind": "mod",
          "line": 24,
          "visibility": "pub"
        },
        {
          "name": "io",
          "kind": "mod",
          "line": 25,
          "visibility": "pub"
        },
        {
          "name": "metrics",
          "kind": "mod",
          "line": 26,
          "visibility": "pub"
        },
        {
          "name": "runtime",
          "kind": "mod",
          "line": 27,
          "visibility": "pub"
        },
        {
          "name": "telemetry",
          "kind": "mod",
          "line": 28,
          "visibility": "pub"
        },
        {
          "name": "teleport",
          "kind": "mod",
          "line": 29,
          "visibility": "pub"
        }
      ],
      "imports": [
        {
          "path": "actor::Actor"
        },
        {
          "path": "actor::ActorContext"
        },
        {
          "path": "actor::ActorId"
        },
        {
          "path": "actor::ActorRef"
        },
        {
          "path": "actor::ArcContextKV"
        },
        {
          "path": "actor::BufferedKVOp"
        },
        {
          "path": "actor::BufferingContextKV"
        },
        {
          "path": "actor::ContextKV"
        },
        {
          "path": "actor::NoOpKV"
        },
        {
          "path": "config::KelpieConfig"
        },
        {
          "path": "constants::*",
          "is_glob": true
        },
        {
          "path": "error::Error"
        },
        {
          "path": "error::Result"
        },
        {
          "path": "io::IoContext"
        },
        {
          "path": "io::RngProvider"
        },
        {
          "path": "io::StdRngProvider"
        },
        {
          "path": "io::TimeProvider"
        },
        {
          "path": "io::WallClockTime"
        },
        {
          "path": "runtime::current_runtime"
        },
        {
          "path": "runtime::CurrentRuntime"
        },
        {
          "path": "runtime::Instant"
        },
        {
          "path": "runtime::JoinError"
        },
        {
          "path": "runtime::JoinHandle"
        },
        {
          "path": "runtime::Runtime"
        },
        {
          "path": "runtime::TokioRuntime"
        },
        {
          "path": "runtime::MadsimRuntime"
        },
        {
          "path": "telemetry::init_telemetry"
        },
        {
          "path": "telemetry::TelemetryConfig"
        },
        {
          "path": "telemetry::TelemetryGuard"
        },
        {
          "path": "teleport::Architecture"
        },
        {
          "path": "teleport::SnapshotKind"
        },
        {
          "path": "teleport::TeleportPackage"
        },
        {
          "path": "teleport::TeleportSnapshotError"
        },
        {
          "path": "teleport::TeleportStorage"
        },
        {
          "path": "teleport::TeleportStorageError"
        },
        {
          "path": "teleport::TeleportStorageResult"
        },
        {
          "path": "teleport::VmSnapshotBlob"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/teleport.rs",
      "symbols": [
        {
          "name": "Architecture",
          "kind": "enum",
          "line": 11,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Architecture",
          "kind": "impl",
          "line": 18,
          "visibility": "private"
        },
        {
          "name": "current",
          "kind": "function",
          "line": 21,
          "visibility": "pub",
          "signature": "fn current()",
          "attributes": [
            "cfg(target_arch = \"aarch64\")"
          ]
        },
        {
          "name": "current",
          "kind": "function",
          "line": 27,
          "visibility": "pub",
          "signature": "fn current()",
          "attributes": [
            "cfg(target_arch = \"x86_64\")"
          ]
        },
        {
          "name": "current",
          "kind": "function",
          "line": 33,
          "visibility": "pub",
          "signature": "fn current()",
          "attributes": [
            "cfg(not(any(target_arch = \"aarch64\", target_arch = \"x86_64\")))"
          ]
        },
        {
          "name": "std::fmt::Display for Architecture",
          "kind": "impl",
          "line": 38,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 39,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "SnapshotKind",
          "kind": "enum",
          "line": 49,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "TELEPORT_ID_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 59,
          "visibility": "pub",
          "signature": "const TELEPORT_ID_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum teleport package ID length in bytes"
        },
        {
          "name": "TELEPORT_SNAPSHOT_MAGIC_BYTES",
          "kind": "const",
          "line": 62,
          "visibility": "pub",
          "signature": "const TELEPORT_SNAPSHOT_MAGIC_BYTES: [u8; 4]",
          "doc": "Teleport snapshot blob magic header: \"KLP1\""
        },
        {
          "name": "TELEPORT_SNAPSHOT_FORMAT_VERSION",
          "kind": "const",
          "line": 65,
          "visibility": "pub",
          "signature": "const TELEPORT_SNAPSHOT_FORMAT_VERSION: u32",
          "doc": "Teleport snapshot blob format version"
        },
        {
          "name": "TELEPORT_SNAPSHOT_HEADER_BYTES",
          "kind": "const",
          "line": 68,
          "visibility": "pub",
          "signature": "const TELEPORT_SNAPSHOT_HEADER_BYTES: usize",
          "doc": "Teleport snapshot blob header size in bytes"
        },
        {
          "name": "TeleportSnapshotError",
          "kind": "enum",
          "line": 72,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "std::fmt::Display for TeleportSnapshotError",
          "kind": "impl",
          "line": 83,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 84,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for TeleportSnapshotError",
          "kind": "impl",
          "line": 114,
          "visibility": "private"
        },
        {
          "name": "VmSnapshotBlob",
          "kind": "struct",
          "line": 118,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "VmSnapshotBlob",
          "kind": "impl",
          "line": 127,
          "visibility": "private"
        },
        {
          "name": "encode",
          "kind": "function",
          "line": 129,
          "visibility": "pub",
          "signature": "fn encode(metadata_bytes: Bytes, snapshot_bytes: Bytes, memory_bytes: Bytes)",
          "doc": "Encode metadata + snapshot + memory into a single versioned blob"
        },
        {
          "name": "decode",
          "kind": "function",
          "line": 156,
          "visibility": "pub",
          "signature": "fn decode(blob: &Bytes)",
          "doc": "Decode a versioned blob into snapshot + memory parts"
        },
        {
          "name": "TeleportPackage",
          "kind": "struct",
          "line": 217,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "TeleportPackage",
          "kind": "impl",
          "line": 244,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 246,
          "visibility": "pub",
          "signature": "fn new(\n        id: impl Into<String>,\n        agent_id: impl Into<String>,\n        source_arch: Architecture,\n        kind: SnapshotKind,\n    )",
          "doc": "Create a new teleport package"
        },
        {
          "name": "with_vm_snapshot",
          "kind": "function",
          "line": 274,
          "visibility": "pub",
          "signature": "fn with_vm_snapshot(mut self, snapshot: impl Into<Bytes>)",
          "doc": "Set VM snapshot blob"
        },
        {
          "name": "with_workspace_ref",
          "kind": "function",
          "line": 282,
          "visibility": "pub",
          "signature": "fn with_workspace_ref(mut self, reference: impl Into<String>)",
          "doc": "Set workspace reference"
        },
        {
          "name": "with_agent_state",
          "kind": "function",
          "line": 288,
          "visibility": "pub",
          "signature": "fn with_agent_state(mut self, state: impl Into<Bytes>)",
          "doc": "Set agent state"
        },
        {
          "name": "with_env_vars",
          "kind": "function",
          "line": 296,
          "visibility": "pub",
          "signature": "fn with_env_vars(mut self, vars: Vec<(String, String)>)",
          "doc": "Set environment variables"
        },
        {
          "name": "with_created_at",
          "kind": "function",
          "line": 302,
          "visibility": "pub",
          "signature": "fn with_created_at(mut self, ms: u64)",
          "doc": "Set creation timestamp"
        },
        {
          "name": "with_base_image_version",
          "kind": "function",
          "line": 308,
          "visibility": "pub",
          "signature": "fn with_base_image_version(mut self, version: impl Into<String>)",
          "doc": "Set base image version"
        },
        {
          "name": "is_full_teleport",
          "kind": "function",
          "line": 314,
          "visibility": "pub",
          "signature": "fn is_full_teleport(&self)",
          "doc": "Check if this is a full VM teleport"
        },
        {
          "name": "is_checkpoint",
          "kind": "function",
          "line": 319,
          "visibility": "pub",
          "signature": "fn is_checkpoint(&self)",
          "doc": "Check if this is a checkpoint-only package"
        },
        {
          "name": "validate_for_restore",
          "kind": "function",
          "line": 324,
          "visibility": "pub",
          "signature": "fn validate_for_restore(&self, target_arch: Architecture)",
          "doc": "Validate that this package can be restored on the given architecture"
        },
        {
          "name": "TeleportStorageError",
          "kind": "enum",
          "line": 343,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "std::fmt::Display for TeleportStorageError",
          "kind": "impl",
          "line": 365,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 366,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for TeleportStorageError",
          "kind": "impl",
          "line": 407,
          "visibility": "private"
        },
        {
          "name": "From<TeleportStorageError> for crate::error::Error",
          "kind": "impl",
          "line": 409,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 410,
          "visibility": "private",
          "signature": "fn from(e: TeleportStorageError)"
        },
        {
          "name": "TeleportStorageResult",
          "kind": "type_alias",
          "line": 418,
          "visibility": "pub",
          "doc": "Result type for teleport storage operations"
        },
        {
          "name": "TeleportStorage",
          "kind": "trait",
          "line": 425,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 456,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_vm_snapshot_blob_roundtrip",
          "kind": "function",
          "line": 461,
          "visibility": "private",
          "signature": "fn test_vm_snapshot_blob_roundtrip()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_vm_snapshot_blob_invalid_magic",
          "kind": "function",
          "line": 478,
          "visibility": "private",
          "signature": "fn test_vm_snapshot_blob_invalid_magic()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "bytes::Bytes"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/metrics.rs",
      "symbols": [
        {
          "name": "AGENTS_ACTIVATED_COUNTER",
          "kind": "static",
          "line": 19,
          "visibility": "private",
          "signature": "static AGENTS_ACTIVATED_COUNTER: Lazy<Counter<u64>>",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "AGENTS_DEACTIVATED_COUNTER",
          "kind": "static",
          "line": 27,
          "visibility": "private",
          "signature": "static AGENTS_DEACTIVATED_COUNTER: Lazy<Counter<u64>>",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "INVOCATIONS_COUNTER",
          "kind": "static",
          "line": 35,
          "visibility": "private",
          "signature": "static INVOCATIONS_COUNTER: Lazy<Counter<u64>>",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "INVOCATION_DURATION_HISTOGRAM",
          "kind": "static",
          "line": 43,
          "visibility": "private",
          "signature": "static INVOCATION_DURATION_HISTOGRAM: Lazy<Histogram<f64>>",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "STORAGE_OPERATIONS_COUNTER",
          "kind": "static",
          "line": 51,
          "visibility": "private",
          "signature": "static STORAGE_OPERATIONS_COUNTER: Lazy<Counter<u64>>",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "STORAGE_DURATION_HISTOGRAM",
          "kind": "static",
          "line": 59,
          "visibility": "private",
          "signature": "static STORAGE_DURATION_HISTOGRAM: Lazy<Histogram<f64>>",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "record_agent_activated",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn record_agent_activated()",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "record_agent_deactivated",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "fn record_agent_deactivated()",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "record_invocation",
          "kind": "function",
          "line": 89,
          "visibility": "pub",
          "signature": "fn record_invocation(operation: &str, status: &str, duration_seconds: f64)",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "record_storage_operation",
          "kind": "function",
          "line": 111,
          "visibility": "pub",
          "signature": "fn record_storage_operation(operation: &str, status: &str, duration_seconds: f64)",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "record_agent_activated",
          "kind": "function",
          "line": 128,
          "visibility": "pub",
          "signature": "fn record_agent_activated()",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "record_agent_deactivated",
          "kind": "function",
          "line": 131,
          "visibility": "pub",
          "signature": "fn record_agent_deactivated()",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "record_invocation",
          "kind": "function",
          "line": 134,
          "visibility": "pub",
          "signature": "fn record_invocation(_operation: &str, _status: &str, _duration_seconds: f64)",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "record_storage_operation",
          "kind": "function",
          "line": 137,
          "visibility": "pub",
          "signature": "fn record_storage_operation(_operation: &str, _status: &str, _duration_seconds: f64)",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 140,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_metric_functions_dont_panic",
          "kind": "function",
          "line": 144,
          "visibility": "private",
          "signature": "fn test_metric_functions_dont_panic()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::constants::*",
          "is_glob": true
        },
        {
          "path": "once_cell::sync::Lazy"
        },
        {
          "path": "opentelemetry::metrics::Counter"
        },
        {
          "path": "opentelemetry::metrics::Histogram"
        },
        {
          "path": "opentelemetry::global"
        },
        {
          "path": "opentelemetry::KeyValue"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/actor.rs",
      "symbols": [
        {
          "name": "ActorId",
          "kind": "struct",
          "line": 26,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Hash, Eq, PartialEq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ActorId",
          "kind": "impl",
          "line": 31,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 36,
          "visibility": "pub",
          "signature": "fn new(namespace: impl Into<String>, id: impl Into<String>)",
          "doc": "Create a new ActorId with validation\n\n# Errors\nReturns error if namespace or id exceeds length limits or contains invalid characters."
        },
        {
          "name": "new_unchecked",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "fn new_unchecked(namespace: String, id: String)",
          "attributes": [
            "doc(hidden)"
          ]
        },
        {
          "name": "namespace",
          "kind": "function",
          "line": 97,
          "visibility": "pub",
          "signature": "fn namespace(&self)",
          "doc": "Get the namespace"
        },
        {
          "name": "id",
          "kind": "function",
          "line": 102,
          "visibility": "pub",
          "signature": "fn id(&self)",
          "doc": "Get the id"
        },
        {
          "name": "qualified_name",
          "kind": "function",
          "line": 107,
          "visibility": "pub",
          "signature": "fn qualified_name(&self)",
          "doc": "Get the full qualified name (namespace:id)"
        },
        {
          "name": "to_key_bytes",
          "kind": "function",
          "line": 112,
          "visibility": "pub",
          "signature": "fn to_key_bytes(&self)",
          "doc": "Convert to bytes for storage keys"
        },
        {
          "name": "fmt::Display for ActorId",
          "kind": "impl",
          "line": 121,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 122,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "ActorRef",
          "kind": "struct",
          "line": 136,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ActorRef",
          "kind": "impl",
          "line": 143,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "fn new(id: ActorId)",
          "doc": "Create a new ActorRef from an ActorId"
        },
        {
          "name": "from_parts",
          "kind": "function",
          "line": 150,
          "visibility": "pub",
          "signature": "fn from_parts(namespace: impl Into<String>, id: impl Into<String>)",
          "doc": "Create a new ActorRef with the given namespace and id"
        },
        {
          "name": "From<ActorId> for ActorRef",
          "kind": "impl",
          "line": 157,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "fn from(id: ActorId)"
        },
        {
          "name": "Actor",
          "kind": "trait",
          "line": 174,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "ContextKV",
          "kind": "trait",
          "line": 232,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "NoOpKV",
          "kind": "struct",
          "line": 262,
          "visibility": "pub",
          "doc": "No-op KV implementation for contexts without storage access\n\nUsed when an actor doesn't need KV access or for testing."
        },
        {
          "name": "BufferedKVOp",
          "kind": "enum",
          "line": 270,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "BufferingContextKV",
          "kind": "struct",
          "line": 282,
          "visibility": "pub",
          "doc": "A ContextKV wrapper that buffers writes for transactional commit\n\nThis is used to make actor KV operations atomic with state persistence.\nAll set/delete operations are buffered and can be applied to a transaction\nafter the actor's invoke() completes.\n\nSupports read-your-writes: get() returns buffered values if present."
        },
        {
          "name": "BufferingContextKV",
          "kind": "impl",
          "line": 292,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 294,
          "visibility": "pub",
          "signature": "fn new(underlying: Box<dyn ContextKV>)",
          "doc": "Create a new buffering KV wrapper"
        },
        {
          "name": "drain_buffer",
          "kind": "function",
          "line": 306,
          "visibility": "pub",
          "signature": "fn drain_buffer(&self)",
          "doc": "Drain all buffered operations\n\nReturns the operations in order and clears the buffer.\nUsed by the runtime to apply operations to a transaction."
        },
        {
          "name": "has_buffered_ops",
          "kind": "function",
          "line": 311,
          "visibility": "pub",
          "signature": "fn has_buffered_ops(&self)",
          "doc": "Check if there are any buffered operations"
        },
        {
          "name": "into_inner",
          "kind": "function",
          "line": 318,
          "visibility": "pub",
          "signature": "fn into_inner(self)",
          "doc": "Take ownership of the underlying KV\n\nConsumes this wrapper and returns the underlying ContextKV."
        },
        {
          "name": "ArcContextKV",
          "kind": "struct",
          "line": 327,
          "visibility": "pub",
          "doc": "Wrapper to use `Arc`<`BufferingContextKV`> as `Box`<`dyn ContextKV`>\n\nThis allows sharing a BufferingContextKV between the context and the runtime\nso the runtime can drain the buffer after invoke() completes."
        },
        {
          "name": "ContextKV for ArcContextKV",
          "kind": "impl",
          "line": 330,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 331,
          "visibility": "private",
          "signature": "async fn get(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 335,
          "visibility": "private",
          "signature": "async fn set(&self, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 339,
          "visibility": "private",
          "signature": "async fn delete(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 343,
          "visibility": "private",
          "signature": "async fn exists(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 347,
          "visibility": "private",
          "signature": "async fn list_keys(&self, prefix: &[u8])",
          "is_async": true
        },
        {
          "name": "ContextKV for BufferingContextKV",
          "kind": "impl",
          "line": 353,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 354,
          "visibility": "private",
          "signature": "async fn get(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 363,
          "visibility": "private",
          "signature": "async fn set(&self, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 377,
          "visibility": "private",
          "signature": "async fn delete(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 388,
          "visibility": "private",
          "signature": "async fn exists(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 397,
          "visibility": "private",
          "signature": "async fn list_keys(&self, prefix: &[u8])",
          "is_async": true
        },
        {
          "name": "ContextKV for NoOpKV",
          "kind": "impl",
          "line": 419,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 420,
          "visibility": "private",
          "signature": "async fn get(&self, _key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 424,
          "visibility": "private",
          "signature": "async fn set(&self, _key: &[u8], _value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 428,
          "visibility": "private",
          "signature": "async fn delete(&self, _key: &[u8])",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 432,
          "visibility": "private",
          "signature": "async fn list_keys(&self, _prefix: &[u8])",
          "is_async": true
        },
        {
          "name": "ActorContext",
          "kind": "struct",
          "line": 447,
          "visibility": "pub",
          "doc": "Context provided to an actor during invocation\n\nProvides access to:\n- Actor's persistent state\n- Per-actor KV store (via kv() method)\n- Ability to invoke other actors (future phase)",
          "generic_params": [
            "S"
          ]
        },
        {
          "name": "ActorContext<S>",
          "kind": "impl",
          "line": 458,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 463,
          "visibility": "pub",
          "signature": "fn new(id: ActorId, state: S, kv: Box<dyn ContextKV>)",
          "doc": "Create a new ActorContext with KV access"
        },
        {
          "name": "with_default_state",
          "kind": "function",
          "line": 468,
          "visibility": "pub",
          "signature": "fn with_default_state(id: ActorId, kv: Box<dyn ContextKV>)",
          "doc": "Create a new ActorContext with default state and KV access"
        },
        {
          "name": "with_default_state_no_kv",
          "kind": "function",
          "line": 479,
          "visibility": "pub",
          "signature": "fn with_default_state_no_kv(id: ActorId)",
          "doc": "Create a new ActorContext with default state and no KV access\n\nUseful for testing actors that don't use KV operations."
        },
        {
          "name": "kv_get",
          "kind": "function",
          "line": 491,
          "visibility": "pub",
          "signature": "async fn kv_get(&self, key: &[u8])",
          "doc": "Get a value from the actor's KV store\n\nKeys are automatically scoped to this actor - they cannot\ncollide with other actors' data.",
          "is_async": true
        },
        {
          "name": "kv_set",
          "kind": "function",
          "line": 502,
          "visibility": "pub",
          "signature": "async fn kv_set(&self, key: &[u8], value: &[u8])",
          "doc": "Set a value in the actor's KV store\n\nKeys are automatically scoped to this actor.",
          "is_async": true
        },
        {
          "name": "kv_delete",
          "kind": "function",
          "line": 515,
          "visibility": "pub",
          "signature": "async fn kv_delete(&self, key: &[u8])",
          "doc": "Delete a value from the actor's KV store",
          "is_async": true
        },
        {
          "name": "kv_exists",
          "kind": "function",
          "line": 524,
          "visibility": "pub",
          "signature": "async fn kv_exists(&self, key: &[u8])",
          "doc": "Check if a key exists in the actor's KV store",
          "is_async": true
        },
        {
          "name": "kv_list_keys",
          "kind": "function",
          "line": 533,
          "visibility": "pub",
          "signature": "async fn kv_list_keys(&self, prefix: &[u8])",
          "doc": "List keys with a given prefix in the actor's KV store",
          "is_async": true
        },
        {
          "name": "swap_kv",
          "kind": "function",
          "line": 541,
          "visibility": "pub",
          "signature": "fn swap_kv(&mut self, new_kv: Box<dyn ContextKV>)",
          "doc": "Swap the KV implementation\n\nUsed by the runtime to inject a buffering KV for transactional operations.\nReturns the previous KV implementation."
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 547,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_actor_id_valid",
          "kind": "function",
          "line": 551,
          "visibility": "private",
          "signature": "fn test_actor_id_valid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_actor_id_invalid_chars",
          "kind": "function",
          "line": 559,
          "visibility": "private",
          "signature": "fn test_actor_id_invalid_chars()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_actor_id_too_long",
          "kind": "function",
          "line": 565,
          "visibility": "private",
          "signature": "fn test_actor_id_too_long()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_actor_ref_from_parts",
          "kind": "function",
          "line": 572,
          "visibility": "private",
          "signature": "fn test_actor_ref_from_parts()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_actor_id_display",
          "kind": "function",
          "line": 578,
          "visibility": "private",
          "signature": "fn test_actor_id_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::constants::*",
          "is_glob": true
        },
        {
          "path": "crate::error::Error"
        },
        {
          "path": "crate::error::Result"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "serde::de::DeserializeOwned"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::fmt"
        },
        {
          "path": "std::hash::Hash"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-core/src/http.rs",
      "symbols": [
        {
          "name": "HTTP_CLIENT_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 19,
          "visibility": "pub",
          "signature": "const HTTP_CLIENT_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default HTTP timeout in milliseconds"
        },
        {
          "name": "HTTP_CLIENT_RESPONSE_BYTES_MAX",
          "kind": "const",
          "line": 22,
          "visibility": "pub",
          "signature": "const HTTP_CLIENT_RESPONSE_BYTES_MAX: u64",
          "doc": "Maximum response body size in bytes"
        },
        {
          "name": "HttpMethod",
          "kind": "enum",
          "line": 30,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "std::fmt::Display for HttpMethod",
          "kind": "impl",
          "line": 38,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 39,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "HttpRequest",
          "kind": "struct",
          "line": 56,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "HttpRequest",
          "kind": "impl",
          "line": 69,
          "visibility": "private"
        },
        {
          "name": "get",
          "kind": "function",
          "line": 71,
          "visibility": "pub",
          "signature": "fn get(url: impl Into<String>)",
          "doc": "Create a new GET request"
        },
        {
          "name": "post",
          "kind": "function",
          "line": 82,
          "visibility": "pub",
          "signature": "fn post(url: impl Into<String>)",
          "doc": "Create a new POST request"
        },
        {
          "name": "with_body",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn with_body(mut self, body: impl Into<String>)",
          "doc": "Set request body"
        },
        {
          "name": "with_json_body",
          "kind": "function",
          "line": 99,
          "visibility": "pub",
          "signature": "fn with_json_body(mut self, json: &Value)",
          "doc": "Set JSON body"
        },
        {
          "name": "with_header",
          "kind": "function",
          "line": 107,
          "visibility": "pub",
          "signature": "fn with_header(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Add a header"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 113,
          "visibility": "pub",
          "signature": "fn with_timeout(mut self, timeout: Duration)",
          "doc": "Set timeout"
        },
        {
          "name": "HttpResponse",
          "kind": "struct",
          "line": 125,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "HttpResponse",
          "kind": "impl",
          "line": 134,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 136,
          "visibility": "pub",
          "signature": "fn new(status: u16, body: impl Into<String>)",
          "doc": "Create a new response"
        },
        {
          "name": "is_success",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "fn is_success(&self)",
          "doc": "Check if status is success (2xx)"
        },
        {
          "name": "json",
          "kind": "function",
          "line": 150,
          "visibility": "pub",
          "signature": "fn json(&self)",
          "doc": "Parse body as JSON"
        },
        {
          "name": "with_header",
          "kind": "function",
          "line": 155,
          "visibility": "pub",
          "signature": "fn with_header(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Add a header"
        },
        {
          "name": "HttpError",
          "kind": "enum",
          "line": 167,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "std::fmt::Display for HttpError",
          "kind": "impl",
          "line": 182,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 183,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for HttpError",
          "kind": "impl",
          "line": 205,
          "visibility": "private"
        },
        {
          "name": "HttpResult",
          "kind": "type_alias",
          "line": 208,
          "visibility": "pub",
          "doc": "HTTP client result type"
        },
        {
          "name": "HttpClient",
          "kind": "trait",
          "line": 220,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 237,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_http_request_builder",
          "kind": "function",
          "line": 241,
          "visibility": "private",
          "signature": "fn test_http_request_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_response",
          "kind": "function",
          "line": 256,
          "visibility": "private",
          "signature": "fn test_http_response()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_response_not_success",
          "kind": "function",
          "line": 267,
          "visibility": "private",
          "signature": "fn test_http_response_not_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_method_display",
          "kind": "function",
          "line": 273,
          "visibility": "private",
          "signature": "fn test_http_method_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-runtime/src/runtime.rs",
      "symbols": [
        {
          "name": "RuntimeConfig",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "RuntimeBuilder",
          "kind": "struct",
          "line": 26,
          "visibility": "pub",
          "doc": "Builder for creating a runtime",
          "generic_params": [
            "A",
            "S",
            "R"
          ]
        },
        {
          "name": "RuntimeBuilder<A, S, R>",
          "kind": "impl",
          "line": 39,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 46,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new runtime builder"
        },
        {
          "name": "with_factory",
          "kind": "function",
          "line": 57,
          "visibility": "pub",
          "signature": "fn with_factory(mut self, factory: Arc<dyn ActorFactory<A>>)",
          "doc": "Set the actor factory"
        },
        {
          "name": "with_kv",
          "kind": "function",
          "line": 63,
          "visibility": "pub",
          "signature": "fn with_kv(mut self, kv: Arc<dyn ActorKV>)",
          "doc": "Set the KV store"
        },
        {
          "name": "with_runtime",
          "kind": "function",
          "line": 69,
          "visibility": "pub",
          "signature": "fn with_runtime(mut self, runtime: R)",
          "doc": "Set the runtime"
        },
        {
          "name": "with_config",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn with_config(mut self, config: RuntimeConfig)",
          "doc": "Set the configuration"
        },
        {
          "name": "build",
          "kind": "function",
          "line": 81,
          "visibility": "pub",
          "signature": "fn build(self)",
          "doc": "Build the runtime"
        },
        {
          "name": "Default for RuntimeBuilder<A, S, R>",
          "kind": "impl",
          "line": 98,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 104,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "RuntimeBuilder<A, S, R>",
          "kind": "impl",
          "line": 110,
          "visibility": "private",
          "doc": "Convenience method to create runtime for cloneable actors"
        },
        {
          "name": "with_actor",
          "kind": "function",
          "line": 117,
          "visibility": "pub",
          "signature": "fn with_actor(self, actor: A)",
          "doc": "Set a prototype actor (will be cloned for each activation)"
        },
        {
          "name": "Runtime",
          "kind": "struct",
          "line": 125,
          "visibility": "pub",
          "doc": "The main Kelpie runtime\n\nManages actor lifecycle, message routing, and coordination.",
          "generic_params": [
            "A",
            "S",
            "R"
          ]
        },
        {
          "name": "Runtime<A, S, R>",
          "kind": "impl",
          "line": 145,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 152,
          "visibility": "pub",
          "signature": "fn new(\n        factory: Arc<dyn ActorFactory<A>>,\n        kv: Arc<dyn ActorKV>,\n        config: RuntimeConfig,\n        runtime: R,\n    )",
          "doc": "Create a new runtime"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 174,
          "visibility": "pub",
          "signature": "fn start(&mut self)",
          "attributes": [
            "instrument(skip(self), level = \"info\")"
          ]
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 196,
          "visibility": "pub",
          "signature": "async fn stop(&mut self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), level = \"info\")"
          ]
        },
        {
          "name": "dispatcher_handle",
          "kind": "function",
          "line": 208,
          "visibility": "pub",
          "signature": "fn dispatcher_handle(&self)",
          "doc": "Get a handle to the dispatcher"
        },
        {
          "name": "actor_handles",
          "kind": "function",
          "line": 213,
          "visibility": "pub",
          "signature": "fn actor_handles(&self)",
          "doc": "Get an actor handle builder"
        },
        {
          "name": "actor",
          "kind": "function",
          "line": 218,
          "visibility": "pub",
          "signature": "fn actor(&self, actor_id: ActorId)",
          "doc": "Get a handle to a specific actor"
        },
        {
          "name": "actor_by_parts",
          "kind": "function",
          "line": 223,
          "visibility": "pub",
          "signature": "fn actor_by_parts(\n        &self,\n        namespace: impl Into<String>,\n        id: impl Into<String>,\n    )",
          "doc": "Get a handle to a specific actor by namespace and id"
        },
        {
          "name": "is_running",
          "kind": "function",
          "line": 233,
          "visibility": "pub",
          "signature": "fn is_running(&self)",
          "doc": "Check if the runtime is running"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 238,
          "visibility": "pub",
          "signature": "fn config(&self)",
          "doc": "Get the runtime configuration"
        },
        {
          "name": "Drop for Runtime<A, S, R>",
          "kind": "impl",
          "line": 243,
          "visibility": "private"
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 249,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 259,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "CounterState",
          "kind": "struct",
          "line": 268,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Default, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "CounterActor",
          "kind": "struct",
          "line": 273,
          "visibility": "private",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "Actor for CounterActor",
          "kind": "impl",
          "line": 276,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_runtime_basic",
          "kind": "function",
          "line": 299,
          "visibility": "private",
          "signature": "async fn test_runtime_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_runtime_multiple_actors",
          "kind": "function",
          "line": 328,
          "visibility": "private",
          "signature": "async fn test_runtime_multiple_actors()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_runtime_state_persistence",
          "kind": "function",
          "line": 362,
          "visibility": "private",
          "signature": "async fn test_runtime_state_persistence()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::dispatcher::ActorFactory"
        },
        {
          "path": "crate::dispatcher::CloneFactory"
        },
        {
          "path": "crate::dispatcher::Dispatcher"
        },
        {
          "path": "crate::dispatcher::DispatcherConfig"
        },
        {
          "path": "crate::dispatcher::DispatcherHandle"
        },
        {
          "path": "crate::handle::ActorHandle"
        },
        {
          "path": "crate::handle::ActorHandleBuilder"
        },
        {
          "path": "kelpie_core::actor::Actor"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::actor::ActorRef"
        },
        {
          "path": "kelpie_core::error::Error"
        },
        {
          "path": "kelpie_core::error::Result"
        },
        {
          "path": "kelpie_storage::ActorKV"
        },
        {
          "path": "serde::de::DeserializeOwned"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::future::Future"
        },
        {
          "path": "std::pin::Pin"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorContext"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_storage::MemoryKV"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-runtime/src/handle.rs",
      "symbols": [
        {
          "name": "ActorHandle",
          "kind": "struct",
          "line": 16,
          "visibility": "pub",
          "generic_params": [
            "R"
          ],
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "ActorHandle<R>",
          "kind": "impl",
          "line": 25,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 27,
          "visibility": "pub",
          "signature": "fn new(actor_ref: ActorRef, dispatcher: DispatcherHandle<R>)",
          "doc": "Create a new actor handle"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 36,
          "visibility": "pub",
          "signature": "fn with_timeout(mut self, timeout: Duration)",
          "doc": "Create a handle with a default timeout"
        },
        {
          "name": "actor_ref",
          "kind": "function",
          "line": 42,
          "visibility": "pub",
          "signature": "fn actor_ref(&self)",
          "doc": "Get the actor's reference"
        },
        {
          "name": "id",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "fn id(&self)",
          "doc": "Get the actor's ID"
        },
        {
          "name": "invoke",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "async fn invoke(&self, operation: impl Into<String>, payload: Bytes)",
          "doc": "Invoke the actor with an operation and payload",
          "is_async": true
        },
        {
          "name": "invoke_inner",
          "kind": "function",
          "line": 74,
          "visibility": "private",
          "signature": "async fn invoke_inner(&self, operation: &str, payload: Bytes)",
          "doc": "Internal invoke without timeout",
          "is_async": true
        },
        {
          "name": "request",
          "kind": "function",
          "line": 83,
          "visibility": "pub",
          "signature": "async fn request<Req, Resp>(\n        &self,\n        operation: impl Into<String>,\n        request: &Req,\n    )",
          "doc": "Invoke with a typed request and response\n\nSerializes the request to JSON, invokes the actor, and deserializes the response.",
          "is_async": true,
          "generic_params": [
            "Req",
            "Resp"
          ]
        },
        {
          "name": "send",
          "kind": "function",
          "line": 104,
          "visibility": "pub",
          "signature": "async fn send(&self, operation: impl Into<String>, payload: Bytes)",
          "doc": "Send a fire-and-forget message (no response expected)",
          "is_async": true
        },
        {
          "name": "deactivate",
          "kind": "function",
          "line": 112,
          "visibility": "pub",
          "signature": "async fn deactivate(&self)",
          "doc": "Deactivate the actor\n\nThe actor will be reactivated on the next invocation.",
          "is_async": true
        },
        {
          "name": "ActorHandleBuilder",
          "kind": "struct",
          "line": 118,
          "visibility": "pub",
          "doc": "Builder for creating actor handles",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "ActorHandleBuilder<R>",
          "kind": "impl",
          "line": 122,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 124,
          "visibility": "pub",
          "signature": "fn new(dispatcher: DispatcherHandle<R>)",
          "doc": "Create a new builder"
        },
        {
          "name": "for_actor",
          "kind": "function",
          "line": 129,
          "visibility": "pub",
          "signature": "fn for_actor(&self, actor_id: ActorId)",
          "doc": "Create a handle for the given actor ID"
        },
        {
          "name": "for_parts",
          "kind": "function",
          "line": 134,
          "visibility": "pub",
          "signature": "fn for_parts(\n        &self,\n        namespace: impl Into<String>,\n        id: impl Into<String>,\n    )",
          "doc": "Create a handle for the given namespace and ID"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 145,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "EchoState",
          "kind": "struct",
          "line": 155,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Default, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "EchoActor",
          "kind": "struct",
          "line": 158,
          "visibility": "private",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "Actor for EchoActor",
          "kind": "impl",
          "line": 161,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_actor_handle_basic",
          "kind": "function",
          "line": 184,
          "visibility": "private",
          "signature": "async fn test_actor_handle_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_actor_handle_builder",
          "kind": "function",
          "line": 219,
          "visibility": "private",
          "signature": "async fn test_actor_handle_builder()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_actor_handle_timeout",
          "kind": "function",
          "line": 248,
          "visibility": "private",
          "signature": "async fn test_actor_handle_timeout()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "EchoRequest",
          "kind": "struct",
          "line": 279,
          "visibility": "private",
          "attributes": [
            "derive(serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "EchoResponse",
          "kind": "struct",
          "line": 284,
          "visibility": "private",
          "attributes": [
            "derive(serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "JsonEchoState",
          "kind": "struct",
          "line": 289,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Default, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "JsonEchoActor",
          "kind": "struct",
          "line": 292,
          "visibility": "private",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "Actor for JsonEchoActor",
          "kind": "impl",
          "line": 295,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_actor_handle_typed_request",
          "kind": "function",
          "line": 326,
          "visibility": "private",
          "signature": "async fn test_actor_handle_typed_request()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::dispatcher::DispatcherHandle"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::actor::ActorRef"
        },
        {
          "path": "kelpie_core::error::Error"
        },
        {
          "path": "kelpie_core::error::Result"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::dispatcher::CloneFactory"
        },
        {
          "path": "crate::dispatcher::Dispatcher"
        },
        {
          "path": "crate::dispatcher::DispatcherConfig"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::actor::Actor"
        },
        {
          "path": "kelpie_core::actor::ActorContext"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_storage::MemoryKV"
        },
        {
          "path": "std::sync::Arc"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-runtime/src/lib.rs",
      "symbols": [
        {
          "name": "activation",
          "kind": "mod",
          "line": 18,
          "visibility": "pub"
        },
        {
          "name": "dispatcher",
          "kind": "mod",
          "line": 19,
          "visibility": "pub"
        },
        {
          "name": "handle",
          "kind": "mod",
          "line": 20,
          "visibility": "pub"
        },
        {
          "name": "mailbox",
          "kind": "mod",
          "line": 21,
          "visibility": "pub"
        },
        {
          "name": "runtime",
          "kind": "mod",
          "line": 22,
          "visibility": "pub"
        }
      ],
      "imports": [
        {
          "path": "activation::ActivationState"
        },
        {
          "path": "activation::ActivationStats"
        },
        {
          "path": "activation::ActiveActor"
        },
        {
          "path": "dispatcher::ActorFactory"
        },
        {
          "path": "dispatcher::CloneFactory"
        },
        {
          "path": "dispatcher::Dispatcher"
        },
        {
          "path": "dispatcher::DispatcherCommand"
        },
        {
          "path": "dispatcher::DispatcherConfig"
        },
        {
          "path": "dispatcher::DispatcherHandle"
        },
        {
          "path": "handle::ActorHandle"
        },
        {
          "path": "handle::ActorHandleBuilder"
        },
        {
          "path": "mailbox::Envelope"
        },
        {
          "path": "mailbox::Mailbox"
        },
        {
          "path": "mailbox::MailboxFullError"
        },
        {
          "path": "runtime::Runtime"
        },
        {
          "path": "runtime::RuntimeBuilder"
        },
        {
          "path": "runtime::RuntimeConfig"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-runtime/src/dispatcher.rs",
      "symbols": [
        {
          "name": "RequestForwarder",
          "kind": "trait",
          "line": 30,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "DispatcherConfig",
          "kind": "struct",
          "line": 49,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for DispatcherConfig",
          "kind": "impl",
          "line": 58,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 59,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "DispatcherCommand",
          "kind": "enum",
          "line": 70,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "PendingGuard",
          "kind": "struct",
          "line": 85,
          "visibility": "private",
          "doc": "Guard that decrements a counter on drop"
        },
        {
          "name": "Drop for PendingGuard",
          "kind": "impl",
          "line": 89,
          "visibility": "private"
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 90,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        },
        {
          "name": "DispatcherHandle",
          "kind": "struct",
          "line": 97,
          "visibility": "pub",
          "generic_params": [
            "R"
          ],
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "DispatcherHandle<R>",
          "kind": "impl",
          "line": 107,
          "visibility": "private"
        },
        {
          "name": "invoke",
          "kind": "function",
          "line": 111,
          "visibility": "pub",
          "signature": "async fn invoke(\n        &self,\n        actor_id: ActorId,\n        operation: String,\n        payload: Bytes,\n    )",
          "doc": "Invoke an actor\n\nReturns an error if the actor has too many pending invocations.",
          "is_async": true
        },
        {
          "name": "deactivate",
          "kind": "function",
          "line": 166,
          "visibility": "pub",
          "signature": "async fn deactivate(&self, actor_id: ActorId)",
          "doc": "Deactivate an actor",
          "is_async": true
        },
        {
          "name": "shutdown",
          "kind": "function",
          "line": 176,
          "visibility": "pub",
          "signature": "async fn shutdown(&self)",
          "doc": "Shutdown the dispatcher",
          "is_async": true
        },
        {
          "name": "ActorFactory",
          "kind": "trait",
          "line": 187,
          "visibility": "pub",
          "doc": "Factory for creating actors",
          "generic_params": [
            "A"
          ]
        },
        {
          "name": "CloneFactory",
          "kind": "struct",
          "line": 196,
          "visibility": "pub",
          "doc": "Simple factory that clones a prototype actor",
          "generic_params": [
            "A"
          ]
        },
        {
          "name": "CloneFactory<A>",
          "kind": "impl",
          "line": 200,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 202,
          "visibility": "pub",
          "signature": "fn new(prototype: A)",
          "doc": "Create a new clone factory"
        },
        {
          "name": "ActorFactory<A> for CloneFactory<A>",
          "kind": "impl",
          "line": 207,
          "visibility": "private"
        },
        {
          "name": "create",
          "kind": "function",
          "line": 211,
          "visibility": "private",
          "signature": "fn create(&self, _id: &ActorId)"
        },
        {
          "name": "Dispatcher",
          "kind": "struct",
          "line": 220,
          "visibility": "pub",
          "doc": "Dispatcher for routing messages to actors\n\nManages actor lifecycle and message routing.\nOptionally integrates with a distributed registry for single-activation guarantee.",
          "generic_params": [
            "A",
            "S",
            "R"
          ]
        },
        {
          "name": "Dispatcher<A, S, R>",
          "kind": "impl",
          "line": 252,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 261,
          "visibility": "pub",
          "signature": "fn new(\n        factory: Arc<dyn ActorFactory<A>>,\n        kv: Arc<dyn ActorKV>,\n        config: DispatcherConfig,\n        runtime: R,\n    )",
          "doc": "Create a new dispatcher (local mode without registry)\n\nUses production wall clock. For DST, use `with_time`."
        },
        {
          "name": "with_time",
          "kind": "function",
          "line": 271,
          "visibility": "pub",
          "signature": "fn with_time(\n        factory: Arc<dyn ActorFactory<A>>,\n        kv: Arc<dyn ActorKV>,\n        config: DispatcherConfig,\n        runtime: R,\n        time: Arc<dyn TimeProvider>,\n    )",
          "doc": "Create a new dispatcher with custom time provider (for DST)"
        },
        {
          "name": "with_registry",
          "kind": "function",
          "line": 303,
          "visibility": "pub",
          "signature": "fn with_registry(\n        factory: Arc<dyn ActorFactory<A>>,\n        kv: Arc<dyn ActorKV>,\n        config: DispatcherConfig,\n        runtime: R,\n        registry: Arc<dyn Registry>,\n        node_id: NodeId,\n    )",
          "doc": "Create a new dispatcher with registry integration (distributed mode)\n\nIn distributed mode, the dispatcher will:\n- Claim actors in the registry before local activation\n- Release actors from the registry on deactivation\n- Respect single-activation guarantees\n- Forward requests to other nodes when forwarder is provided"
        },
        {
          "name": "with_registry_and_time",
          "kind": "function",
          "line": 323,
          "visibility": "pub",
          "signature": "fn with_registry_and_time(\n        factory: Arc<dyn ActorFactory<A>>,\n        kv: Arc<dyn ActorKV>,\n        config: DispatcherConfig,\n        runtime: R,\n        registry: Arc<dyn Registry>,\n        node_id: NodeId,\n        time: Arc<dyn TimeProvider>,\n    )",
          "doc": "Create a new dispatcher with registry and custom time provider (for DST)"
        },
        {
          "name": "with_forwarder",
          "kind": "function",
          "line": 354,
          "visibility": "pub",
          "signature": "fn with_forwarder(mut self, forwarder: Arc<dyn RequestForwarder>)",
          "doc": "Set a request forwarder for distributed mode\n\nWhen set, requests for actors on other nodes will be forwarded\ninstead of returning an error."
        },
        {
          "name": "handle",
          "kind": "function",
          "line": 360,
          "visibility": "pub",
          "signature": "fn handle(&self)",
          "doc": "Get a handle to the dispatcher"
        },
        {
          "name": "run",
          "kind": "function",
          "line": 371,
          "visibility": "pub",
          "signature": "async fn run(&mut self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), level = \"info\")"
          ]
        },
        {
          "name": "handle_invoke",
          "kind": "function",
          "line": 409,
          "visibility": "private",
          "signature": "async fn handle_invoke(\n        &mut self,\n        actor_id: ActorId,\n        operation: &str,\n        payload: Bytes,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, payload), fields(actor_id = %actor_id, operation), level = \"debug\")"
          ]
        },
        {
          "name": "activate_actor",
          "kind": "function",
          "line": 494,
          "visibility": "private",
          "signature": "async fn activate_actor(&mut self, actor_id: ActorId)",
          "doc": "Activate an actor\n\nIn distributed mode, claims the actor in the registry first.\nReturns an error if the actor is already activated on another node.",
          "is_async": true
        },
        {
          "name": "handle_deactivate",
          "kind": "function",
          "line": 568,
          "visibility": "private",
          "signature": "async fn handle_deactivate(&mut self, actor_id: &ActorId)",
          "doc": "Handle a deactivate command\n\nIn distributed mode, releases the actor from the registry after local deactivation.",
          "is_async": true
        },
        {
          "name": "shutdown",
          "kind": "function",
          "line": 599,
          "visibility": "private",
          "signature": "async fn shutdown(&mut self)",
          "doc": "Shutdown all actors\n\nIn distributed mode, releases all actors from the registry.",
          "is_async": true
        },
        {
          "name": "active_actor_count",
          "kind": "function",
          "line": 625,
          "visibility": "pub",
          "signature": "fn active_actor_count(&self)",
          "doc": "Get the number of active actors"
        },
        {
          "name": "is_active",
          "kind": "function",
          "line": 630,
          "visibility": "pub",
          "signature": "fn is_active(&self, actor_id: &ActorId)",
          "doc": "Check if an actor is active"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 636,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "CounterState",
          "kind": "struct",
          "line": 644,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Default, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "CounterActor",
          "kind": "struct",
          "line": 649,
          "visibility": "private",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "Actor for CounterActor",
          "kind": "impl",
          "line": 652,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_dispatcher_basic",
          "kind": "function",
          "line": 675,
          "visibility": "private",
          "signature": "async fn test_dispatcher_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_multiple_actors",
          "kind": "function",
          "line": 711,
          "visibility": "private",
          "signature": "async fn test_dispatcher_multiple_actors()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_deactivate",
          "kind": "function",
          "line": 763,
          "visibility": "private",
          "signature": "async fn test_dispatcher_deactivate()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_max_pending_per_actor",
          "kind": "function",
          "line": 812,
          "visibility": "private",
          "signature": "async fn test_dispatcher_max_pending_per_actor()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_max_pending_concurrent",
          "kind": "function",
          "line": 849,
          "visibility": "private",
          "signature": "async fn test_dispatcher_max_pending_concurrent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_with_registry_single_node",
          "kind": "function",
          "line": 922,
          "visibility": "private",
          "signature": "async fn test_dispatcher_with_registry_single_node()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_distributed_single_activation",
          "kind": "function",
          "line": 973,
          "visibility": "private",
          "signature": "async fn test_dispatcher_distributed_single_activation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_deactivate_releases_from_registry",
          "kind": "function",
          "line": 1070,
          "visibility": "private",
          "signature": "async fn test_dispatcher_deactivate_releases_from_registry()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dispatcher_shutdown_releases_all_from_registry",
          "kind": "function",
          "line": 1130,
          "visibility": "private",
          "signature": "async fn test_dispatcher_shutdown_releases_all_from_registry()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::activation::ActiveActor"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::Actor"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::constants::ACTOR_CONCURRENT_COUNT_MAX"
        },
        {
          "path": "kelpie_core::constants::INVOCATION_PENDING_COUNT_MAX"
        },
        {
          "path": "kelpie_core::error::Error"
        },
        {
          "path": "kelpie_core::error::Result"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "kelpie_core::metrics"
        },
        {
          "path": "kelpie_registry::NodeId"
        },
        {
          "path": "kelpie_registry::PlacementDecision"
        },
        {
          "path": "kelpie_registry::Registry"
        },
        {
          "path": "kelpie_storage::ActorKV"
        },
        {
          "path": "serde::de::DeserializeOwned"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::atomic::AtomicUsize"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::sync::Mutex"
        },
        {
          "path": "tokio::sync::mpsc"
        },
        {
          "path": "tokio::sync::oneshot"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::error"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::actor::ActorContext"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_storage::MemoryKV"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-runtime/src/mailbox.rs",
      "symbols": [
        {
          "name": "MailboxFullError",
          "kind": "struct",
          "line": 15,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "std::fmt::Display for MailboxFullError",
          "kind": "impl",
          "line": 20,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 21,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for MailboxFullError",
          "kind": "impl",
          "line": 30,
          "visibility": "private"
        },
        {
          "name": "Envelope",
          "kind": "struct",
          "line": 34,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "Envelope",
          "kind": "impl",
          "line": 45,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 49,
          "visibility": "pub",
          "signature": "fn new(\n        operation: String,\n        payload: Bytes,\n        reply_tx: oneshot::Sender<Result<Bytes, kelpie_core::Error>>,\n    )",
          "doc": "Create a new envelope using production wall clock\n\nFor DST, use `new_with_time`."
        },
        {
          "name": "new_with_time",
          "kind": "function",
          "line": 58,
          "visibility": "pub",
          "signature": "fn new_with_time(\n        operation: String,\n        payload: Bytes,\n        reply_tx: oneshot::Sender<Result<Bytes, kelpie_core::Error>>,\n        time: &dyn TimeProvider,\n    )",
          "doc": "Create a new envelope with injected time provider (for DST)"
        },
        {
          "name": "wait_time_ms",
          "kind": "function",
          "line": 77,
          "visibility": "pub",
          "signature": "fn wait_time_ms(&self)",
          "doc": "Get the time this message has been waiting in milliseconds\n\nFor DST, use `wait_time_ms_with_time`."
        },
        {
          "name": "wait_time_ms_with_time",
          "kind": "function",
          "line": 82,
          "visibility": "pub",
          "signature": "fn wait_time_ms_with_time(&self, time: &dyn TimeProvider)",
          "doc": "Get the time this message has been waiting in milliseconds with injected time (for DST)"
        },
        {
          "name": "Mailbox",
          "kind": "struct",
          "line": 94,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "Mailbox",
          "kind": "impl",
          "line": 105,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 107,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new mailbox with default capacity"
        },
        {
          "name": "with_capacity",
          "kind": "function",
          "line": 112,
          "visibility": "pub",
          "signature": "fn with_capacity(capacity: usize)",
          "doc": "Create a new mailbox with specified capacity"
        },
        {
          "name": "push",
          "kind": "function",
          "line": 130,
          "visibility": "pub",
          "signature": "fn push(&mut self, envelope: Envelope)",
          "doc": "Try to enqueue a message\n\nReturns error if mailbox is full."
        },
        {
          "name": "pop",
          "kind": "function",
          "line": 146,
          "visibility": "pub",
          "signature": "fn pop(&mut self)",
          "doc": "Pop the next message from the mailbox"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 155,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if the mailbox is empty"
        },
        {
          "name": "len",
          "kind": "function",
          "line": 160,
          "visibility": "pub",
          "signature": "fn len(&self)",
          "doc": "Get the number of pending messages"
        },
        {
          "name": "capacity",
          "kind": "function",
          "line": 165,
          "visibility": "pub",
          "signature": "fn capacity(&self)",
          "doc": "Get the mailbox capacity"
        },
        {
          "name": "enqueued_count",
          "kind": "function",
          "line": 170,
          "visibility": "pub",
          "signature": "fn enqueued_count(&self)",
          "doc": "Get total messages enqueued"
        },
        {
          "name": "processed_count",
          "kind": "function",
          "line": 175,
          "visibility": "pub",
          "signature": "fn processed_count(&self)",
          "doc": "Get total messages processed"
        },
        {
          "name": "drain",
          "kind": "function",
          "line": 182,
          "visibility": "pub",
          "signature": "fn drain(&mut self)",
          "doc": "Drain all pending messages\n\nUsed during deactivation to reject pending messages."
        },
        {
          "name": "Default for Mailbox",
          "kind": "impl",
          "line": 187,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 188,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 194,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_envelope",
          "kind": "function",
          "line": 198,
          "visibility": "private",
          "signature": "fn create_envelope(operation: &str)"
        },
        {
          "name": "test_mailbox_push_pop",
          "kind": "function",
          "line": 204,
          "visibility": "private",
          "signature": "fn test_mailbox_push_pop()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mailbox_full",
          "kind": "function",
          "line": 224,
          "visibility": "private",
          "signature": "fn test_mailbox_full()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mailbox_fifo_order",
          "kind": "function",
          "line": 239,
          "visibility": "private",
          "signature": "fn test_mailbox_fifo_order()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mailbox_metrics",
          "kind": "function",
          "line": 253,
          "visibility": "private",
          "signature": "fn test_mailbox_metrics()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mailbox_drain",
          "kind": "function",
          "line": 273,
          "visibility": "private",
          "signature": "fn test_mailbox_drain()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "std::collections::VecDeque"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "tokio::sync::oneshot"
        },
        {
          "path": "kelpie_core::constants::MAILBOX_DEPTH_MAX"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "bytes::Bytes"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-runtime/src/activation.rs",
      "symbols": [
        {
          "name": "STATE_KEY",
          "kind": "const",
          "line": 20,
          "visibility": "private",
          "signature": "const STATE_KEY: &[u8]",
          "doc": "State key for actor's serialized state"
        },
        {
          "name": "ActivationState",
          "kind": "enum",
          "line": 24,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "std::fmt::Display for ActivationState",
          "kind": "impl",
          "line": 35,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 36,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "ActivationStats",
          "kind": "struct",
          "line": 50,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "ActivationStats",
          "kind": "impl",
          "line": 63,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 65,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create new stats with activation time (uses production wall clock)"
        },
        {
          "name": "with_time",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn with_time(time: &dyn TimeProvider)",
          "doc": "Create new stats with custom time provider (for DST)"
        },
        {
          "name": "record_invocation",
          "kind": "function",
          "line": 83,
          "visibility": "pub",
          "signature": "fn record_invocation(&mut self, duration_ms: u64, is_error: bool)",
          "doc": "Record an invocation (uses wall clock time)\n\nFor DST compatibility, use `record_invocation_with_time` instead."
        },
        {
          "name": "record_invocation_with_time",
          "kind": "function",
          "line": 88,
          "visibility": "pub",
          "signature": "fn record_invocation_with_time(\n        &mut self,\n        duration_ms: u64,\n        is_error: bool,\n        time: &dyn TimeProvider,\n    )",
          "doc": "Record an invocation with time provider (for DST)"
        },
        {
          "name": "idle_time_ms",
          "kind": "function",
          "line": 103,
          "visibility": "pub",
          "signature": "fn idle_time_ms(&self, time: &dyn TimeProvider)",
          "doc": "Get idle time (time since last activity) using time provider"
        },
        {
          "name": "average_processing_time",
          "kind": "function",
          "line": 115,
          "visibility": "pub",
          "signature": "fn average_processing_time(&self)",
          "doc": "Get average processing time per invocation"
        },
        {
          "name": "ActiveActor",
          "kind": "struct",
          "line": 128,
          "visibility": "pub",
          "doc": "An active actor instance\n\nTigerStyle: Single activation guarantee - only one ActiveActor per ActorId\ncan exist in the cluster at any time.",
          "generic_params": [
            "A",
            "S"
          ]
        },
        {
          "name": "ActiveActor<A, S>",
          "kind": "impl",
          "line": 153,
          "visibility": "private"
        },
        {
          "name": "activate",
          "kind": "function",
          "line": 162,
          "visibility": "pub",
          "signature": "async fn activate(id: ActorId, actor: A, kv: Arc<dyn ActorKV>)",
          "is_async": true,
          "attributes": [
            "instrument(skip(actor, kv), fields(actor_id = %id), level = \"info\")"
          ]
        },
        {
          "name": "activate_with_time",
          "kind": "function",
          "line": 170,
          "visibility": "pub",
          "signature": "async fn activate_with_time(\n        id: ActorId,\n        actor: A,\n        kv: Arc<dyn ActorKV>,\n        time: Arc<dyn TimeProvider>,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(actor, kv, time), fields(actor_id = %id), level = \"info\")"
          ]
        },
        {
          "name": "load_state",
          "kind": "function",
          "line": 213,
          "visibility": "private",
          "signature": "async fn load_state(&mut self)",
          "doc": "Load state from storage",
          "is_async": true
        },
        {
          "name": "save_state",
          "kind": "function",
          "line": 234,
          "visibility": "private",
          "signature": "async fn save_state(&mut self)",
          "doc": "Save state to storage",
          "is_async": true
        },
        {
          "name": "process_invocation",
          "kind": "function",
          "line": 258,
          "visibility": "pub",
          "signature": "async fn process_invocation(&mut self, operation: &str, payload: Bytes)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, payload), fields(actor_id = %self.id, operation), level = \"info\")"
          ]
        },
        {
          "name": "process_invocation_with_time",
          "kind": "function",
          "line": 271,
          "visibility": "pub",
          "signature": "async fn process_invocation_with_time(\n        &mut self,\n        operation: &str,\n        payload: Bytes,\n        time: Arc<dyn TimeProvider>,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, payload, time), fields(actor_id = %self.id, operation), level = \"info\")"
          ]
        },
        {
          "name": "save_all_transactional",
          "kind": "function",
          "line": 375,
          "visibility": "private",
          "signature": "async fn save_all_transactional(&mut self, buffered_ops: &[BufferedKVOp])",
          "doc": "Save state AND buffered KV operations atomically in a single transaction\n\nThis ensures that all changes made during an invocation (both state and KV)\nare persisted atomically. If the transaction fails, neither state nor KV\nchanges are persisted.\n\nTigerStyle: Atomic persistence of all invocation changes.",
          "is_async": true
        },
        {
          "name": "enqueue",
          "kind": "function",
          "line": 426,
          "visibility": "pub",
          "signature": "fn enqueue(\n        &mut self,\n        envelope: Envelope,\n    )",
          "doc": "Enqueue a message in the mailbox"
        },
        {
          "name": "dequeue",
          "kind": "function",
          "line": 434,
          "visibility": "pub",
          "signature": "fn dequeue(&mut self)",
          "doc": "Get the next message from the mailbox"
        },
        {
          "name": "has_pending_messages",
          "kind": "function",
          "line": 439,
          "visibility": "pub",
          "signature": "fn has_pending_messages(&self)",
          "doc": "Check if the actor has pending messages"
        },
        {
          "name": "pending_message_count",
          "kind": "function",
          "line": 444,
          "visibility": "pub",
          "signature": "fn pending_message_count(&self)",
          "doc": "Get the number of pending messages"
        },
        {
          "name": "deactivate",
          "kind": "function",
          "line": 452,
          "visibility": "pub",
          "signature": "async fn deactivate(&mut self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %self.id), level = \"info\")"
          ]
        },
        {
          "name": "should_deactivate",
          "kind": "function",
          "line": 492,
          "visibility": "pub",
          "signature": "fn should_deactivate(&self)",
          "doc": "Check if the actor should be deactivated due to idle timeout"
        },
        {
          "name": "activation_state",
          "kind": "function",
          "line": 499,
          "visibility": "pub",
          "signature": "fn activation_state(&self)",
          "doc": "Get the current activation state"
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 504,
          "visibility": "pub",
          "signature": "fn stats(&self)",
          "doc": "Get the actor's statistics"
        },
        {
          "name": "set_idle_timeout",
          "kind": "function",
          "line": 509,
          "visibility": "pub",
          "signature": "fn set_idle_timeout(&mut self, timeout: Duration)",
          "doc": "Set the idle timeout"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 518,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "CounterState",
          "kind": "struct",
          "line": 524,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Default, Clone, Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "CounterActor",
          "kind": "struct",
          "line": 528,
          "visibility": "private"
        },
        {
          "name": "Actor for CounterActor",
          "kind": "impl",
          "line": 531,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "create_kv",
          "kind": "function",
          "line": 553,
          "visibility": "private",
          "signature": "fn create_kv()"
        },
        {
          "name": "test_actor_activation",
          "kind": "function",
          "line": 558,
          "visibility": "private",
          "signature": "async fn test_actor_activation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_actor_invocation",
          "kind": "function",
          "line": 571,
          "visibility": "private",
          "signature": "async fn test_actor_invocation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_actor_state_persistence",
          "kind": "function",
          "line": 597,
          "visibility": "private",
          "signature": "async fn test_actor_state_persistence()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_actor_deactivation",
          "kind": "function",
          "line": 629,
          "visibility": "private",
          "signature": "async fn test_actor_deactivation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_activation_stats",
          "kind": "function",
          "line": 641,
          "visibility": "private",
          "signature": "fn test_activation_stats()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "KVActorState",
          "kind": "struct",
          "line": 659,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Default, Clone, Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "KVTestActor",
          "kind": "struct",
          "line": 663,
          "visibility": "private"
        },
        {
          "name": "Actor for KVTestActor",
          "kind": "impl",
          "line": 666,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_actor_kv_operations",
          "kind": "function",
          "line": 718,
          "visibility": "private",
          "signature": "async fn test_actor_kv_operations()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_actor_kv_persistence",
          "kind": "function",
          "line": 768,
          "visibility": "private",
          "signature": "async fn test_actor_kv_persistence()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_actor_kv_list_keys",
          "kind": "function",
          "line": 796,
          "visibility": "private",
          "signature": "async fn test_actor_kv_list_keys()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::mailbox::Envelope"
        },
        {
          "path": "crate::mailbox::Mailbox"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::Actor"
        },
        {
          "path": "kelpie_core::actor::ActorContext"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::actor::ArcContextKV"
        },
        {
          "path": "kelpie_core::actor::BufferedKVOp"
        },
        {
          "path": "kelpie_core::actor::BufferingContextKV"
        },
        {
          "path": "kelpie_core::constants::ACTOR_IDLE_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "kelpie_core::constants::ACTOR_INVOCATION_TIMEOUT_MS_MAX"
        },
        {
          "path": "kelpie_core::error::Error"
        },
        {
          "path": "kelpie_core::error::Result"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "kelpie_storage::ActorKV"
        },
        {
          "path": "kelpie_storage::ScopedKV"
        },
        {
          "path": "serde::de::DeserializeOwned"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::error"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_storage::MemoryKV"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/cluster_testable.rs",
      "symbols": [
        {
          "name": "ELECTION_TIMEOUT_MS",
          "kind": "const",
          "line": 25,
          "visibility": "pub",
          "signature": "const ELECTION_TIMEOUT_MS: u64",
          "doc": "Election timeout in milliseconds"
        },
        {
          "name": "PRIMARY_STEPDOWN_DELAY_MS",
          "kind": "const",
          "line": 28,
          "visibility": "pub",
          "signature": "const PRIMARY_STEPDOWN_DELAY_MS: u64",
          "doc": "Primary step-down delay after quorum loss in milliseconds"
        },
        {
          "name": "TestableClusterMembership",
          "kind": "struct",
          "line": 41,
          "visibility": "pub",
          "doc": "Testable cluster membership manager\n\nImplements the same logic as `ClusterMembership` but uses the\n`ClusterStorageBackend` trait for storage, enabling DST testing\nwithout FDB.\n\nTigerStyle: All state changes are explicit, 2+ assertions per function.",
          "generic_params": [
            "S"
          ]
        },
        {
          "name": "TestableClusterMembership<S>",
          "kind": "impl",
          "line": 60,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn new(\n        storage: Arc<S>,\n        local_node_id: NodeId,\n        time_provider: Arc<dyn TimeProvider>,\n    )",
          "doc": "Create a new testable cluster membership manager\n\n# Arguments\n* `storage` - Storage backend implementing `ClusterStorageBackend`\n* `local_node_id` - This node's ID\n* `time_provider` - Provider for timestamps\n\n# Preconditions\n* `local_node_id` must be valid (non-empty)"
        },
        {
          "name": "local_node_id",
          "kind": "function",
          "line": 94,
          "visibility": "pub",
          "signature": "fn local_node_id(&self)",
          "doc": "Get the local node ID"
        },
        {
          "name": "local_state",
          "kind": "function",
          "line": 99,
          "visibility": "pub",
          "signature": "async fn local_state(&self)",
          "doc": "Get the current local state",
          "is_async": true
        },
        {
          "name": "is_primary",
          "kind": "function",
          "line": 104,
          "visibility": "pub",
          "signature": "async fn is_primary(&self)",
          "doc": "Check if this node believes it's the primary",
          "is_async": true
        },
        {
          "name": "current_term",
          "kind": "function",
          "line": 109,
          "visibility": "pub",
          "signature": "async fn current_term(&self)",
          "doc": "Get the current primary term",
          "is_async": true
        },
        {
          "name": "membership_view",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "async fn membership_view(&self)",
          "doc": "Get the current membership view",
          "is_async": true
        },
        {
          "name": "join",
          "kind": "function",
          "line": 134,
          "visibility": "pub",
          "signature": "async fn join(&self, rpc_addr: String)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "complete_join",
          "kind": "function",
          "line": 223,
          "visibility": "pub",
          "signature": "async fn complete_join(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "leave",
          "kind": "function",
          "line": 283,
          "visibility": "pub",
          "signature": "async fn leave(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "complete_leave",
          "kind": "function",
          "line": 348,
          "visibility": "pub",
          "signature": "async fn complete_leave(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "try_become_primary",
          "kind": "function",
          "line": 404,
          "visibility": "pub",
          "signature": "async fn try_become_primary(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "step_down",
          "kind": "function",
          "line": 478,
          "visibility": "pub",
          "signature": "async fn step_down(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "step_down_internal",
          "kind": "function",
          "line": 482,
          "visibility": "private",
          "signature": "async fn step_down_internal(&self)",
          "is_async": true
        },
        {
          "name": "has_valid_primary_claim",
          "kind": "function",
          "line": 507,
          "visibility": "pub",
          "signature": "async fn has_valid_primary_claim(&self)",
          "doc": "Check if this node has a valid primary claim\n\nTLA+ HasValidPrimaryClaim:\n- believesPrimary is true\n- Node is Active\n- Can reach majority",
          "is_async": true
        },
        {
          "name": "get_primary",
          "kind": "function",
          "line": 520,
          "visibility": "pub",
          "signature": "async fn get_primary(&self)",
          "doc": "Get current primary info",
          "is_async": true
        },
        {
          "name": "has_quorum",
          "kind": "function",
          "line": 532,
          "visibility": "private",
          "signature": "fn has_quorum(&self, cluster_size: usize, reachable_count: usize)",
          "doc": "Check if a count constitutes a quorum\n\n# TigerStyle\n* Uses strict majority: 2 * reachable > cluster_size"
        },
        {
          "name": "calculate_reachability",
          "kind": "function",
          "line": 538,
          "visibility": "private",
          "signature": "async fn calculate_reachability(&self)",
          "doc": "Calculate cluster size and reachable count",
          "is_async": true
        },
        {
          "name": "is_primary_valid",
          "kind": "function",
          "line": 559,
          "visibility": "private",
          "signature": "async fn is_primary_valid(&self, primary: &PrimaryInfo)",
          "doc": "Check if a primary is still valid",
          "is_async": true
        },
        {
          "name": "set_reachable_nodes",
          "kind": "function",
          "line": 582,
          "visibility": "pub",
          "signature": "async fn set_reachable_nodes(&self, nodes: HashSet<NodeId>)",
          "doc": "Set reachable nodes (for DST simulation)",
          "is_async": true
        },
        {
          "name": "mark_unreachable",
          "kind": "function",
          "line": 587,
          "visibility": "pub",
          "signature": "async fn mark_unreachable(&self, node_id: &NodeId)",
          "doc": "Mark a node as unreachable (for DST simulation)",
          "is_async": true
        },
        {
          "name": "mark_reachable",
          "kind": "function",
          "line": 592,
          "visibility": "pub",
          "signature": "async fn mark_reachable(&self, node_id: &NodeId)",
          "doc": "Mark a node as reachable (for DST simulation)",
          "is_async": true
        },
        {
          "name": "send_heartbeat",
          "kind": "function",
          "line": 607,
          "visibility": "pub",
          "signature": "async fn send_heartbeat(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "detect_failure",
          "kind": "function",
          "line": 642,
          "visibility": "pub",
          "signature": "async fn detect_failure(&self, target: &NodeId, timeout_ms: u64)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id, target = %target))"
          ]
        },
        {
          "name": "detect_failed_nodes",
          "kind": "function",
          "line": 665,
          "visibility": "pub",
          "signature": "async fn detect_failed_nodes(&self, timeout_ms: u64)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self))"
          ]
        },
        {
          "name": "mark_node_failed",
          "kind": "function",
          "line": 691,
          "visibility": "pub",
          "signature": "async fn mark_node_failed(&self, node_id: &NodeId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(failed_node = %node_id))"
          ]
        },
        {
          "name": "node_recover",
          "kind": "function",
          "line": 745,
          "visibility": "pub",
          "signature": "async fn node_recover(&self, node_id: &NodeId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %node_id))"
          ]
        },
        {
          "name": "sync_views",
          "kind": "function",
          "line": 791,
          "visibility": "pub",
          "signature": "async fn sync_views(&self, other_view: &MembershipView)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, other_view))"
          ]
        },
        {
          "name": "sync_membership_view",
          "kind": "function",
          "line": 826,
          "visibility": "pub",
          "signature": "async fn sync_membership_view(&self)",
          "doc": "Synchronize local view with storage",
          "is_async": true
        },
        {
          "name": "check_quorum_and_maybe_step_down",
          "kind": "function",
          "line": 834,
          "visibility": "pub",
          "signature": "async fn check_quorum_and_maybe_step_down(&self)",
          "doc": "Check if this node still has quorum, step down if not",
          "is_async": true
        },
        {
          "name": "queue_actors_for_migration",
          "kind": "function",
          "line": 858,
          "visibility": "pub",
          "signature": "async fn queue_actors_for_migration(\n        &self,\n        failed_node_id: &NodeId,\n        actor_ids: Vec<String>,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, actor_ids), fields(failed_node = %failed_node_id, count = actor_ids.len()))"
          ]
        },
        {
          "name": "process_migration_queue",
          "kind": "function",
          "line": 902,
          "visibility": "pub",
          "signature": "async fn process_migration_queue<F>(\n        &self,\n        select_node: F,\n    )",
          "is_async": true,
          "generic_params": [
            "F"
          ],
          "attributes": [
            "instrument(skip(self, select_node))"
          ]
        },
        {
          "name": "get_migration_queue",
          "kind": "function",
          "line": 969,
          "visibility": "pub",
          "signature": "async fn get_migration_queue(&self)",
          "doc": "Get the current migration queue",
          "is_async": true
        },
        {
          "name": "handle_node_failure",
          "kind": "function",
          "line": 978,
          "visibility": "pub",
          "signature": "async fn handle_node_failure(\n        &self,\n        node_id: &NodeId,\n        actor_ids: Vec<String>,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, actor_ids), fields(failed_node = %node_id))"
          ]
        },
        {
          "name": "get_cluster_node",
          "kind": "function",
          "line": 995,
          "visibility": "pub",
          "signature": "async fn get_cluster_node(\n        &self,\n        node_id: &NodeId,\n    )",
          "doc": "Get a cluster node by ID (for testing)",
          "is_async": true
        },
        {
          "name": "list_cluster_nodes",
          "kind": "function",
          "line": 1003,
          "visibility": "pub",
          "signature": "async fn list_cluster_nodes(&self)",
          "doc": "List all cluster nodes (for testing)",
          "is_async": true
        },
        {
          "name": "std::fmt::Debug for TestableClusterMembership<S>",
          "kind": "impl",
          "line": 1008,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 1009,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1021,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "TestClock",
          "kind": "struct",
          "line": 1027,
          "visibility": "private",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "TestClock",
          "kind": "impl",
          "line": 1031,
          "visibility": "private"
        },
        {
          "name": "TimeProvider for TestClock",
          "kind": "impl",
          "line": 1044,
          "visibility": "private",
          "attributes": [
            "async_trait::async_trait"
          ]
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 1054,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_first_node_join",
          "kind": "function",
          "line": 1059,
          "visibility": "private",
          "signature": "async fn test_first_node_join()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_second_node_join",
          "kind": "function",
          "line": 1077,
          "visibility": "private",
          "signature": "async fn test_second_node_join()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_primary_election_requires_quorum",
          "kind": "function",
          "line": 1109,
          "visibility": "private",
          "signature": "async fn test_primary_election_requires_quorum()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_step_down_clears_primary",
          "kind": "function",
          "line": 1155,
          "visibility": "private",
          "signature": "async fn test_step_down_clears_primary()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mark_node_failed",
          "kind": "function",
          "line": 1173,
          "visibility": "private",
          "signature": "async fn test_mark_node_failed()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::cluster_storage::ClusterStorageBackend"
        },
        {
          "path": "crate::cluster_types::ClusterNodeInfo"
        },
        {
          "path": "crate::cluster_types::MigrationCandidate"
        },
        {
          "path": "crate::cluster_types::MigrationQueue"
        },
        {
          "path": "crate::cluster_types::MigrationResult"
        },
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::membership::MembershipView"
        },
        {
          "path": "crate::membership::NodeState"
        },
        {
          "path": "crate::membership::PrimaryInfo"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "std::collections::HashSet"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::cluster_storage::MockClusterStorage"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/cluster_types.rs",
      "symbols": [
        {
          "name": "ClusterNodeInfo",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ClusterNodeInfo",
          "kind": "impl",
          "line": 33,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 43,
          "visibility": "pub",
          "signature": "fn new(id: NodeId, rpc_addr: String, now_ms: u64)",
          "doc": "Create new cluster node info\n\n# Arguments\n* `id` - Node ID\n* `rpc_addr` - RPC address for communication\n* `now_ms` - Current timestamp\n\n# Preconditions\n* `rpc_addr` must be non-empty"
        },
        {
          "name": "is_heartbeat_timeout",
          "kind": "function",
          "line": 63,
          "visibility": "pub",
          "signature": "fn is_heartbeat_timeout(&self, now_ms: u64, timeout_ms: u64)",
          "doc": "Check if heartbeat has timed out\n\n# Arguments\n* `now_ms` - Current timestamp\n* `timeout_ms` - Timeout threshold\n\n# Returns\n* `true` if heartbeat is older than timeout"
        },
        {
          "name": "MigrationCandidate",
          "kind": "struct",
          "line": 74,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MigrationCandidate",
          "kind": "impl",
          "line": 83,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 88,
          "visibility": "pub",
          "signature": "fn new(actor_id: String, failed_node_id: NodeId, detected_at_ms: u64)",
          "doc": "Create a new migration candidate\n\n# Preconditions\n* `actor_id` must be non-empty"
        },
        {
          "name": "MigrationResult",
          "kind": "enum",
          "line": 105,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "MigrationResult",
          "kind": "impl",
          "line": 117,
          "visibility": "private"
        },
        {
          "name": "is_success",
          "kind": "function",
          "line": 119,
          "visibility": "pub",
          "signature": "fn is_success(&self)",
          "doc": "Check if migration was successful"
        },
        {
          "name": "actor_id",
          "kind": "function",
          "line": 124,
          "visibility": "pub",
          "signature": "fn actor_id(&self)",
          "doc": "Get the actor ID"
        },
        {
          "name": "MigrationQueue",
          "kind": "struct",
          "line": 139,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MigrationQueue",
          "kind": "impl",
          "line": 146,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 148,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty migration queue"
        },
        {
          "name": "add",
          "kind": "function",
          "line": 160,
          "visibility": "pub",
          "signature": "fn add(&mut self, candidate: MigrationCandidate, now_ms: u64)",
          "doc": "Add a candidate to the queue\n\n# Arguments\n* `candidate` - Migration candidate to add\n* `now_ms` - Current timestamp"
        },
        {
          "name": "remove",
          "kind": "function",
          "line": 170,
          "visibility": "pub",
          "signature": "fn remove(&mut self, actor_id: &str, now_ms: u64)",
          "doc": "Remove a candidate from the queue by actor_id\n\n# Returns\n* `true` if candidate was found and removed\n* `false` if not found"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 181,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if empty"
        },
        {
          "name": "len",
          "kind": "function",
          "line": 186,
          "visibility": "pub",
          "signature": "fn len(&self)",
          "doc": "Get the number of pending migrations"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 196,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 199,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_cluster_node_info",
          "kind": "function",
          "line": 204,
          "visibility": "private",
          "signature": "fn test_cluster_node_info()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_candidate",
          "kind": "function",
          "line": 218,
          "visibility": "private",
          "signature": "fn test_migration_candidate()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_candidate_empty_actor_id_panics",
          "kind": "function",
          "line": 229,
          "visibility": "private",
          "signature": "fn test_migration_candidate_empty_actor_id_panics()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"actor_id cannot be empty\")"
          ]
        },
        {
          "name": "test_migration_result",
          "kind": "function",
          "line": 235,
          "visibility": "private",
          "signature": "fn test_migration_result()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_queue",
          "kind": "function",
          "line": 260,
          "visibility": "private",
          "signature": "fn test_migration_queue()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::membership::NodeState"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/registry.rs",
      "symbols": [
        {
          "name": "Clock",
          "kind": "trait",
          "line": 28,
          "visibility": "pub",
          "attributes": [
            "deprecated(\n    since = \"0.2.0\",\n    note = \"Use TimeProvider from kelpie_core::io instead\"\n)"
          ]
        },
        {
          "name": "SystemClock",
          "kind": "struct",
          "line": 39,
          "visibility": "pub",
          "attributes": [
            "deprecated(\n    since = \"0.2.0\",\n    note = \"Use WallClockTime from kelpie_core::io instead\"\n)",
            "derive(Debug, Default)"
          ]
        },
        {
          "name": "Clock for SystemClock",
          "kind": "impl",
          "line": 42,
          "visibility": "private",
          "attributes": [
            "allow(deprecated)"
          ]
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 43,
          "visibility": "private",
          "signature": "fn now_ms(&self)"
        },
        {
          "name": "Registry",
          "kind": "trait",
          "line": 62,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MemoryRegistry",
          "kind": "struct",
          "line": 168,
          "visibility": "pub",
          "doc": "In-memory registry implementation\n\nSuitable for single-node deployment or testing.\nAll state is lost on restart."
        },
        {
          "name": "MockClock",
          "kind": "struct",
          "line": 185,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "MockClock",
          "kind": "impl",
          "line": 189,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 191,
          "visibility": "pub",
          "signature": "fn new(initial_ms: u64)",
          "doc": "Create a new mock clock"
        },
        {
          "name": "advance",
          "kind": "function",
          "line": 198,
          "visibility": "pub",
          "signature": "async fn advance(&self, ms: u64)",
          "doc": "Advance time by the given milliseconds",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 204,
          "visibility": "pub",
          "signature": "async fn set(&self, ms: u64)",
          "doc": "Set time to a specific value",
          "is_async": true
        },
        {
          "name": "TimeProvider for MockClock",
          "kind": "impl",
          "line": 211,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "fn now_ms(&self)"
        },
        {
          "name": "sleep_ms",
          "kind": "function",
          "line": 217,
          "visibility": "private",
          "signature": "async fn sleep_ms(&self, ms: u64)",
          "is_async": true
        },
        {
          "name": "monotonic_ms",
          "kind": "function",
          "line": 222,
          "visibility": "private",
          "signature": "fn monotonic_ms(&self)"
        },
        {
          "name": "MemoryRegistry",
          "kind": "impl",
          "line": 227,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 229,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new in-memory registry with production I/O providers"
        },
        {
          "name": "with_config",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn with_config(heartbeat_config: HeartbeatConfig)",
          "doc": "Create with custom heartbeat config"
        },
        {
          "name": "with_providers",
          "kind": "function",
          "line": 246,
          "visibility": "pub",
          "signature": "fn with_providers(time: Arc<dyn TimeProvider>, rng: Arc<dyn RngProvider>)",
          "doc": "Create with custom I/O providers (for DST)"
        },
        {
          "name": "with_clock",
          "kind": "function",
          "line": 258,
          "visibility": "pub",
          "signature": "fn with_clock(clock: Arc<dyn TimeProvider>)",
          "doc": "Create with a mock clock for testing (convenience method)"
        },
        {
          "name": "check_heartbeat_timeouts",
          "kind": "function",
          "line": 272,
          "visibility": "pub",
          "signature": "async fn check_heartbeat_timeouts(&self)",
          "doc": "Check all nodes for heartbeat timeouts\n\nReturns list of nodes that transitioned to failed state.",
          "is_async": true
        },
        {
          "name": "get_actors_to_migrate",
          "kind": "function",
          "line": 296,
          "visibility": "pub",
          "signature": "async fn get_actors_to_migrate(&self, failed_node: &NodeId)",
          "doc": "Get actors that need to be migrated due to node failure",
          "is_async": true
        },
        {
          "name": "select_least_loaded",
          "kind": "function",
          "line": 306,
          "visibility": "private",
          "signature": "async fn select_least_loaded(&self)",
          "doc": "Select node using least-loaded strategy",
          "is_async": true
        },
        {
          "name": "select_random",
          "kind": "function",
          "line": 316,
          "visibility": "private",
          "signature": "async fn select_random(&self)",
          "doc": "Select node using random strategy",
          "is_async": true
        },
        {
          "name": "select_round_robin",
          "kind": "function",
          "line": 333,
          "visibility": "private",
          "signature": "async fn select_round_robin(&self)",
          "doc": "Select node using round-robin strategy",
          "is_async": true
        },
        {
          "name": "Default for MemoryRegistry",
          "kind": "impl",
          "line": 357,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 358,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "Registry for MemoryRegistry",
          "kind": "impl",
          "line": 364,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "register_node",
          "kind": "function",
          "line": 365,
          "visibility": "private",
          "signature": "async fn register_node(&self, info: NodeInfo)",
          "is_async": true
        },
        {
          "name": "unregister_node",
          "kind": "function",
          "line": 383,
          "visibility": "private",
          "signature": "async fn unregister_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "get_node",
          "kind": "function",
          "line": 397,
          "visibility": "private",
          "signature": "async fn get_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "list_nodes",
          "kind": "function",
          "line": 402,
          "visibility": "private",
          "signature": "async fn list_nodes(&self)",
          "is_async": true
        },
        {
          "name": "list_nodes_by_status",
          "kind": "function",
          "line": 407,
          "visibility": "private",
          "signature": "async fn list_nodes_by_status(&self, status: NodeStatus)",
          "is_async": true
        },
        {
          "name": "update_node_status",
          "kind": "function",
          "line": 416,
          "visibility": "private",
          "signature": "async fn update_node_status(&self, node_id: &NodeId, status: NodeStatus)",
          "is_async": true
        },
        {
          "name": "receive_heartbeat",
          "kind": "function",
          "line": 427,
          "visibility": "private",
          "signature": "async fn receive_heartbeat(&self, heartbeat: Heartbeat)",
          "is_async": true
        },
        {
          "name": "get_placement",
          "kind": "function",
          "line": 449,
          "visibility": "private",
          "signature": "async fn get_placement(&self, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "register_actor",
          "kind": "function",
          "line": 454,
          "visibility": "private",
          "signature": "async fn register_actor(&self, actor_id: ActorId, node_id: NodeId)",
          "is_async": true
        },
        {
          "name": "unregister_actor",
          "kind": "function",
          "line": 482,
          "visibility": "private",
          "signature": "async fn unregister_actor(&self, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "try_claim_actor",
          "kind": "function",
          "line": 496,
          "visibility": "private",
          "signature": "async fn try_claim_actor(\n        &self,\n        actor_id: ActorId,\n        node_id: NodeId,\n    )",
          "is_async": true
        },
        {
          "name": "list_actors_on_node",
          "kind": "function",
          "line": 533,
          "visibility": "private",
          "signature": "async fn list_actors_on_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "migrate_actor",
          "kind": "function",
          "line": 542,
          "visibility": "private",
          "signature": "async fn migrate_actor(\n        &self,\n        actor_id: &ActorId,\n        from_node: &NodeId,\n        to_node: &NodeId,\n    )",
          "is_async": true
        },
        {
          "name": "select_node_for_placement",
          "kind": "function",
          "line": 588,
          "visibility": "private",
          "signature": "async fn select_node_for_placement(\n        &self,\n        context: PlacementContext,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 625,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_addr",
          "kind": "function",
          "line": 629,
          "visibility": "private",
          "signature": "fn test_addr(port: u16)"
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 633,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_actor_id",
          "kind": "function",
          "line": 637,
          "visibility": "private",
          "signature": "fn test_actor_id(n: u32)"
        },
        {
          "name": "test_node_info",
          "kind": "function",
          "line": 641,
          "visibility": "private",
          "signature": "fn test_node_info(n: u32)"
        },
        {
          "name": "test_register_node",
          "kind": "function",
          "line": 648,
          "visibility": "private",
          "signature": "async fn test_register_node()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_register_node_duplicate",
          "kind": "function",
          "line": 660,
          "visibility": "private",
          "signature": "async fn test_register_node_duplicate()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_unregister_node",
          "kind": "function",
          "line": 674,
          "visibility": "private",
          "signature": "async fn test_unregister_node()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_nodes",
          "kind": "function",
          "line": 685,
          "visibility": "private",
          "signature": "async fn test_list_nodes()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_register_actor",
          "kind": "function",
          "line": 697,
          "visibility": "private",
          "signature": "async fn test_register_actor()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_register_actor_conflict",
          "kind": "function",
          "line": 712,
          "visibility": "private",
          "signature": "async fn test_register_actor_conflict()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_try_claim_actor_new",
          "kind": "function",
          "line": 733,
          "visibility": "private",
          "signature": "async fn test_try_claim_actor_new()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_try_claim_actor_existing",
          "kind": "function",
          "line": 747,
          "visibility": "private",
          "signature": "async fn test_try_claim_actor_existing()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_migrate_actor",
          "kind": "function",
          "line": 765,
          "visibility": "private",
          "signature": "async fn test_migrate_actor()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_select_node_least_loaded",
          "kind": "function",
          "line": 786,
          "visibility": "private",
          "signature": "async fn test_select_node_least_loaded()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_actors_on_node",
          "kind": "function",
          "line": 809,
          "visibility": "private",
          "signature": "async fn test_list_actors_on_node()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_heartbeat_timeout",
          "kind": "function",
          "line": 842,
          "visibility": "private",
          "signature": "async fn test_heartbeat_timeout()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_select_node_round_robin",
          "kind": "function",
          "line": 868,
          "visibility": "private",
          "signature": "async fn test_select_node_round_robin()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_select_node_affinity",
          "kind": "function",
          "line": 901,
          "visibility": "private",
          "signature": "async fn test_select_node_affinity()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_select_node_affinity_fallback",
          "kind": "function",
          "line": 919,
          "visibility": "private",
          "signature": "async fn test_select_node_affinity_fallback()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_select_node_random",
          "kind": "function",
          "line": 937,
          "visibility": "private",
          "signature": "async fn test_select_node_random()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_select_node_no_capacity",
          "kind": "function",
          "line": 964,
          "visibility": "private",
          "signature": "async fn test_select_node_no_capacity()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::heartbeat::Heartbeat"
        },
        {
          "path": "crate::heartbeat::HeartbeatConfig"
        },
        {
          "path": "crate::heartbeat::HeartbeatTracker"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "crate::node::NodeInfo"
        },
        {
          "path": "crate::node::NodeStatus"
        },
        {
          "path": "crate::placement::ActorPlacement"
        },
        {
          "path": "crate::placement::PlacementContext"
        },
        {
          "path": "crate::placement::PlacementDecision"
        },
        {
          "path": "crate::placement::PlacementStrategy"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::io::RngProvider"
        },
        {
          "path": "kelpie_core::io::StdRngProvider"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "std::net::IpAddr"
        },
        {
          "path": "std::net::Ipv4Addr"
        },
        {
          "path": "std::net::SocketAddr"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/error.rs",
      "symbols": [
        {
          "name": "RegistryError",
          "kind": "enum",
          "line": 10,
          "visibility": "pub",
          "attributes": [
            "derive(Error, Debug)"
          ]
        },
        {
          "name": "RegistryError",
          "kind": "impl",
          "line": 71,
          "visibility": "private"
        },
        {
          "name": "node_not_found",
          "kind": "function",
          "line": 73,
          "visibility": "pub",
          "signature": "fn node_not_found(node_id: impl Into<String>)",
          "doc": "Create a node not found error"
        },
        {
          "name": "actor_not_found",
          "kind": "function",
          "line": 80,
          "visibility": "pub",
          "signature": "fn actor_not_found(actor_id: &ActorId)",
          "doc": "Create an actor not found error"
        },
        {
          "name": "actor_already_registered",
          "kind": "function",
          "line": 87,
          "visibility": "pub",
          "signature": "fn actor_already_registered(actor_id: &ActorId, existing_node: impl Into<String>)",
          "doc": "Create an actor already registered error"
        },
        {
          "name": "is_retriable",
          "kind": "function",
          "line": 95,
          "visibility": "pub",
          "signature": "fn is_retriable(&self)",
          "doc": "Check if this error indicates a retriable condition"
        },
        {
          "name": "RegistryResult",
          "kind": "type_alias",
          "line": 101,
          "visibility": "pub",
          "doc": "Result type for registry operations"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 104,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_error_display",
          "kind": "function",
          "line": 108,
          "visibility": "private",
          "signature": "fn test_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_error_retriable",
          "kind": "function",
          "line": 114,
          "visibility": "private",
          "signature": "fn test_error_retriable()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "thiserror::Error"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/lib.rs",
      "symbols": [
        {
          "name": "cluster",
          "kind": "mod",
          "line": 36,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"fdb\")"
          ]
        },
        {
          "name": "cluster_storage",
          "kind": "mod",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "cluster_testable",
          "kind": "mod",
          "line": 38,
          "visibility": "private"
        },
        {
          "name": "cluster_types",
          "kind": "mod",
          "line": 39,
          "visibility": "private"
        },
        {
          "name": "error",
          "kind": "mod",
          "line": 40,
          "visibility": "private"
        },
        {
          "name": "fdb",
          "kind": "mod",
          "line": 42,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"fdb\")"
          ]
        },
        {
          "name": "heartbeat",
          "kind": "mod",
          "line": 43,
          "visibility": "private"
        },
        {
          "name": "lease",
          "kind": "mod",
          "line": 44,
          "visibility": "private"
        },
        {
          "name": "membership",
          "kind": "mod",
          "line": 45,
          "visibility": "private"
        },
        {
          "name": "node",
          "kind": "mod",
          "line": 46,
          "visibility": "private"
        },
        {
          "name": "placement",
          "kind": "mod",
          "line": 47,
          "visibility": "private"
        },
        {
          "name": "registry",
          "kind": "mod",
          "line": 48,
          "visibility": "private"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 83,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_addr",
          "kind": "function",
          "line": 87,
          "visibility": "private",
          "signature": "fn test_addr()"
        },
        {
          "name": "test_registry_module_compiles",
          "kind": "function",
          "line": 92,
          "visibility": "private",
          "signature": "fn test_registry_module_compiles()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_memory_registry_basic",
          "kind": "function",
          "line": 99,
          "visibility": "private",
          "signature": "async fn test_memory_registry_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "cluster::ClusterMembership"
        },
        {
          "path": "cluster::ELECTION_TIMEOUT_MS"
        },
        {
          "path": "cluster::PRIMARY_STEPDOWN_DELAY_MS"
        },
        {
          "path": "cluster_storage::ClusterStorageBackend"
        },
        {
          "path": "cluster_storage::MockClusterStorage"
        },
        {
          "path": "cluster_testable::TestableClusterMembership"
        },
        {
          "path": "cluster_testable::ELECTION_TIMEOUT_MS",
          "alias": "TESTABLE_ELECTION_TIMEOUT_MS"
        },
        {
          "path": "cluster_testable::PRIMARY_STEPDOWN_DELAY_MS",
          "alias": "TESTABLE_PRIMARY_STEPDOWN_DELAY_MS"
        },
        {
          "path": "cluster_types::ClusterNodeInfo"
        },
        {
          "path": "cluster_types::MigrationCandidate"
        },
        {
          "path": "cluster_types::MigrationQueue"
        },
        {
          "path": "cluster_types::MigrationResult"
        },
        {
          "path": "error::RegistryError"
        },
        {
          "path": "error::RegistryResult"
        },
        {
          "path": "fdb::FdbRegistry"
        },
        {
          "path": "fdb::FdbRegistryConfig"
        },
        {
          "path": "fdb::Lease",
          "alias": "FdbLease"
        },
        {
          "path": "fdb::LeaseRenewalTask"
        },
        {
          "path": "heartbeat::Heartbeat"
        },
        {
          "path": "heartbeat::HeartbeatConfig"
        },
        {
          "path": "heartbeat::HeartbeatTracker"
        },
        {
          "path": "heartbeat::NodeHeartbeatState"
        },
        {
          "path": "heartbeat::HEARTBEAT_FAILURE_COUNT"
        },
        {
          "path": "heartbeat::HEARTBEAT_INTERVAL_MS_MAX"
        },
        {
          "path": "heartbeat::HEARTBEAT_INTERVAL_MS_MIN"
        },
        {
          "path": "heartbeat::HEARTBEAT_SUSPECT_COUNT"
        },
        {
          "path": "lease::Lease"
        },
        {
          "path": "lease::LeaseConfig"
        },
        {
          "path": "lease::LeaseManager"
        },
        {
          "path": "lease::MemoryLeaseManager"
        },
        {
          "path": "lease::LEASE_DURATION_MS_DEFAULT"
        },
        {
          "path": "lease::LEASE_DURATION_MS_MAX"
        },
        {
          "path": "lease::LEASE_DURATION_MS_MIN"
        },
        {
          "path": "membership::ClusterState"
        },
        {
          "path": "membership::MembershipView"
        },
        {
          "path": "membership::NodeState"
        },
        {
          "path": "membership::PrimaryInfo"
        },
        {
          "path": "membership::HEARTBEAT_FAILURE_THRESHOLD"
        },
        {
          "path": "membership::HEARTBEAT_INTERVAL_MS"
        },
        {
          "path": "membership::HEARTBEAT_SUSPECT_THRESHOLD"
        },
        {
          "path": "membership::MEMBERSHIP_VIEW_NUMBER_MAX"
        },
        {
          "path": "membership::PRIMARY_TERM_MAX"
        },
        {
          "path": "node::NodeId"
        },
        {
          "path": "node::NodeInfo"
        },
        {
          "path": "node::NodeStatus"
        },
        {
          "path": "node::NODE_ID_LENGTH_BYTES_MAX"
        },
        {
          "path": "placement::validate_placement"
        },
        {
          "path": "placement::ActorPlacement"
        },
        {
          "path": "placement::PlacementContext"
        },
        {
          "path": "placement::PlacementDecision"
        },
        {
          "path": "placement::PlacementStrategy"
        },
        {
          "path": "registry::Clock"
        },
        {
          "path": "registry::MemoryRegistry"
        },
        {
          "path": "registry::MockClock"
        },
        {
          "path": "registry::Registry"
        },
        {
          "path": "registry::SystemClock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "std::net::IpAddr"
        },
        {
          "path": "std::net::Ipv4Addr"
        },
        {
          "path": "std::net::SocketAddr"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/membership.rs",
      "symbols": [
        {
          "name": "MEMBERSHIP_VIEW_NUMBER_MAX",
          "kind": "const",
          "line": 17,
          "visibility": "pub",
          "signature": "const MEMBERSHIP_VIEW_NUMBER_MAX: u64",
          "doc": "Maximum view number (bounds state space, matches TLA+ MaxViewNum)"
        },
        {
          "name": "PRIMARY_TERM_MAX",
          "kind": "const",
          "line": 20,
          "visibility": "pub",
          "signature": "const PRIMARY_TERM_MAX: u64",
          "doc": "Maximum primary term (bounds state space)"
        },
        {
          "name": "HEARTBEAT_INTERVAL_MS",
          "kind": "const",
          "line": 23,
          "visibility": "pub",
          "signature": "const HEARTBEAT_INTERVAL_MS: u64",
          "doc": "Heartbeat interval for failure detection in milliseconds"
        },
        {
          "name": "HEARTBEAT_SUSPECT_THRESHOLD",
          "kind": "const",
          "line": 26,
          "visibility": "pub",
          "signature": "const HEARTBEAT_SUSPECT_THRESHOLD: u64",
          "doc": "Number of missed heartbeats before marking node as Suspect"
        },
        {
          "name": "HEARTBEAT_FAILURE_THRESHOLD",
          "kind": "const",
          "line": 29,
          "visibility": "pub",
          "signature": "const HEARTBEAT_FAILURE_THRESHOLD: u64",
          "doc": "Number of missed heartbeats before marking node as Failed"
        },
        {
          "name": "NodeState",
          "kind": "enum",
          "line": 54,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Hash, Serialize, Deserialize, Default)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "NodeState",
          "kind": "impl",
          "line": 68,
          "visibility": "private"
        },
        {
          "name": "can_accept_actors",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn can_accept_actors(&self)",
          "doc": "Check if this node can accept new actor activations"
        },
        {
          "name": "is_healthy",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn is_healthy(&self)",
          "doc": "Check if this node is considered healthy"
        },
        {
          "name": "should_remove_from_view",
          "kind": "function",
          "line": 80,
          "visibility": "pub",
          "signature": "fn should_remove_from_view(&self)",
          "doc": "Check if this node should be removed from membership view"
        },
        {
          "name": "can_transition_to",
          "kind": "function",
          "line": 94,
          "visibility": "pub",
          "signature": "fn can_transition_to(&self, new_state: NodeState)",
          "doc": "Check if the transition from current state to new state is valid\n\nTLA+ valid transitions:\n- Left -> Joining (NodeJoin)\n- Left -> Active (first node join - NodeJoin)\n- Joining -> Active (NodeJoinComplete)\n- Active -> Leaving (NodeLeave)\n- Active -> Failed (MarkNodeFailed)\n- Leaving -> Left (NodeLeaveComplete)\n- Failed -> Left (NodeRecover)"
        },
        {
          "name": "transition_to",
          "kind": "function",
          "line": 116,
          "visibility": "pub",
          "signature": "fn transition_to(&mut self, new_state: NodeState)",
          "doc": "Validate and perform a state transition\n\n# Panics\nPanics if the transition is invalid (TigerStyle: fail fast on invariant violation)"
        },
        {
          "name": "std::fmt::Display for NodeState",
          "kind": "impl",
          "line": 127,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 128,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "PrimaryInfo",
          "kind": "struct",
          "line": 150,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, PartialEq, Eq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "PrimaryInfo",
          "kind": "impl",
          "line": 159,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 161,
          "visibility": "pub",
          "signature": "fn new(node_id: NodeId, term: u64, elected_at_ms: u64)",
          "doc": "Create new primary info"
        },
        {
          "name": "has_higher_term_than",
          "kind": "function",
          "line": 173,
          "visibility": "pub",
          "signature": "fn has_higher_term_than(&self, other: &PrimaryInfo)",
          "doc": "Check if this primary has a higher term than another"
        },
        {
          "name": "is_same_node",
          "kind": "function",
          "line": 178,
          "visibility": "pub",
          "signature": "fn is_same_node(&self, node_id: &NodeId)",
          "doc": "Check if this primary is the same node"
        },
        {
          "name": "MembershipView",
          "kind": "struct",
          "line": 194,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, PartialEq, Eq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MembershipView",
          "kind": "impl",
          "line": 203,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 205,
          "visibility": "pub",
          "signature": "fn new(active_nodes: HashSet<NodeId>, view_number: u64, created_at_ms: u64)",
          "doc": "Create a new membership view"
        },
        {
          "name": "empty",
          "kind": "function",
          "line": 219,
          "visibility": "pub",
          "signature": "fn empty()",
          "doc": "Create an empty view (for new nodes)"
        },
        {
          "name": "has_higher_view_than",
          "kind": "function",
          "line": 228,
          "visibility": "pub",
          "signature": "fn has_higher_view_than(&self, other: &MembershipView)",
          "doc": "Check if this view has a higher view number"
        },
        {
          "name": "contains",
          "kind": "function",
          "line": 233,
          "visibility": "pub",
          "signature": "fn contains(&self, node_id: &NodeId)",
          "doc": "Check if a node is in this view"
        },
        {
          "name": "size",
          "kind": "function",
          "line": 238,
          "visibility": "pub",
          "signature": "fn size(&self)",
          "doc": "Get the number of nodes in the view"
        },
        {
          "name": "quorum_size",
          "kind": "function",
          "line": 243,
          "visibility": "pub",
          "signature": "fn quorum_size(&self)",
          "doc": "Calculate quorum size (strict majority)"
        },
        {
          "name": "is_quorum",
          "kind": "function",
          "line": 248,
          "visibility": "pub",
          "signature": "fn is_quorum(&self, count: usize)",
          "doc": "Check if the given count constitutes a quorum"
        },
        {
          "name": "with_node_added",
          "kind": "function",
          "line": 253,
          "visibility": "pub",
          "signature": "fn with_node_added(&self, node_id: NodeId, now_ms: u64)",
          "doc": "Add a node to the view (creates new view with incremented number)"
        },
        {
          "name": "with_node_removed",
          "kind": "function",
          "line": 265,
          "visibility": "pub",
          "signature": "fn with_node_removed(&self, node_id: &NodeId, now_ms: u64)",
          "doc": "Remove a node from the view (creates new view with incremented number)"
        },
        {
          "name": "merge",
          "kind": "function",
          "line": 279,
          "visibility": "pub",
          "signature": "fn merge(&self, other: &MembershipView, now_ms: u64)",
          "doc": "Merge two views (for partition healing)\n\nTakes union of nodes and higher view number + 1"
        },
        {
          "name": "Default for MembershipView",
          "kind": "impl",
          "line": 295,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 296,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ClusterState",
          "kind": "struct",
          "line": 307,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "ClusterState",
          "kind": "impl",
          "line": 322,
          "visibility": "private"
        },
        {
          "name": "has_valid_primary_claim",
          "kind": "function",
          "line": 329,
          "visibility": "pub",
          "signature": "fn has_valid_primary_claim(&self, can_reach_majority: bool)",
          "doc": "Check if this node has a valid primary claim\n\nTLA+ HasValidPrimaryClaim:\n- believesPrimary is true\n- Node is Active\n- Can reach majority (checked externally)"
        },
        {
          "name": "can_become_primary",
          "kind": "function",
          "line": 339,
          "visibility": "pub",
          "signature": "fn can_become_primary(\n        &self,\n        cluster_size: usize,\n        reachable_active: usize,\n        any_valid_primary: bool,\n    )",
          "doc": "Check if this node can become primary\n\nTLA+ CanBecomePrimary (safe version):\n- Node is Active\n- Can reach majority of ALL nodes in cluster\n- No valid primary exists"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 354,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_node_state_valid_transitions",
          "kind": "function",
          "line": 358,
          "visibility": "private",
          "signature": "fn test_node_state_valid_transitions()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_state_failure_transitions",
          "kind": "function",
          "line": 382,
          "visibility": "private",
          "signature": "fn test_node_state_failure_transitions()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_state_first_node_join",
          "kind": "function",
          "line": 396,
          "visibility": "private",
          "signature": "fn test_node_state_first_node_join()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_state_invalid_transitions",
          "kind": "function",
          "line": 405,
          "visibility": "private",
          "signature": "fn test_node_state_invalid_transitions()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_state_transition_panics_on_invalid",
          "kind": "function",
          "line": 417,
          "visibility": "private",
          "signature": "fn test_node_state_transition_panics_on_invalid()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"invalid state transition\")"
          ]
        },
        {
          "name": "test_primary_info",
          "kind": "function",
          "line": 423,
          "visibility": "private",
          "signature": "fn test_primary_info()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_primary_term_comparison",
          "kind": "function",
          "line": 435,
          "visibility": "private",
          "signature": "fn test_primary_term_comparison()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_membership_view",
          "kind": "function",
          "line": 447,
          "visibility": "private",
          "signature": "fn test_membership_view()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_membership_view_add_remove",
          "kind": "function",
          "line": 466,
          "visibility": "private",
          "signature": "fn test_membership_view_add_remove()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_membership_view_merge",
          "kind": "function",
          "line": 486,
          "visibility": "private",
          "signature": "fn test_membership_view_merge()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_cluster_state_can_become_primary",
          "kind": "function",
          "line": 507,
          "visibility": "private",
          "signature": "fn test_cluster_state_can_become_primary()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashSet"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/lease.rs",
      "symbols": [
        {
          "name": "LEASE_DURATION_MS_DEFAULT",
          "kind": "const",
          "line": 45,
          "visibility": "pub",
          "signature": "const LEASE_DURATION_MS_DEFAULT: u64",
          "doc": "Default lease duration in milliseconds"
        },
        {
          "name": "LEASE_DURATION_MS_MIN",
          "kind": "const",
          "line": 48,
          "visibility": "pub",
          "signature": "const LEASE_DURATION_MS_MIN: u64",
          "doc": "Minimum lease duration in milliseconds"
        },
        {
          "name": "LEASE_DURATION_MS_MAX",
          "kind": "const",
          "line": 51,
          "visibility": "pub",
          "signature": "const LEASE_DURATION_MS_MAX: u64",
          "doc": "Maximum lease duration in milliseconds"
        },
        {
          "name": "LeaseConfig",
          "kind": "struct",
          "line": 59,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "LeaseConfig",
          "kind": "impl",
          "line": 64,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn new(duration_ms: u64)",
          "doc": "Create a new lease config with specified duration"
        },
        {
          "name": "for_testing",
          "kind": "function",
          "line": 83,
          "visibility": "pub",
          "signature": "fn for_testing()",
          "doc": "Create config for testing with short duration"
        },
        {
          "name": "Default for LeaseConfig",
          "kind": "impl",
          "line": 88,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 89,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "Lease",
          "kind": "struct",
          "line": 102,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Lease",
          "kind": "impl",
          "line": 115,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 117,
          "visibility": "pub",
          "signature": "fn new(actor_id: ActorId, holder: NodeId, now_ms: u64, duration_ms: u64)",
          "doc": "Create a new lease"
        },
        {
          "name": "is_valid",
          "kind": "function",
          "line": 141,
          "visibility": "pub",
          "signature": "fn is_valid(&self, now_ms: u64)",
          "doc": "Check if the lease is valid at the given time"
        },
        {
          "name": "is_expired",
          "kind": "function",
          "line": 146,
          "visibility": "pub",
          "signature": "fn is_expired(&self, now_ms: u64)",
          "doc": "Check if the lease has expired at the given time"
        },
        {
          "name": "renew",
          "kind": "function",
          "line": 151,
          "visibility": "pub",
          "signature": "fn renew(&mut self, now_ms: u64, duration_ms: u64)",
          "doc": "Renew this lease, extending its expiry"
        },
        {
          "name": "remaining_ms",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "fn remaining_ms(&self, now_ms: u64)",
          "doc": "Get remaining time on the lease in milliseconds"
        },
        {
          "name": "LeaseManager",
          "kind": "trait",
          "line": 179,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MemoryLeaseManager",
          "kind": "struct",
          "line": 210,
          "visibility": "pub",
          "doc": "In-memory lease manager for testing and single-node deployments"
        },
        {
          "name": "MemoryLeaseManager",
          "kind": "impl",
          "line": 219,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 221,
          "visibility": "pub",
          "signature": "fn new(config: LeaseConfig, time: Arc<dyn TimeProvider>)",
          "doc": "Create a new memory lease manager"
        },
        {
          "name": "with_time",
          "kind": "function",
          "line": 230,
          "visibility": "pub",
          "signature": "fn with_time(time: Arc<dyn TimeProvider>)",
          "doc": "Create with default config"
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 235,
          "visibility": "private",
          "signature": "fn now_ms(&self)",
          "doc": "Get current time from time provider"
        },
        {
          "name": "std::fmt::Debug for MemoryLeaseManager",
          "kind": "impl",
          "line": 240,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 241,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "LeaseManager for MemoryLeaseManager",
          "kind": "impl",
          "line": 249,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "acquire",
          "kind": "function",
          "line": 250,
          "visibility": "private",
          "signature": "async fn acquire(&self, node_id: &NodeId, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "renew",
          "kind": "function",
          "line": 289,
          "visibility": "private",
          "signature": "async fn renew(&self, node_id: &NodeId, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "release",
          "kind": "function",
          "line": 331,
          "visibility": "private",
          "signature": "async fn release(&self, node_id: &NodeId, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "is_valid",
          "kind": "function",
          "line": 361,
          "visibility": "private",
          "signature": "async fn is_valid(&self, node_id: &NodeId, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "get_lease",
          "kind": "function",
          "line": 373,
          "visibility": "private",
          "signature": "async fn get_lease(&self, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "get_leases_for_node",
          "kind": "function",
          "line": 379,
          "visibility": "private",
          "signature": "async fn get_leases_for_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 396,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "TestClock",
          "kind": "struct",
          "line": 401,
          "visibility": "private",
          "doc": "Test clock with controllable time (implements TimeProvider)"
        },
        {
          "name": "TestClock",
          "kind": "impl",
          "line": 405,
          "visibility": "private"
        },
        {
          "name": "std::fmt::Debug for TestClock",
          "kind": "impl",
          "line": 417,
          "visibility": "private"
        },
        {
          "name": "TimeProvider for TestClock",
          "kind": "impl",
          "line": 424,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 438,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_actor_id",
          "kind": "function",
          "line": 442,
          "visibility": "private",
          "signature": "fn test_actor_id(n: u32)"
        },
        {
          "name": "test_lease_creation",
          "kind": "function",
          "line": 447,
          "visibility": "private",
          "signature": "fn test_lease_creation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_validity",
          "kind": "function",
          "line": 461,
          "visibility": "private",
          "signature": "fn test_lease_validity()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_renewal",
          "kind": "function",
          "line": 471,
          "visibility": "private",
          "signature": "fn test_lease_renewal()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_remaining_time",
          "kind": "function",
          "line": 481,
          "visibility": "private",
          "signature": "fn test_lease_remaining_time()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_memory_lease_manager_acquire",
          "kind": "function",
          "line": 491,
          "visibility": "private",
          "signature": "async fn test_memory_lease_manager_acquire()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_lease_manager_acquire_conflict",
          "kind": "function",
          "line": 504,
          "visibility": "private",
          "signature": "async fn test_memory_lease_manager_acquire_conflict()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_lease_manager_acquire_after_expiry",
          "kind": "function",
          "line": 524,
          "visibility": "private",
          "signature": "async fn test_memory_lease_manager_acquire_after_expiry()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_lease_manager_renew",
          "kind": "function",
          "line": 544,
          "visibility": "private",
          "signature": "async fn test_memory_lease_manager_renew()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_lease_manager_renew_wrong_holder",
          "kind": "function",
          "line": 564,
          "visibility": "private",
          "signature": "async fn test_memory_lease_manager_renew_wrong_holder()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_lease_manager_release",
          "kind": "function",
          "line": 581,
          "visibility": "private",
          "signature": "async fn test_memory_lease_manager_release()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_lease_manager_is_valid",
          "kind": "function",
          "line": 598,
          "visibility": "private",
          "signature": "async fn test_memory_lease_manager_is_valid()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/node.rs",
      "symbols": [
        {
          "name": "NODE_ID_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 13,
          "visibility": "pub",
          "signature": "const NODE_ID_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum length of a node ID in bytes"
        },
        {
          "name": "NodeId",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Hash, Eq, PartialEq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "NodeId",
          "kind": "impl",
          "line": 22,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 30,
          "visibility": "pub",
          "signature": "fn new(id: impl Into<String>)",
          "doc": "Create a new NodeId with validation\n\n# Arguments\n* `id` - The node identifier (alphanumeric, dashes, underscores, dots)\n\n# Errors\nReturns error if id is empty, too long, or contains invalid characters."
        },
        {
          "name": "new_unchecked",
          "kind": "function",
          "line": 72,
          "visibility": "pub",
          "signature": "fn new_unchecked(id: String)",
          "attributes": [
            "doc(hidden)"
          ]
        },
        {
          "name": "as_str",
          "kind": "function",
          "line": 79,
          "visibility": "pub",
          "signature": "fn as_str(&self)",
          "doc": "Get the node ID as a string"
        },
        {
          "name": "generate",
          "kind": "function",
          "line": 86,
          "visibility": "pub",
          "signature": "fn generate()",
          "doc": "Generate a unique node ID based on hostname and random suffix\n\nUses production RNG. For DST, use `generate_with_rng`."
        },
        {
          "name": "generate_with_rng",
          "kind": "function",
          "line": 91,
          "visibility": "pub",
          "signature": "fn generate_with_rng(rng: &dyn RngProvider)",
          "doc": "Generate a unique node ID with injected RNG (for DST)"
        },
        {
          "name": "fmt::Display for NodeId",
          "kind": "impl",
          "line": 110,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 111,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "AsRef<str> for NodeId",
          "kind": "impl",
          "line": 116,
          "visibility": "private"
        },
        {
          "name": "as_ref",
          "kind": "function",
          "line": 117,
          "visibility": "private",
          "signature": "fn as_ref(&self)"
        },
        {
          "name": "NodeStatus",
          "kind": "enum",
          "line": 125,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "NodeStatus",
          "kind": "impl",
          "line": 140,
          "visibility": "private"
        },
        {
          "name": "can_accept_actors",
          "kind": "function",
          "line": 142,
          "visibility": "pub",
          "signature": "fn can_accept_actors(&self)",
          "doc": "Check if the node can accept new actor activations"
        },
        {
          "name": "is_healthy",
          "kind": "function",
          "line": 147,
          "visibility": "pub",
          "signature": "fn is_healthy(&self)",
          "doc": "Check if the node is considered healthy"
        },
        {
          "name": "should_remove",
          "kind": "function",
          "line": 152,
          "visibility": "pub",
          "signature": "fn should_remove(&self)",
          "doc": "Check if the node should be removed from the cluster"
        },
        {
          "name": "fmt::Display for NodeStatus",
          "kind": "impl",
          "line": 157,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "NodeInfo",
          "kind": "struct",
          "line": 172,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "NodeInfo",
          "kind": "impl",
          "line": 193,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 201,
          "visibility": "pub",
          "signature": "fn new(id: NodeId, rpc_addr: SocketAddr)",
          "doc": "Create new node info using production wall clock\n\nFor DST, use `with_timestamp` or `new_with_time`.\n\n# Arguments\n* `id` - The node's unique identifier\n* `rpc_addr` - The node's RPC address for inter-node communication"
        },
        {
          "name": "new_with_time",
          "kind": "function",
          "line": 206,
          "visibility": "pub",
          "signature": "fn new_with_time(id: NodeId, rpc_addr: SocketAddr, time: &dyn TimeProvider)",
          "doc": "Create new node info with injected time provider (for DST)"
        },
        {
          "name": "with_timestamp",
          "kind": "function",
          "line": 213,
          "visibility": "pub",
          "signature": "fn with_timestamp(id: NodeId, rpc_addr: SocketAddr, timestamp_ms: u64)",
          "doc": "Create new node info with a specific timestamp\n\nUseful for testing and simulation."
        },
        {
          "name": "update_heartbeat",
          "kind": "function",
          "line": 228,
          "visibility": "pub",
          "signature": "fn update_heartbeat(&mut self, timestamp_ms: u64)",
          "doc": "Update heartbeat timestamp"
        },
        {
          "name": "is_heartbeat_timeout",
          "kind": "function",
          "line": 237,
          "visibility": "pub",
          "signature": "fn is_heartbeat_timeout(&self, now_ms: u64, timeout_ms: u64)",
          "doc": "Check if heartbeat has timed out"
        },
        {
          "name": "has_capacity",
          "kind": "function",
          "line": 243,
          "visibility": "pub",
          "signature": "fn has_capacity(&self)",
          "doc": "Check if node has capacity for more actors"
        },
        {
          "name": "available_capacity",
          "kind": "function",
          "line": 248,
          "visibility": "pub",
          "signature": "fn available_capacity(&self)",
          "doc": "Calculate available capacity"
        },
        {
          "name": "load_percent",
          "kind": "function",
          "line": 253,
          "visibility": "pub",
          "signature": "fn load_percent(&self)",
          "doc": "Calculate load as a percentage (0-100)"
        },
        {
          "name": "increment_actor_count",
          "kind": "function",
          "line": 262,
          "visibility": "pub",
          "signature": "fn increment_actor_count(&mut self)",
          "doc": "Increment actor count"
        },
        {
          "name": "decrement_actor_count",
          "kind": "function",
          "line": 267,
          "visibility": "pub",
          "signature": "fn decrement_actor_count(&mut self)",
          "doc": "Decrement actor count"
        },
        {
          "name": "set_status",
          "kind": "function",
          "line": 272,
          "visibility": "pub",
          "signature": "fn set_status(&mut self, status: NodeStatus)",
          "doc": "Set status with validation"
        },
        {
          "name": "_",
          "kind": "const",
          "line": 296,
          "visibility": "private",
          "signature": "const _: ()",
          "doc": "Compile-time assertion for cluster limit"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 302,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_addr",
          "kind": "function",
          "line": 306,
          "visibility": "private",
          "signature": "fn test_addr()"
        },
        {
          "name": "test_node_id_valid",
          "kind": "function",
          "line": 311,
          "visibility": "private",
          "signature": "fn test_node_id_valid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_id_invalid_empty",
          "kind": "function",
          "line": 318,
          "visibility": "private",
          "signature": "fn test_node_id_invalid_empty()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_id_invalid_chars",
          "kind": "function",
          "line": 324,
          "visibility": "private",
          "signature": "fn test_node_id_invalid_chars()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_id_too_long",
          "kind": "function",
          "line": 330,
          "visibility": "private",
          "signature": "fn test_node_id_too_long()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_id_generate",
          "kind": "function",
          "line": 337,
          "visibility": "private",
          "signature": "fn test_node_id_generate()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_status_transitions",
          "kind": "function",
          "line": 345,
          "visibility": "private",
          "signature": "fn test_node_status_transitions()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_info_new",
          "kind": "function",
          "line": 360,
          "visibility": "private",
          "signature": "fn test_node_info_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_info_heartbeat",
          "kind": "function",
          "line": 371,
          "visibility": "private",
          "signature": "fn test_node_info_heartbeat()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_info_capacity",
          "kind": "function",
          "line": 384,
          "visibility": "private",
          "signature": "fn test_node_info_capacity()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_info_actor_count",
          "kind": "function",
          "line": 405,
          "visibility": "private",
          "signature": "fn test_node_info_actor_count()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "kelpie_core::constants::CLUSTER_NODES_COUNT_MAX"
        },
        {
          "path": "kelpie_core::io::RngProvider"
        },
        {
          "path": "kelpie_core::io::StdRngProvider"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::fmt"
        },
        {
          "path": "std::net::SocketAddr"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "std::net::IpAddr"
        },
        {
          "path": "std::net::Ipv4Addr"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/placement.rs",
      "symbols": [
        {
          "name": "ActorPlacement",
          "kind": "struct",
          "line": 13,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ActorPlacement",
          "kind": "impl",
          "line": 26,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 30,
          "visibility": "pub",
          "signature": "fn new(actor_id: ActorId, node_id: NodeId)",
          "doc": "Create a new placement record using production wall clock\n\nFor DST, use `with_timestamp` or `new_with_time`."
        },
        {
          "name": "new_with_time",
          "kind": "function",
          "line": 35,
          "visibility": "pub",
          "signature": "fn new_with_time(actor_id: ActorId, node_id: NodeId, time: &dyn TimeProvider)",
          "doc": "Create a new placement record with injected time provider (for DST)"
        },
        {
          "name": "with_timestamp",
          "kind": "function",
          "line": 40,
          "visibility": "pub",
          "signature": "fn with_timestamp(actor_id: ActorId, node_id: NodeId, timestamp_ms: u64)",
          "doc": "Create a placement with a specific timestamp (for testing/simulation)"
        },
        {
          "name": "migrate_to",
          "kind": "function",
          "line": 51,
          "visibility": "pub",
          "signature": "fn migrate_to(&mut self, new_node: NodeId, timestamp_ms: u64)",
          "doc": "Update the node for this placement (for migration)"
        },
        {
          "name": "is_stale",
          "kind": "function",
          "line": 59,
          "visibility": "pub",
          "signature": "fn is_stale(&self, other: &ActorPlacement)",
          "doc": "Check if this placement is stale compared to another"
        },
        {
          "name": "touch",
          "kind": "function",
          "line": 65,
          "visibility": "pub",
          "signature": "fn touch(&mut self, timestamp_ms: u64)",
          "doc": "Touch the placement to update the timestamp"
        },
        {
          "name": "PlacementStrategy",
          "kind": "enum",
          "line": 73,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, Default)"
          ]
        },
        {
          "name": "PlacementContext",
          "kind": "struct",
          "line": 87,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "PlacementContext",
          "kind": "impl",
          "line": 96,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 98,
          "visibility": "pub",
          "signature": "fn new(actor_id: ActorId)",
          "doc": "Create a new placement context"
        },
        {
          "name": "with_preferred_node",
          "kind": "function",
          "line": 107,
          "visibility": "pub",
          "signature": "fn with_preferred_node(mut self, node_id: NodeId)",
          "doc": "Set preferred node"
        },
        {
          "name": "with_strategy",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "fn with_strategy(mut self, strategy: PlacementStrategy)",
          "doc": "Set placement strategy"
        },
        {
          "name": "PlacementDecision",
          "kind": "enum",
          "line": 122,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "validate_placement",
          "kind": "function",
          "line": 132,
          "visibility": "pub",
          "signature": "fn validate_placement(\n    actor_id: &ActorId,\n    existing: Option<&ActorPlacement>,\n    requested_node: &NodeId,\n)",
          "doc": "Validation for placement operations"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 155,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_actor_id",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "fn test_actor_id()"
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 162,
          "visibility": "private",
          "signature": "fn test_node_id()"
        },
        {
          "name": "test_actor_placement_new",
          "kind": "function",
          "line": 167,
          "visibility": "private",
          "signature": "fn test_actor_placement_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_actor_placement_migrate",
          "kind": "function",
          "line": 176,
          "visibility": "private",
          "signature": "fn test_actor_placement_migrate()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_actor_placement_stale",
          "kind": "function",
          "line": 188,
          "visibility": "private",
          "signature": "fn test_actor_placement_stale()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_placement_context",
          "kind": "function",
          "line": 198,
          "visibility": "private",
          "signature": "fn test_placement_context()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_validate_placement_no_conflict",
          "kind": "function",
          "line": 209,
          "visibility": "private",
          "signature": "fn test_validate_placement_no_conflict()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_validate_placement_same_node",
          "kind": "function",
          "line": 215,
          "visibility": "private",
          "signature": "fn test_validate_placement_same_node()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_validate_placement_conflict",
          "kind": "function",
          "line": 222,
          "visibility": "private",
          "signature": "fn test_validate_placement_conflict()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/heartbeat.rs",
      "symbols": [
        {
          "name": "HEARTBEAT_INTERVAL_MS_MIN",
          "kind": "const",
          "line": 13,
          "visibility": "pub",
          "signature": "const HEARTBEAT_INTERVAL_MS_MIN: u64",
          "doc": "Minimum heartbeat interval in milliseconds"
        },
        {
          "name": "HEARTBEAT_INTERVAL_MS_MAX",
          "kind": "const",
          "line": 16,
          "visibility": "pub",
          "signature": "const HEARTBEAT_INTERVAL_MS_MAX: u64",
          "doc": "Maximum heartbeat interval in milliseconds"
        },
        {
          "name": "HEARTBEAT_SUSPECT_COUNT",
          "kind": "const",
          "line": 19,
          "visibility": "pub",
          "signature": "const HEARTBEAT_SUSPECT_COUNT: u32",
          "doc": "Number of missed heartbeats before suspecting a node"
        },
        {
          "name": "HEARTBEAT_FAILURE_COUNT",
          "kind": "const",
          "line": 22,
          "visibility": "pub",
          "signature": "const HEARTBEAT_FAILURE_COUNT: u32",
          "doc": "Number of missed heartbeats before declaring failure"
        },
        {
          "name": "HeartbeatConfig",
          "kind": "struct",
          "line": 26,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Default for HeartbeatConfig",
          "kind": "impl",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 38,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "HeartbeatConfig",
          "kind": "impl",
          "line": 48,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "fn new(interval_ms: u64)",
          "doc": "Create a new heartbeat configuration\n\nValues outside bounds are clamped to valid range."
        },
        {
          "name": "for_testing",
          "kind": "function",
          "line": 65,
          "visibility": "pub",
          "signature": "fn for_testing()",
          "is_test": true,
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "Heartbeat",
          "kind": "struct",
          "line": 77,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Heartbeat",
          "kind": "impl",
          "line": 92,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 94,
          "visibility": "pub",
          "signature": "fn new(\n        node_id: NodeId,\n        timestamp_ms: u64,\n        status: NodeStatus,\n        actor_count: u64,\n        available_capacity: u64,\n        sequence: u64,\n    )",
          "doc": "Create a new heartbeat"
        },
        {
          "name": "is_newer_than",
          "kind": "function",
          "line": 113,
          "visibility": "pub",
          "signature": "fn is_newer_than(&self, other: &Heartbeat)",
          "doc": "Check if this heartbeat is newer than another"
        },
        {
          "name": "NodeHeartbeatState",
          "kind": "struct",
          "line": 121,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "NodeHeartbeatState",
          "kind": "impl",
          "line": 134,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 136,
          "visibility": "pub",
          "signature": "fn new(node_id: NodeId, now_ms: u64)",
          "doc": "Create initial state for a node"
        },
        {
          "name": "receive_heartbeat",
          "kind": "function",
          "line": 147,
          "visibility": "pub",
          "signature": "fn receive_heartbeat(&mut self, heartbeat: Heartbeat, now_ms: u64)",
          "doc": "Process a received heartbeat"
        },
        {
          "name": "check_timeout",
          "kind": "function",
          "line": 170,
          "visibility": "pub",
          "signature": "fn check_timeout(&mut self, now_ms: u64, config: &HeartbeatConfig)",
          "doc": "Check for timeout and update status\n\nReturns the new status if it changed"
        },
        {
          "name": "HeartbeatTracker",
          "kind": "struct",
          "line": 192,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "HeartbeatTracker",
          "kind": "impl",
          "line": 201,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 203,
          "visibility": "pub",
          "signature": "fn new(config: HeartbeatConfig)",
          "doc": "Create a new heartbeat tracker"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 212,
          "visibility": "pub",
          "signature": "fn config(&self)",
          "doc": "Get the configuration"
        },
        {
          "name": "register_node",
          "kind": "function",
          "line": 217,
          "visibility": "pub",
          "signature": "fn register_node(&mut self, node_id: NodeId, now_ms: u64)",
          "doc": "Register a new node to track"
        },
        {
          "name": "unregister_node",
          "kind": "function",
          "line": 224,
          "visibility": "pub",
          "signature": "fn unregister_node(&mut self, node_id: &NodeId)",
          "doc": "Unregister a node"
        },
        {
          "name": "receive_heartbeat",
          "kind": "function",
          "line": 229,
          "visibility": "pub",
          "signature": "fn receive_heartbeat(&mut self, heartbeat: Heartbeat, now_ms: u64)",
          "doc": "Process a received heartbeat"
        },
        {
          "name": "check_all_timeouts",
          "kind": "function",
          "line": 242,
          "visibility": "pub",
          "signature": "fn check_all_timeouts(&mut self, now_ms: u64)",
          "doc": "Check all nodes for timeouts\n\nReturns a list of (node_id, old_status, new_status) for nodes that changed"
        },
        {
          "name": "next_sequence",
          "kind": "function",
          "line": 256,
          "visibility": "pub",
          "signature": "fn next_sequence(&mut self)",
          "doc": "Get the next sequence number for outgoing heartbeats"
        },
        {
          "name": "get_status",
          "kind": "function",
          "line": 263,
          "visibility": "pub",
          "signature": "fn get_status(&self, node_id: &NodeId)",
          "doc": "Get the detected status of a node"
        },
        {
          "name": "nodes_with_status",
          "kind": "function",
          "line": 268,
          "visibility": "pub",
          "signature": "fn nodes_with_status(&self, status: NodeStatus)",
          "doc": "Get all nodes with a specific status"
        },
        {
          "name": "active_node_count",
          "kind": "function",
          "line": 277,
          "visibility": "pub",
          "signature": "fn active_node_count(&self)",
          "doc": "Get count of active nodes"
        },
        {
          "name": "interval",
          "kind": "function",
          "line": 285,
          "visibility": "pub",
          "signature": "fn interval(&self)",
          "doc": "Get the next heartbeat interval"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 291,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 294,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_heartbeat_config_default",
          "kind": "function",
          "line": 299,
          "visibility": "private",
          "signature": "fn test_heartbeat_config_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_heartbeat_config_bounds",
          "kind": "function",
          "line": 306,
          "visibility": "private",
          "signature": "fn test_heartbeat_config_bounds()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_heartbeat_sequence",
          "kind": "function",
          "line": 315,
          "visibility": "private",
          "signature": "fn test_heartbeat_sequence()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_heartbeat_state_receive",
          "kind": "function",
          "line": 324,
          "visibility": "private",
          "signature": "fn test_node_heartbeat_state_receive()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_node_heartbeat_state_timeout",
          "kind": "function",
          "line": 337,
          "visibility": "private",
          "signature": "fn test_node_heartbeat_state_timeout()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_heartbeat_tracker_register",
          "kind": "function",
          "line": 358,
          "visibility": "private",
          "signature": "fn test_heartbeat_tracker_register()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_heartbeat_tracker_receive",
          "kind": "function",
          "line": 369,
          "visibility": "private",
          "signature": "fn test_heartbeat_tracker_receive()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_heartbeat_tracker_timeout",
          "kind": "function",
          "line": 383,
          "visibility": "private",
          "signature": "fn test_heartbeat_tracker_timeout()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_heartbeat_tracker_nodes_with_status",
          "kind": "function",
          "line": 410,
          "visibility": "private",
          "signature": "fn test_heartbeat_tracker_nodes_with_status()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_heartbeat_tracker_sequence",
          "kind": "function",
          "line": 432,
          "visibility": "private",
          "signature": "fn test_heartbeat_tracker_sequence()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "crate::node::NodeStatus"
        },
        {
          "path": "kelpie_core::constants::HEARTBEAT_INTERVAL_MS"
        },
        {
          "path": "kelpie_core::constants::HEARTBEAT_TIMEOUT_MS"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/cluster_storage.rs",
      "symbols": [
        {
          "name": "ClusterStorageBackend",
          "kind": "trait",
          "line": 28,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MockClusterStorage",
          "kind": "struct",
          "line": 93,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "MockClusterStorage",
          "kind": "impl",
          "line": 106,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 108,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create new empty mock storage"
        },
        {
          "name": "node_ids",
          "kind": "function",
          "line": 119,
          "visibility": "pub",
          "signature": "async fn node_ids(&self)",
          "doc": "Get all node IDs (for testing)",
          "is_async": true
        },
        {
          "name": "clear",
          "kind": "function",
          "line": 125,
          "visibility": "pub",
          "signature": "async fn clear(&self)",
          "doc": "Clear all data (for test reset)",
          "is_async": true
        },
        {
          "name": "Default for MockClusterStorage",
          "kind": "impl",
          "line": 134,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 135,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ClusterStorageBackend for MockClusterStorage",
          "kind": "impl",
          "line": 141,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get_node",
          "kind": "function",
          "line": 142,
          "visibility": "private",
          "signature": "async fn get_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "write_node",
          "kind": "function",
          "line": 147,
          "visibility": "private",
          "signature": "async fn write_node(&self, info: &ClusterNodeInfo)",
          "is_async": true
        },
        {
          "name": "list_nodes",
          "kind": "function",
          "line": 153,
          "visibility": "private",
          "signature": "async fn list_nodes(&self)",
          "is_async": true
        },
        {
          "name": "read_membership_view",
          "kind": "function",
          "line": 161,
          "visibility": "private",
          "signature": "async fn read_membership_view(&self)",
          "is_async": true
        },
        {
          "name": "write_membership_view",
          "kind": "function",
          "line": 166,
          "visibility": "private",
          "signature": "async fn write_membership_view(&self, view: &MembershipView)",
          "is_async": true
        },
        {
          "name": "read_primary",
          "kind": "function",
          "line": 171,
          "visibility": "private",
          "signature": "async fn read_primary(&self)",
          "is_async": true
        },
        {
          "name": "write_primary",
          "kind": "function",
          "line": 176,
          "visibility": "private",
          "signature": "async fn write_primary(&self, primary: &PrimaryInfo)",
          "is_async": true
        },
        {
          "name": "clear_primary",
          "kind": "function",
          "line": 181,
          "visibility": "private",
          "signature": "async fn clear_primary(&self)",
          "is_async": true
        },
        {
          "name": "read_primary_term",
          "kind": "function",
          "line": 186,
          "visibility": "private",
          "signature": "async fn read_primary_term(&self)",
          "is_async": true
        },
        {
          "name": "write_primary_term",
          "kind": "function",
          "line": 191,
          "visibility": "private",
          "signature": "async fn write_primary_term(&self, term: u64)",
          "is_async": true
        },
        {
          "name": "read_migration_queue",
          "kind": "function",
          "line": 196,
          "visibility": "private",
          "signature": "async fn read_migration_queue(&self)",
          "is_async": true
        },
        {
          "name": "write_migration_queue",
          "kind": "function",
          "line": 201,
          "visibility": "private",
          "signature": "async fn write_migration_queue(&self, queue: &MigrationQueue)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 212,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 216,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_mock_storage_node_operations",
          "kind": "function",
          "line": 221,
          "visibility": "private",
          "signature": "async fn test_mock_storage_node_operations()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_storage_membership_view",
          "kind": "function",
          "line": 244,
          "visibility": "private",
          "signature": "async fn test_mock_storage_membership_view()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_storage_primary",
          "kind": "function",
          "line": 265,
          "visibility": "private",
          "signature": "async fn test_mock_storage_primary()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_storage_deterministic_ordering",
          "kind": "function",
          "line": 288,
          "visibility": "private",
          "signature": "async fn test_mock_storage_deterministic_ordering()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::cluster_types::ClusterNodeInfo"
        },
        {
          "path": "crate::cluster_types::MigrationQueue"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::membership::MembershipView"
        },
        {
          "path": "crate::membership::PrimaryInfo"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "std::collections::HashSet"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/fdb.rs",
      "symbols": [
        {
          "name": "FDB_NETWORK",
          "kind": "static",
          "line": 43,
          "visibility": "private",
          "signature": "static FDB_NETWORK: OnceLock<NetworkAutoStop>",
          "doc": "Global FDB network guard - must live for the entire process"
        },
        {
          "name": "LEASE_DURATION_MS_DEFAULT",
          "kind": "const",
          "line": 50,
          "visibility": "pub",
          "signature": "const LEASE_DURATION_MS_DEFAULT: u64",
          "doc": "Default lease duration in milliseconds"
        },
        {
          "name": "LEASE_RENEWAL_INTERVAL_MS_DEFAULT",
          "kind": "const",
          "line": 53,
          "visibility": "pub",
          "signature": "const LEASE_RENEWAL_INTERVAL_MS_DEFAULT: u64",
          "doc": "Lease renewal interval (should be less than lease duration)"
        },
        {
          "name": "TRANSACTION_RETRY_COUNT_MAX",
          "kind": "const",
          "line": 56,
          "visibility": "private",
          "signature": "const TRANSACTION_RETRY_COUNT_MAX: usize",
          "doc": "Maximum transaction retry count"
        },
        {
          "name": "TRANSACTION_TIMEOUT_MS",
          "kind": "const",
          "line": 59,
          "visibility": "private",
          "signature": "const TRANSACTION_TIMEOUT_MS: i32",
          "doc": "Transaction timeout in milliseconds"
        },
        {
          "name": "KEY_PREFIX_KELPIE",
          "kind": "const",
          "line": 62,
          "visibility": "private",
          "signature": "const KEY_PREFIX_KELPIE: &str"
        },
        {
          "name": "KEY_PREFIX_REGISTRY",
          "kind": "const",
          "line": 63,
          "visibility": "private",
          "signature": "const KEY_PREFIX_REGISTRY: &str"
        },
        {
          "name": "KEY_PREFIX_NODES",
          "kind": "const",
          "line": 64,
          "visibility": "private",
          "signature": "const KEY_PREFIX_NODES: &str"
        },
        {
          "name": "KEY_PREFIX_ACTORS",
          "kind": "const",
          "line": 65,
          "visibility": "private",
          "signature": "const KEY_PREFIX_ACTORS: &str"
        },
        {
          "name": "KEY_PREFIX_LEASES",
          "kind": "const",
          "line": 66,
          "visibility": "private",
          "signature": "const KEY_PREFIX_LEASES: &str"
        },
        {
          "name": "Lease",
          "kind": "struct",
          "line": 77,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Lease",
          "kind": "impl",
          "line": 88,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "fn new(node_id: NodeId, now_ms: u64, duration_ms: u64)",
          "doc": "Create a new lease"
        },
        {
          "name": "is_expired",
          "kind": "function",
          "line": 100,
          "visibility": "pub",
          "signature": "fn is_expired(&self, now_ms: u64)",
          "doc": "Check if the lease has expired"
        },
        {
          "name": "renew",
          "kind": "function",
          "line": 105,
          "visibility": "pub",
          "signature": "fn renew(&mut self, now_ms: u64, duration_ms: u64)",
          "doc": "Renew the lease"
        },
        {
          "name": "is_owned_by",
          "kind": "function",
          "line": 111,
          "visibility": "pub",
          "signature": "fn is_owned_by(&self, node_id: &NodeId)",
          "doc": "Check if this node owns the lease"
        },
        {
          "name": "FdbRegistryConfig",
          "kind": "struct",
          "line": 122,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for FdbRegistryConfig",
          "kind": "impl",
          "line": 131,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 132,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "FdbRegistry",
          "kind": "struct",
          "line": 153,
          "visibility": "pub",
          "doc": "FoundationDB-backed registry\n\nProvides distributed actor registry with:\n- Linearizable operations via FDB transactions\n- Lease-based single activation guarantee\n- Distributed failure detection via heartbeats\n\nTigerStyle: Explicit FDB operations, bounded lease durations."
        },
        {
          "name": "FdbRegistry",
          "kind": "impl",
          "line": 168,
          "visibility": "private"
        },
        {
          "name": "connect",
          "kind": "function",
          "line": 175,
          "visibility": "pub",
          "signature": "async fn connect(\n        cluster_file: Option<&str>,\n        config: FdbRegistryConfig,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip_all)"
          ]
        },
        {
          "name": "from_database",
          "kind": "function",
          "line": 206,
          "visibility": "pub",
          "signature": "fn from_database(db: Arc<Database>, config: FdbRegistryConfig)",
          "doc": "Create from existing database handle (for testing)"
        },
        {
          "name": "with_clock",
          "kind": "function",
          "line": 219,
          "visibility": "pub",
          "signature": "fn with_clock(mut self, clock: Arc<dyn Clock>)",
          "doc": "Create with a custom clock (for testing)"
        },
        {
          "name": "node_key",
          "kind": "function",
          "line": 228,
          "visibility": "private",
          "signature": "fn node_key(&self, node_id: &NodeId)"
        },
        {
          "name": "nodes_prefix",
          "kind": "function",
          "line": 234,
          "visibility": "private",
          "signature": "fn nodes_prefix(&self)"
        },
        {
          "name": "actor_key",
          "kind": "function",
          "line": 241,
          "visibility": "private",
          "signature": "fn actor_key(&self, actor_id: &ActorId)"
        },
        {
          "name": "actors_prefix",
          "kind": "function",
          "line": 247,
          "visibility": "private",
          "signature": "fn actors_prefix(&self)"
        },
        {
          "name": "lease_key",
          "kind": "function",
          "line": 254,
          "visibility": "private",
          "signature": "fn lease_key(&self, actor_id: &ActorId)"
        },
        {
          "name": "leases_prefix",
          "kind": "function",
          "line": 260,
          "visibility": "private",
          "signature": "fn leases_prefix(&self)"
        },
        {
          "name": "create_transaction",
          "kind": "function",
          "line": 272,
          "visibility": "private",
          "signature": "fn create_transaction(&self)",
          "doc": "Create a new FDB transaction with timeout"
        },
        {
          "name": "read",
          "kind": "function",
          "line": 289,
          "visibility": "private",
          "signature": "async fn read<F, T>(&self, f: F)",
          "is_async": true,
          "generic_params": [
            "F",
            "T"
          ],
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "transact",
          "kind": "function",
          "line": 298,
          "visibility": "private",
          "signature": "async fn transact<F, T>(&self, f: F)",
          "doc": "Execute a read-write operation with retry",
          "is_async": true,
          "generic_params": [
            "F",
            "T"
          ]
        },
        {
          "name": "try_acquire_lease",
          "kind": "function",
          "line": 344,
          "visibility": "pub",
          "signature": "async fn try_acquire_lease(\n        &self,\n        actor_id: &ActorId,\n        node_id: &NodeId,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name(), node_id = %node_id))"
          ]
        },
        {
          "name": "release_lease",
          "kind": "function",
          "line": 391,
          "visibility": "pub",
          "signature": "async fn release_lease(&self, actor_id: &ActorId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name()))"
          ]
        },
        {
          "name": "get_lease",
          "kind": "function",
          "line": 405,
          "visibility": "pub",
          "signature": "async fn get_lease(&self, actor_id: &ActorId)",
          "doc": "Get the current lease for an actor",
          "is_async": true
        },
        {
          "name": "renew_leases",
          "kind": "function",
          "line": 433,
          "visibility": "pub",
          "signature": "async fn renew_leases(&self, node_id: &NodeId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %node_id))"
          ]
        },
        {
          "name": "renew_lease",
          "kind": "function",
          "line": 498,
          "visibility": "pub",
          "signature": "async fn renew_lease(&self, actor_id: &ActorId, node_id: &NodeId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name(), node_id = %node_id))"
          ]
        },
        {
          "name": "select_least_loaded",
          "kind": "function",
          "line": 546,
          "visibility": "private",
          "signature": "async fn select_least_loaded(&self)",
          "doc": "Select node using least-loaded strategy",
          "is_async": true
        },
        {
          "name": "std::fmt::Debug for FdbRegistry",
          "kind": "impl",
          "line": 556,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 557,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "Registry for FdbRegistry",
          "kind": "impl",
          "line": 566,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "register_node",
          "kind": "function",
          "line": 568,
          "visibility": "private",
          "signature": "async fn register_node(&self, info: NodeInfo)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, info), fields(node_id = %info.id))"
          ]
        },
        {
          "name": "unregister_node",
          "kind": "function",
          "line": 595,
          "visibility": "private",
          "signature": "async fn unregister_node(&self, node_id: &NodeId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %node_id))"
          ]
        },
        {
          "name": "get_node",
          "kind": "function",
          "line": 616,
          "visibility": "private",
          "signature": "async fn get_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "list_nodes",
          "kind": "function",
          "line": 653,
          "visibility": "private",
          "signature": "async fn list_nodes(&self)",
          "is_async": true
        },
        {
          "name": "list_nodes_by_status",
          "kind": "function",
          "line": 688,
          "visibility": "private",
          "signature": "async fn list_nodes_by_status(&self, status: NodeStatus)",
          "is_async": true
        },
        {
          "name": "update_node_status",
          "kind": "function",
          "line": 697,
          "visibility": "private",
          "signature": "async fn update_node_status(&self, node_id: &NodeId, status: NodeStatus)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %node_id, status = ?status))"
          ]
        },
        {
          "name": "receive_heartbeat",
          "kind": "function",
          "line": 726,
          "visibility": "private",
          "signature": "async fn receive_heartbeat(&self, heartbeat: Heartbeat)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, heartbeat), fields(node_id = %heartbeat.node_id))"
          ]
        },
        {
          "name": "get_placement",
          "kind": "function",
          "line": 747,
          "visibility": "private",
          "signature": "async fn get_placement(&self, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "register_actor",
          "kind": "function",
          "line": 771,
          "visibility": "private",
          "signature": "async fn register_actor(&self, actor_id: ActorId, node_id: NodeId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name(), node_id = %node_id))"
          ]
        },
        {
          "name": "unregister_actor",
          "kind": "function",
          "line": 854,
          "visibility": "private",
          "signature": "async fn unregister_actor(&self, actor_id: &ActorId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name()))"
          ]
        },
        {
          "name": "try_claim_actor",
          "kind": "function",
          "line": 870,
          "visibility": "private",
          "signature": "async fn try_claim_actor(\n        &self,\n        actor_id: ActorId,\n        node_id: NodeId,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name(), node_id = %node_id))"
          ]
        },
        {
          "name": "list_actors_on_node",
          "kind": "function",
          "line": 972,
          "visibility": "private",
          "signature": "async fn list_actors_on_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "migrate_actor",
          "kind": "function",
          "line": 1005,
          "visibility": "private",
          "signature": "async fn migrate_actor(\n        &self,\n        actor_id: &ActorId,\n        from_node: &NodeId,\n        to_node: &NodeId,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name(), from = %from_node, to = %to_node))"
          ]
        },
        {
          "name": "select_node_for_placement",
          "kind": "function",
          "line": 1053,
          "visibility": "private",
          "signature": "async fn select_node_for_placement(\n        &self,\n        context: PlacementContext,\n    )",
          "is_async": true
        },
        {
          "name": "LeaseRenewalTask",
          "kind": "struct",
          "line": 1102,
          "visibility": "pub",
          "doc": "Background task for periodic lease renewal\n\nSpawns a task that periodically renews all leases owned by a node.\nShould be started when a node joins the cluster and stopped on shutdown.\n\nTigerStyle: Explicit task lifecycle, graceful shutdown via channel.\nUses Runtime abstraction for DST compatibility."
        },
        {
          "name": "LeaseRenewalTask",
          "kind": "impl",
          "line": 1109,
          "visibility": "private"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 1113,
          "visibility": "pub",
          "signature": "fn start(registry: Arc<FdbRegistry>, node_id: NodeId)",
          "doc": "Start the lease renewal task\n\nThe task will run until `stop()` is called or the registry is dropped."
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 1161,
          "visibility": "pub",
          "signature": "fn stop(&mut self)",
          "doc": "Stop the lease renewal task gracefully\n\nSignals the task to stop. The task will exit on its next iteration."
        },
        {
          "name": "Drop for LeaseRenewalTask",
          "kind": "impl",
          "line": 1168,
          "visibility": "private"
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 1169,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1182,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_lease_new",
          "kind": "function",
          "line": 1186,
          "visibility": "private",
          "signature": "fn test_lease_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_expiry",
          "kind": "function",
          "line": 1197,
          "visibility": "private",
          "signature": "fn test_lease_expiry()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_renewal",
          "kind": "function",
          "line": 1211,
          "visibility": "private",
          "signature": "fn test_lease_renewal()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_ownership",
          "kind": "function",
          "line": 1225,
          "visibility": "private",
          "signature": "fn test_lease_ownership()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fdb_registry_node_registration",
          "kind": "function",
          "line": 1237,
          "visibility": "private",
          "signature": "async fn test_fdb_registry_node_registration()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_registry_actor_claim",
          "kind": "function",
          "line": 1260,
          "visibility": "private",
          "signature": "async fn test_fdb_registry_actor_claim()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::heartbeat::Heartbeat"
        },
        {
          "path": "crate::heartbeat::HeartbeatConfig"
        },
        {
          "path": "crate::heartbeat::HeartbeatTracker"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "crate::node::NodeInfo"
        },
        {
          "path": "crate::node::NodeStatus"
        },
        {
          "path": "crate::placement::ActorPlacement"
        },
        {
          "path": "crate::placement::PlacementContext"
        },
        {
          "path": "crate::placement::PlacementDecision"
        },
        {
          "path": "crate::placement::PlacementStrategy"
        },
        {
          "path": "crate::registry::Clock"
        },
        {
          "path": "crate::registry::Registry"
        },
        {
          "path": "crate::registry::SystemClock"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "foundationdb::api::FdbApiBuilder"
        },
        {
          "path": "foundationdb::api::NetworkAutoStop"
        },
        {
          "path": "foundationdb::options::StreamingMode"
        },
        {
          "path": "foundationdb::tuple::Subspace"
        },
        {
          "path": "foundationdb::Database"
        },
        {
          "path": "foundationdb::RangeOption"
        },
        {
          "path": "foundationdb::Transaction",
          "alias": "FdbTransaction"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::sync::OnceLock"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "kelpie_core::runtime::current_runtime"
        },
        {
          "path": "kelpie_core::runtime::JoinHandle"
        },
        {
          "path": "kelpie_core::runtime::Runtime"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-registry/src/cluster.rs",
      "symbols": [
        {
          "name": "TRANSACTION_TIMEOUT_MS",
          "kind": "const",
          "line": 28,
          "visibility": "private",
          "signature": "const TRANSACTION_TIMEOUT_MS: i32",
          "doc": "Transaction timeout in milliseconds"
        },
        {
          "name": "ELECTION_TIMEOUT_MS",
          "kind": "const",
          "line": 31,
          "visibility": "pub",
          "signature": "const ELECTION_TIMEOUT_MS: u64",
          "doc": "Election timeout in milliseconds (how long to wait for primary response)"
        },
        {
          "name": "PRIMARY_STEPDOWN_DELAY_MS",
          "kind": "const",
          "line": 34,
          "visibility": "pub",
          "signature": "const PRIMARY_STEPDOWN_DELAY_MS: u64",
          "doc": "Primary step-down delay after quorum loss in milliseconds"
        },
        {
          "name": "KEY_PREFIX_KELPIE",
          "kind": "const",
          "line": 37,
          "visibility": "private",
          "signature": "const KEY_PREFIX_KELPIE: &str"
        },
        {
          "name": "KEY_PREFIX_CLUSTER",
          "kind": "const",
          "line": 38,
          "visibility": "private",
          "signature": "const KEY_PREFIX_CLUSTER: &str"
        },
        {
          "name": "KEY_PREFIX_NODES",
          "kind": "const",
          "line": 39,
          "visibility": "private",
          "signature": "const KEY_PREFIX_NODES: &str"
        },
        {
          "name": "KEY_MEMBERSHIP_VIEW",
          "kind": "const",
          "line": 40,
          "visibility": "private",
          "signature": "const KEY_MEMBERSHIP_VIEW: &str"
        },
        {
          "name": "KEY_PRIMARY",
          "kind": "const",
          "line": 41,
          "visibility": "private",
          "signature": "const KEY_PRIMARY: &str"
        },
        {
          "name": "KEY_PRIMARY_TERM",
          "kind": "const",
          "line": 42,
          "visibility": "private",
          "signature": "const KEY_PRIMARY_TERM: &str"
        },
        {
          "name": "ClusterNodeInfo",
          "kind": "struct",
          "line": 50,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ClusterNodeInfo",
          "kind": "impl",
          "line": 63,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 65,
          "visibility": "pub",
          "signature": "fn new(id: NodeId, rpc_addr: String, now_ms: u64)",
          "doc": "Create new cluster node info"
        },
        {
          "name": "is_heartbeat_timeout",
          "kind": "function",
          "line": 76,
          "visibility": "pub",
          "signature": "fn is_heartbeat_timeout(&self, now_ms: u64, timeout_ms: u64)",
          "doc": "Check if heartbeat has timed out"
        },
        {
          "name": "ClusterMembership",
          "kind": "struct",
          "line": 94,
          "visibility": "pub",
          "doc": "FDB-backed cluster membership manager\n\nProvides:\n- Node state management (TLA+ states)\n- Primary election with term-based conflict resolution\n- Membership view synchronization\n- Quorum checking for operations\n\nTigerStyle: All operations are FDB transactions, explicit quorum checks."
        },
        {
          "name": "ClusterMembership",
          "kind": "impl",
          "line": 115,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 117,
          "visibility": "pub",
          "signature": "fn new(\n        db: Arc<Database>,\n        local_node_id: NodeId,\n        time_provider: Arc<dyn TimeProvider>,\n    )",
          "doc": "Create a new cluster membership manager"
        },
        {
          "name": "local_node_id",
          "kind": "function",
          "line": 138,
          "visibility": "pub",
          "signature": "fn local_node_id(&self)",
          "doc": "Get the local node ID"
        },
        {
          "name": "local_state",
          "kind": "function",
          "line": 143,
          "visibility": "pub",
          "signature": "async fn local_state(&self)",
          "doc": "Get the current local state",
          "is_async": true
        },
        {
          "name": "is_primary",
          "kind": "function",
          "line": 148,
          "visibility": "pub",
          "signature": "async fn is_primary(&self)",
          "doc": "Check if this node believes it's the primary",
          "is_async": true
        },
        {
          "name": "current_term",
          "kind": "function",
          "line": 153,
          "visibility": "pub",
          "signature": "async fn current_term(&self)",
          "doc": "Get the current primary term",
          "is_async": true
        },
        {
          "name": "membership_view",
          "kind": "function",
          "line": 158,
          "visibility": "pub",
          "signature": "async fn membership_view(&self)",
          "doc": "Get the current membership view",
          "is_async": true
        },
        {
          "name": "node_key",
          "kind": "function",
          "line": 166,
          "visibility": "private",
          "signature": "fn node_key(&self, node_id: &NodeId)"
        },
        {
          "name": "nodes_prefix",
          "kind": "function",
          "line": 172,
          "visibility": "private",
          "signature": "fn nodes_prefix(&self)"
        },
        {
          "name": "membership_view_key",
          "kind": "function",
          "line": 179,
          "visibility": "private",
          "signature": "fn membership_view_key(&self)"
        },
        {
          "name": "primary_key",
          "kind": "function",
          "line": 183,
          "visibility": "private",
          "signature": "fn primary_key(&self)"
        },
        {
          "name": "primary_term_key",
          "kind": "function",
          "line": 187,
          "visibility": "private",
          "signature": "fn primary_term_key(&self)"
        },
        {
          "name": "create_transaction",
          "kind": "function",
          "line": 195,
          "visibility": "private",
          "signature": "fn create_transaction(&self)"
        },
        {
          "name": "join",
          "kind": "function",
          "line": 218,
          "visibility": "pub",
          "signature": "async fn join(&self, rpc_addr: String)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "complete_join",
          "kind": "function",
          "line": 281,
          "visibility": "pub",
          "signature": "async fn complete_join(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "leave",
          "kind": "function",
          "line": 317,
          "visibility": "pub",
          "signature": "async fn leave(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "complete_leave",
          "kind": "function",
          "line": 357,
          "visibility": "pub",
          "signature": "async fn complete_leave(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "try_become_primary",
          "kind": "function",
          "line": 394,
          "visibility": "pub",
          "signature": "async fn try_become_primary(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "step_down",
          "kind": "function",
          "line": 455,
          "visibility": "pub",
          "signature": "async fn step_down(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "step_down_internal",
          "kind": "function",
          "line": 459,
          "visibility": "private",
          "signature": "async fn step_down_internal(&self)",
          "is_async": true
        },
        {
          "name": "has_valid_primary_claim",
          "kind": "function",
          "line": 483,
          "visibility": "pub",
          "signature": "async fn has_valid_primary_claim(&self)",
          "doc": "Check if this node has a valid primary claim\n\nTLA+ HasValidPrimaryClaim:\n- believesPrimary is true\n- Node is Active\n- Can reach majority",
          "is_async": true
        },
        {
          "name": "get_primary",
          "kind": "function",
          "line": 496,
          "visibility": "pub",
          "signature": "async fn get_primary(&self)",
          "doc": "Get current primary info",
          "is_async": true
        },
        {
          "name": "has_quorum",
          "kind": "function",
          "line": 505,
          "visibility": "private",
          "signature": "fn has_quorum(&self, cluster_size: usize, reachable_count: usize)",
          "doc": "Check if a count constitutes a quorum"
        },
        {
          "name": "calculate_reachability",
          "kind": "function",
          "line": 511,
          "visibility": "private",
          "signature": "async fn calculate_reachability(&self)",
          "doc": "Calculate cluster size and reachable count",
          "is_async": true
        },
        {
          "name": "is_primary_valid",
          "kind": "function",
          "line": 532,
          "visibility": "private",
          "signature": "async fn is_primary_valid(&self, primary: &PrimaryInfo)",
          "doc": "Check if a primary is still valid",
          "is_async": true
        },
        {
          "name": "set_reachable_nodes",
          "kind": "function",
          "line": 555,
          "visibility": "pub",
          "signature": "async fn set_reachable_nodes(&self, nodes: HashSet<NodeId>)",
          "doc": "Set reachable nodes (for DST simulation)",
          "is_async": true
        },
        {
          "name": "mark_unreachable",
          "kind": "function",
          "line": 560,
          "visibility": "pub",
          "signature": "async fn mark_unreachable(&self, node_id: &NodeId)",
          "doc": "Mark a node as unreachable (for DST simulation)",
          "is_async": true
        },
        {
          "name": "mark_reachable",
          "kind": "function",
          "line": 565,
          "visibility": "pub",
          "signature": "async fn mark_reachable(&self, node_id: &NodeId)",
          "doc": "Mark a node as reachable (for DST simulation)",
          "is_async": true
        },
        {
          "name": "send_heartbeat",
          "kind": "function",
          "line": 575,
          "visibility": "pub",
          "signature": "async fn send_heartbeat(&self)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(node_id = %self.local_node_id))"
          ]
        },
        {
          "name": "detect_failed_nodes",
          "kind": "function",
          "line": 588,
          "visibility": "pub",
          "signature": "async fn detect_failed_nodes(&self, timeout_ms: u64)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self))"
          ]
        },
        {
          "name": "mark_node_failed",
          "kind": "function",
          "line": 610,
          "visibility": "pub",
          "signature": "async fn mark_node_failed(&self, node_id: &NodeId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(failed_node = %node_id))"
          ]
        },
        {
          "name": "get_cluster_node",
          "kind": "function",
          "line": 643,
          "visibility": "private",
          "signature": "async fn get_cluster_node(&self, node_id: &NodeId)",
          "is_async": true
        },
        {
          "name": "write_node_info",
          "kind": "function",
          "line": 666,
          "visibility": "private",
          "signature": "async fn write_node_info(&self, info: &ClusterNodeInfo)",
          "is_async": true
        },
        {
          "name": "list_cluster_nodes",
          "kind": "function",
          "line": 681,
          "visibility": "private",
          "signature": "async fn list_cluster_nodes(&self)",
          "is_async": true
        },
        {
          "name": "read_membership_view",
          "kind": "function",
          "line": 709,
          "visibility": "private",
          "signature": "async fn read_membership_view(&self)",
          "is_async": true
        },
        {
          "name": "write_membership_view",
          "kind": "function",
          "line": 732,
          "visibility": "private",
          "signature": "async fn write_membership_view(&self, view: &MembershipView)",
          "is_async": true
        },
        {
          "name": "read_primary",
          "kind": "function",
          "line": 747,
          "visibility": "private",
          "signature": "async fn read_primary(&self)",
          "is_async": true
        },
        {
          "name": "write_primary",
          "kind": "function",
          "line": 770,
          "visibility": "private",
          "signature": "async fn write_primary(&self, primary: &PrimaryInfo)",
          "is_async": true
        },
        {
          "name": "read_primary_term",
          "kind": "function",
          "line": 785,
          "visibility": "private",
          "signature": "async fn read_primary_term(&self)",
          "is_async": true
        },
        {
          "name": "write_primary_term",
          "kind": "function",
          "line": 815,
          "visibility": "private",
          "signature": "async fn write_primary_term(&self, term: u64)",
          "is_async": true
        },
        {
          "name": "sync_membership_view",
          "kind": "function",
          "line": 829,
          "visibility": "pub",
          "signature": "async fn sync_membership_view(&self)",
          "doc": "Synchronize local view with FDB (called after partition heal)",
          "is_async": true
        },
        {
          "name": "check_quorum_and_maybe_step_down",
          "kind": "function",
          "line": 837,
          "visibility": "pub",
          "signature": "async fn check_quorum_and_maybe_step_down(&self)",
          "doc": "Check if this node still has quorum, step down if not",
          "is_async": true
        },
        {
          "name": "std::fmt::Debug for ClusterMembership",
          "kind": "impl",
          "line": 856,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 857,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "MigrationCandidate",
          "kind": "struct",
          "line": 870,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MigrationCandidate",
          "kind": "impl",
          "line": 879,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 881,
          "visibility": "pub",
          "signature": "fn new(actor_id: String, failed_node_id: NodeId, detected_at_ms: u64)",
          "doc": "Create a new migration candidate"
        },
        {
          "name": "MigrationResult",
          "kind": "enum",
          "line": 894,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "MigrationResult",
          "kind": "impl",
          "line": 906,
          "visibility": "private"
        },
        {
          "name": "is_success",
          "kind": "function",
          "line": 908,
          "visibility": "pub",
          "signature": "fn is_success(&self)",
          "doc": "Check if migration was successful"
        },
        {
          "name": "actor_id",
          "kind": "function",
          "line": 913,
          "visibility": "pub",
          "signature": "fn actor_id(&self)",
          "doc": "Get the actor ID"
        },
        {
          "name": "MigrationQueue",
          "kind": "struct",
          "line": 924,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MigrationQueue",
          "kind": "impl",
          "line": 931,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 933,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty migration queue"
        },
        {
          "name": "add",
          "kind": "function",
          "line": 941,
          "visibility": "pub",
          "signature": "fn add(&mut self, candidate: MigrationCandidate, now_ms: u64)",
          "doc": "Add a candidate to the queue"
        },
        {
          "name": "remove",
          "kind": "function",
          "line": 947,
          "visibility": "pub",
          "signature": "fn remove(&mut self, actor_id: &str, now_ms: u64)",
          "doc": "Remove a candidate from the queue by actor_id"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 958,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if empty"
        },
        {
          "name": "len",
          "kind": "function",
          "line": 963,
          "visibility": "pub",
          "signature": "fn len(&self)",
          "doc": "Get the number of pending migrations"
        },
        {
          "name": "KEY_MIGRATION_QUEUE",
          "kind": "const",
          "line": 969,
          "visibility": "private",
          "signature": "const KEY_MIGRATION_QUEUE: &str"
        },
        {
          "name": "ClusterMembership",
          "kind": "impl",
          "line": 971,
          "visibility": "private"
        },
        {
          "name": "queue_actors_for_migration",
          "kind": "function",
          "line": 989,
          "visibility": "pub",
          "signature": "async fn queue_actors_for_migration(\n        &self,\n        failed_node_id: &NodeId,\n        actor_ids: Vec<String>,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, actor_ids), fields(failed_node = %failed_node_id, count = actor_ids.len()))"
          ]
        },
        {
          "name": "process_migration_queue",
          "kind": "function",
          "line": 1034,
          "visibility": "pub",
          "signature": "async fn process_migration_queue<F>(\n        &self,\n        select_node: F,\n    )",
          "is_async": true,
          "generic_params": [
            "F"
          ],
          "attributes": [
            "instrument(skip(self, select_node))"
          ]
        },
        {
          "name": "get_migration_queue",
          "kind": "function",
          "line": 1100,
          "visibility": "pub",
          "signature": "async fn get_migration_queue(&self)",
          "doc": "Get the current migration queue",
          "is_async": true
        },
        {
          "name": "clear_migration_queue",
          "kind": "function",
          "line": 1107,
          "visibility": "pub",
          "signature": "async fn clear_migration_queue(&self)",
          "doc": "Clear the migration queue",
          "is_async": true
        },
        {
          "name": "handle_node_failure",
          "kind": "function",
          "line": 1123,
          "visibility": "pub",
          "signature": "async fn handle_node_failure(\n        &self,\n        node_id: &NodeId,\n        actor_ids: Vec<String>,\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, actor_ids), fields(failed_node = %node_id))"
          ]
        },
        {
          "name": "migration_queue_key",
          "kind": "function",
          "line": 1143,
          "visibility": "private",
          "signature": "fn migration_queue_key(&self)"
        },
        {
          "name": "read_migration_queue",
          "kind": "function",
          "line": 1147,
          "visibility": "private",
          "signature": "async fn read_migration_queue(&self)",
          "is_async": true
        },
        {
          "name": "write_migration_queue",
          "kind": "function",
          "line": 1170,
          "visibility": "private",
          "signature": "async fn write_migration_queue(&self, queue: &MigrationQueue)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1191,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_cluster_node_info",
          "kind": "function",
          "line": 1195,
          "visibility": "private",
          "signature": "fn test_cluster_node_info()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_quorum_calculation",
          "kind": "function",
          "line": 1209,
          "visibility": "private",
          "signature": "fn test_quorum_calculation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_candidate",
          "kind": "function",
          "line": 1229,
          "visibility": "private",
          "signature": "fn test_migration_candidate()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_candidate_empty_actor_id_panics",
          "kind": "function",
          "line": 1240,
          "visibility": "private",
          "signature": "fn test_migration_candidate_empty_actor_id_panics()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"actor_id cannot be empty\")"
          ]
        },
        {
          "name": "test_migration_result",
          "kind": "function",
          "line": 1246,
          "visibility": "private",
          "signature": "fn test_migration_result()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_queue",
          "kind": "function",
          "line": 1271,
          "visibility": "private",
          "signature": "fn test_migration_queue()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::RegistryError"
        },
        {
          "path": "crate::error::RegistryResult"
        },
        {
          "path": "crate::membership::MembershipView"
        },
        {
          "path": "crate::membership::NodeState"
        },
        {
          "path": "crate::membership::PrimaryInfo"
        },
        {
          "path": "crate::node::NodeId"
        },
        {
          "path": "foundationdb::tuple::Subspace"
        },
        {
          "path": "foundationdb::Database"
        },
        {
          "path": "foundationdb::RangeOption"
        },
        {
          "path": "foundationdb::Transaction",
          "alias": "FdbTransaction"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashSet"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-storage/src/kv.rs",
      "symbols": [
        {
          "name": "KVOperation",
          "kind": "enum",
          "line": 12,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "ActorTransaction",
          "kind": "trait",
          "line": 29,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "ActorKV",
          "kind": "trait",
          "line": 63,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "ScopedKV",
          "kind": "struct",
          "line": 107,
          "visibility": "pub",
          "doc": "KV store scoped to a specific actor\n\nWraps an ActorKV and automatically supplies the actor_id for all operations.\nThis provides a cleaner interface for per-actor operations."
        },
        {
          "name": "ScopedKV",
          "kind": "impl",
          "line": 112,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "fn new(actor_id: ActorId, kv: Arc<dyn ActorKV>)",
          "doc": "Create a new ScopedKV bound to a specific actor"
        },
        {
          "name": "actor_id",
          "kind": "function",
          "line": 119,
          "visibility": "pub",
          "signature": "fn actor_id(&self)",
          "doc": "Get the actor ID this KV is scoped to"
        },
        {
          "name": "underlying_kv",
          "kind": "function",
          "line": 126,
          "visibility": "pub",
          "signature": "fn underlying_kv(&self)",
          "doc": "Get a clone of the underlying ActorKV\n\nUsed by the runtime to create buffering wrappers."
        },
        {
          "name": "get",
          "kind": "function",
          "line": 131,
          "visibility": "pub",
          "signature": "async fn get(&self, key: &[u8])",
          "doc": "Get a value by key",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 136,
          "visibility": "pub",
          "signature": "async fn set(&self, key: &[u8], value: &[u8])",
          "doc": "Set a key-value pair",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 141,
          "visibility": "pub",
          "signature": "async fn delete(&self, key: &[u8])",
          "doc": "Delete a key",
          "is_async": true
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 146,
          "visibility": "pub",
          "signature": "async fn exists(&self, key: &[u8])",
          "doc": "Check if a key exists",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 151,
          "visibility": "pub",
          "signature": "async fn list_keys(&self, prefix: &[u8])",
          "doc": "List keys with a prefix",
          "is_async": true
        },
        {
          "name": "begin_transaction",
          "kind": "function",
          "line": 159,
          "visibility": "pub",
          "signature": "async fn begin_transaction(&self)",
          "doc": "Begin a new transaction\n\nReturns a transaction handle that buffers writes until commit.\nThe transaction is automatically scoped to this actor.",
          "is_async": true
        },
        {
          "name": "ContextKV for ScopedKV",
          "kind": "impl",
          "line": 168,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 169,
          "visibility": "private",
          "signature": "async fn get(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "async fn set(&self, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 177,
          "visibility": "private",
          "signature": "async fn delete(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 181,
          "visibility": "private",
          "signature": "async fn exists(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 185,
          "visibility": "private",
          "signature": "async fn list_keys(&self, prefix: &[u8])",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::ActorId"
        },
        {
          "path": "kelpie_core::ContextKV"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "std::sync::Arc"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-storage/src/wal.rs",
      "symbols": [
        {
          "name": "WAL_ENTRY_RETENTION_MS",
          "kind": "const",
          "line": 36,
          "visibility": "pub",
          "signature": "const WAL_ENTRY_RETENTION_MS: u64",
          "doc": "Maximum age of completed entries before cleanup (24 hours)"
        },
        {
          "name": "WAL_PENDING_ENTRIES_WARN_THRESHOLD",
          "kind": "const",
          "line": 39,
          "visibility": "pub",
          "signature": "const WAL_PENDING_ENTRIES_WARN_THRESHOLD: usize",
          "doc": "Maximum number of pending entries before warning"
        },
        {
          "name": "WAL_COUNTER_MAX_RETRIES",
          "kind": "const",
          "line": 42,
          "visibility": "private",
          "signature": "const WAL_COUNTER_MAX_RETRIES: usize",
          "doc": "Maximum retries for WAL counter increment (handles transaction conflicts)"
        },
        {
          "name": "WalEntryId",
          "kind": "type_alias",
          "line": 49,
          "visibility": "pub",
          "doc": "WAL entry ID (monotonically increasing)"
        },
        {
          "name": "WalOperation",
          "kind": "enum",
          "line": 53,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)"
          ]
        },
        {
          "name": "std::fmt::Display for WalOperation",
          "kind": "impl",
          "line": 68,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 69,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "WalStatus",
          "kind": "enum",
          "line": 83,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)"
          ]
        },
        {
          "name": "WalEntry",
          "kind": "struct",
          "line": 94,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "WalEntry",
          "kind": "impl",
          "line": 114,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 116,
          "visibility": "pub",
          "signature": "fn new(\n        id: WalEntryId,\n        operation: WalOperation,\n        actor_id: &ActorId,\n        payload: Bytes,\n        now_ms: u64,\n    )",
          "doc": "Create a new pending WAL entry"
        },
        {
          "name": "new_with_idempotency_key",
          "kind": "function",
          "line": 136,
          "visibility": "pub",
          "signature": "fn new_with_idempotency_key(\n        id: WalEntryId,\n        operation: WalOperation,\n        actor_id: &ActorId,\n        payload: Bytes,\n        now_ms: u64,\n        idempotency_key: String,\n    )",
          "doc": "Create a new pending WAL entry with idempotency key"
        },
        {
          "name": "is_pending",
          "kind": "function",
          "line": 157,
          "visibility": "pub",
          "signature": "fn is_pending(&self)",
          "doc": "Check if entry is pending"
        },
        {
          "name": "payload_bytes",
          "kind": "function",
          "line": 162,
          "visibility": "pub",
          "signature": "fn payload_bytes(&self)",
          "doc": "Get payload as Bytes"
        },
        {
          "name": "WriteAheadLog",
          "kind": "trait",
          "line": 173,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MemoryWal",
          "kind": "struct",
          "line": 252,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "MemoryWal",
          "kind": "impl",
          "line": 257,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 259,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new in-memory WAL"
        },
        {
          "name": "new_arc",
          "kind": "function",
          "line": 267,
          "visibility": "pub",
          "signature": "fn new_arc()",
          "doc": "Create a new in-memory WAL wrapped in Arc"
        },
        {
          "name": "Default for MemoryWal",
          "kind": "impl",
          "line": 272,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 273,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "WriteAheadLog for MemoryWal",
          "kind": "impl",
          "line": 279,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "append",
          "kind": "function",
          "line": 280,
          "visibility": "private",
          "signature": "async fn append(\n        &self,\n        operation: WalOperation,\n        actor_id: &ActorId,\n        payload: Bytes,\n        now_ms: u64,\n    )",
          "is_async": true
        },
        {
          "name": "append_with_idempotency",
          "kind": "function",
          "line": 296,
          "visibility": "private",
          "signature": "async fn append_with_idempotency(\n        &self,\n        operation: WalOperation,\n        actor_id: &ActorId,\n        payload: Bytes,\n        now_ms: u64,\n        idempotency_key: String,\n    )",
          "is_async": true
        },
        {
          "name": "complete",
          "kind": "function",
          "line": 328,
          "visibility": "private",
          "signature": "async fn complete(&self, entry_id: WalEntryId, now_ms: u64)",
          "is_async": true
        },
        {
          "name": "fail",
          "kind": "function",
          "line": 347,
          "visibility": "private",
          "signature": "async fn fail(&self, entry_id: WalEntryId, error: &str, now_ms: u64)",
          "is_async": true
        },
        {
          "name": "pending_entries",
          "kind": "function",
          "line": 368,
          "visibility": "private",
          "signature": "async fn pending_entries(&self)",
          "is_async": true
        },
        {
          "name": "get",
          "kind": "function",
          "line": 383,
          "visibility": "private",
          "signature": "async fn get(&self, entry_id: WalEntryId)",
          "is_async": true
        },
        {
          "name": "find_by_idempotency_key",
          "kind": "function",
          "line": 388,
          "visibility": "private",
          "signature": "async fn find_by_idempotency_key(&self, key: &str)",
          "is_async": true
        },
        {
          "name": "cleanup",
          "kind": "function",
          "line": 398,
          "visibility": "private",
          "signature": "async fn cleanup(&self, older_than_ms: u64)",
          "is_async": true
        },
        {
          "name": "pending_count",
          "kind": "function",
          "line": 420,
          "visibility": "private",
          "signature": "async fn pending_count(&self)",
          "is_async": true
        },
        {
          "name": "WAL_KEY_PREFIX",
          "kind": "const",
          "line": 433,
          "visibility": "private",
          "signature": "const WAL_KEY_PREFIX: &[u8]",
          "doc": "WAL key prefix"
        },
        {
          "name": "WAL_COUNTER_KEY",
          "kind": "const",
          "line": 435,
          "visibility": "private",
          "signature": "const WAL_COUNTER_KEY: &[u8]",
          "doc": "WAL counter key"
        },
        {
          "name": "WAL_SYSTEM_NAMESPACE",
          "kind": "const",
          "line": 437,
          "visibility": "private",
          "signature": "const WAL_SYSTEM_NAMESPACE: &str",
          "doc": "System namespace for WAL storage"
        },
        {
          "name": "WAL_SYSTEM_ID",
          "kind": "const",
          "line": 439,
          "visibility": "private",
          "signature": "const WAL_SYSTEM_ID: &str",
          "doc": "System actor ID for WAL storage"
        },
        {
          "name": "KvWal",
          "kind": "struct",
          "line": 446,
          "visibility": "pub",
          "doc": "KV-backed WAL implementation\n\nStores WAL entries in the same KV store as actor state.\nUses atomic transactions for durability.\nUses a special \"_system:wal\" actor ID to isolate WAL data."
        },
        {
          "name": "KvWal",
          "kind": "impl",
          "line": 452,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 454,
          "visibility": "pub",
          "signature": "fn new(kv: Arc<dyn ActorKV>)",
          "doc": "Create a new KV-backed WAL"
        },
        {
          "name": "new_arc",
          "kind": "function",
          "line": 465,
          "visibility": "pub",
          "signature": "fn new_arc(kv: Arc<dyn ActorKV>)",
          "doc": "Create a new KV-backed WAL wrapped in Arc"
        },
        {
          "name": "entry_key",
          "kind": "function",
          "line": 470,
          "visibility": "private",
          "signature": "fn entry_key(id: WalEntryId)",
          "doc": "Generate the key for a WAL entry"
        },
        {
          "name": "next_id",
          "kind": "function",
          "line": 477,
          "visibility": "private",
          "signature": "async fn next_id(&self)",
          "doc": "Get the next entry ID atomically with retry on conflict",
          "is_async": true
        },
        {
          "name": "WriteAheadLog for KvWal",
          "kind": "impl",
          "line": 519,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "append",
          "kind": "function",
          "line": 520,
          "visibility": "private",
          "signature": "async fn append(\n        &self,\n        operation: WalOperation,\n        actor_id: &ActorId,\n        payload: Bytes,\n        now_ms: u64,\n    )",
          "is_async": true
        },
        {
          "name": "append_with_idempotency",
          "kind": "function",
          "line": 544,
          "visibility": "private",
          "signature": "async fn append_with_idempotency(\n        &self,\n        operation: WalOperation,\n        actor_id: &ActorId,\n        payload: Bytes,\n        now_ms: u64,\n        idempotency_key: String,\n    )",
          "is_async": true
        },
        {
          "name": "find_by_idempotency_key",
          "kind": "function",
          "line": 582,
          "visibility": "private",
          "signature": "async fn find_by_idempotency_key(&self, key: &str)",
          "is_async": true
        },
        {
          "name": "complete",
          "kind": "function",
          "line": 607,
          "visibility": "private",
          "signature": "async fn complete(&self, entry_id: WalEntryId, now_ms: u64)",
          "is_async": true
        },
        {
          "name": "fail",
          "kind": "function",
          "line": 647,
          "visibility": "private",
          "signature": "async fn fail(&self, entry_id: WalEntryId, error: &str, now_ms: u64)",
          "is_async": true
        },
        {
          "name": "pending_entries",
          "kind": "function",
          "line": 689,
          "visibility": "private",
          "signature": "async fn pending_entries(&self)",
          "is_async": true
        },
        {
          "name": "get",
          "kind": "function",
          "line": 719,
          "visibility": "private",
          "signature": "async fn get(&self, entry_id: WalEntryId)",
          "is_async": true
        },
        {
          "name": "cleanup",
          "kind": "function",
          "line": 735,
          "visibility": "private",
          "signature": "async fn cleanup(&self, older_than_ms: u64)",
          "is_async": true
        },
        {
          "name": "pending_count",
          "kind": "function",
          "line": 766,
          "visibility": "private",
          "signature": "async fn pending_count(&self)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 777,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_actor_id",
          "kind": "function",
          "line": 781,
          "visibility": "private",
          "signature": "fn test_actor_id()"
        },
        {
          "name": "test_memory_wal_append_and_complete",
          "kind": "function",
          "line": 786,
          "visibility": "private",
          "signature": "async fn test_memory_wal_append_and_complete()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_wal_append_and_fail",
          "kind": "function",
          "line": 819,
          "visibility": "private",
          "signature": "async fn test_memory_wal_append_and_fail()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_wal_pending_entries_ordered",
          "kind": "function",
          "line": 846,
          "visibility": "private",
          "signature": "async fn test_memory_wal_pending_entries_ordered()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_wal_cleanup",
          "kind": "function",
          "line": 875,
          "visibility": "private",
          "signature": "async fn test_memory_wal_cleanup()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_kv_wal_basic",
          "kind": "function",
          "line": 907,
          "visibility": "private",
          "signature": "async fn test_kv_wal_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pending_count",
          "kind": "function",
          "line": 938,
          "visibility": "private",
          "signature": "async fn test_pending_count()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_wal_idempotency",
          "kind": "function",
          "line": 964,
          "visibility": "private",
          "signature": "async fn test_memory_wal_idempotency()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_wal_idempotency_after_complete",
          "kind": "function",
          "line": 1029,
          "visibility": "private",
          "signature": "async fn test_memory_wal_idempotency_after_complete()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_kv_wal_idempotency",
          "kind": "function",
          "line": 1065,
          "visibility": "private",
          "signature": "async fn test_kv_wal_idempotency()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_find_by_idempotency_key_not_found",
          "kind": "function",
          "line": 1114,
          "visibility": "private",
          "signature": "async fn test_find_by_idempotency_key_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "crate::ActorKV"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::MemoryKV"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-storage/src/transaction.rs",
      "symbols": [
        {
          "name": "TransactionState",
          "kind": "enum",
          "line": 9,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "Transaction",
          "kind": "struct",
          "line": 21,
          "visibility": "pub",
          "doc": "A transaction for atomic KV operations\n\nTransactions provide all-or-nothing semantics for a batch of KV operations."
        },
        {
          "name": "TransactionOp",
          "kind": "enum",
          "line": 32,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Transaction",
          "kind": "impl",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 39,
          "visibility": "pub",
          "signature": "fn new(id: u64)",
          "doc": "Create a new transaction"
        },
        {
          "name": "set",
          "kind": "function",
          "line": 48,
          "visibility": "pub",
          "signature": "fn set(&mut self, key: Vec<u8>, value: Vec<u8>)",
          "doc": "Add a set operation"
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 55,
          "visibility": "pub",
          "signature": "fn delete(&mut self, key: Vec<u8>)",
          "doc": "Add a delete operation"
        },
        {
          "name": "operations",
          "kind": "function",
          "line": 62,
          "visibility": "pub",
          "signature": "fn operations(&self)",
          "doc": "Get the operations in this transaction"
        },
        {
          "name": "commit",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "fn commit(&mut self)",
          "doc": "Mark transaction as committed"
        },
        {
          "name": "abort",
          "kind": "function",
          "line": 73,
          "visibility": "pub",
          "signature": "fn abort(&mut self)",
          "doc": "Mark transaction as aborted"
        }
      ],
      "imports": [
        {
          "path": "kelpie_core::Result"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-storage/src/lib.rs",
      "symbols": [
        {
          "name": "fdb",
          "kind": "mod",
          "line": 16,
          "visibility": "pub"
        },
        {
          "name": "kv",
          "kind": "mod",
          "line": 17,
          "visibility": "pub"
        },
        {
          "name": "memory",
          "kind": "mod",
          "line": 18,
          "visibility": "pub"
        },
        {
          "name": "transaction",
          "kind": "mod",
          "line": 19,
          "visibility": "pub"
        }
      ],
      "imports": [
        {
          "path": "fdb::FdbActorTransaction"
        },
        {
          "path": "fdb::FdbKV"
        },
        {
          "path": "kv::ActorKV"
        },
        {
          "path": "kv::ActorTransaction"
        },
        {
          "path": "kv::KVOperation"
        },
        {
          "path": "kv::ScopedKV"
        },
        {
          "path": "memory::MemoryKV"
        },
        {
          "path": "transaction::Transaction"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-storage/src/memory.rs",
      "symbols": [
        {
          "name": "ActorData",
          "kind": "type_alias",
          "line": 17,
          "visibility": "private",
          "doc": "Per-actor KV data: key -> value"
        },
        {
          "name": "StorageData",
          "kind": "type_alias",
          "line": 20,
          "visibility": "private",
          "doc": "Storage data: actor_id -> actor data"
        },
        {
          "name": "MemoryKV",
          "kind": "struct",
          "line": 24,
          "visibility": "pub",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "MemoryKV",
          "kind": "impl",
          "line": 29,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 31,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new in-memory KV store"
        },
        {
          "name": "actor_key",
          "kind": "function",
          "line": 37,
          "visibility": "private",
          "signature": "fn actor_key(actor_id: &ActorId)"
        },
        {
          "name": "Default for MemoryKV",
          "kind": "impl",
          "line": 42,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 43,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ActorKV for MemoryKV",
          "kind": "impl",
          "line": 49,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 51,
          "visibility": "private",
          "signature": "async fn get(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, key), fields(actor_id = %actor_id.qualified_name(), key_len = key.len()))"
          ]
        },
        {
          "name": "set",
          "kind": "function",
          "line": 62,
          "visibility": "private",
          "signature": "async fn set(&self, actor_id: &ActorId, key: &[u8], value: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, key, value), fields(actor_id = %actor_id.qualified_name(), key_len = key.len(), value_len = value.len()))"
          ]
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 74,
          "visibility": "private",
          "signature": "async fn delete(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, key), fields(actor_id = %actor_id.qualified_name(), key_len = key.len()))"
          ]
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 86,
          "visibility": "private",
          "signature": "async fn list_keys(&self, actor_id: &ActorId, prefix: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, prefix), fields(actor_id = %actor_id.qualified_name(), prefix_len = prefix.len()))"
          ]
        },
        {
          "name": "scan_prefix",
          "kind": "function",
          "line": 103,
          "visibility": "private",
          "signature": "async fn scan_prefix(\n        &self,\n        actor_id: &ActorId,\n        prefix: &[u8],\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, prefix), fields(actor_id = %actor_id.qualified_name(), prefix_len = prefix.len()))"
          ]
        },
        {
          "name": "begin_transaction",
          "kind": "function",
          "line": 124,
          "visibility": "private",
          "signature": "async fn begin_transaction(&self, actor_id: &ActorId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name()))"
          ]
        },
        {
          "name": "MemoryTransaction",
          "kind": "struct",
          "line": 136,
          "visibility": "pub",
          "doc": "Transaction for in-memory KV store\n\nBuffers writes until commit. All writes are applied atomically on commit.\nTigerStyle: Explicit state tracking, 2+ assertions per method."
        },
        {
          "name": "MemoryTransaction",
          "kind": "impl",
          "line": 147,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 148,
          "visibility": "private",
          "signature": "fn new(actor_id: ActorId, storage: MemoryKV)"
        },
        {
          "name": "ActorTransaction for MemoryTransaction",
          "kind": "impl",
          "line": 159,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 160,
          "visibility": "private",
          "signature": "async fn get(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 174,
          "visibility": "private",
          "signature": "async fn set(&mut self, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 183,
          "visibility": "private",
          "signature": "async fn delete(&mut self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "commit",
          "kind": "function",
          "line": 192,
          "visibility": "private",
          "signature": "async fn commit(mut self: Box<Self>)",
          "is_async": true
        },
        {
          "name": "abort",
          "kind": "function",
          "line": 213,
          "visibility": "private",
          "signature": "async fn abort(mut self: Box<Self>)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 225,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_memory_kv_basic",
          "kind": "function",
          "line": 229,
          "visibility": "private",
          "signature": "async fn test_memory_kv_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_kv_isolation",
          "kind": "function",
          "line": 245,
          "visibility": "private",
          "signature": "async fn test_memory_kv_isolation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_commit",
          "kind": "function",
          "line": 264,
          "visibility": "private",
          "signature": "async fn test_transaction_commit()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_abort",
          "kind": "function",
          "line": 291,
          "visibility": "private",
          "signature": "async fn test_transaction_abort()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_read_your_writes",
          "kind": "function",
          "line": 307,
          "visibility": "private",
          "signature": "async fn test_transaction_read_your_writes()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_delete",
          "kind": "function",
          "line": 336,
          "visibility": "private",
          "signature": "async fn test_transaction_delete()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::kv::ActorKV"
        },
        {
          "path": "crate::kv::ActorTransaction"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::ActorId"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-storage/src/fdb.rs",
      "symbols": [
        {
          "name": "FDB_NETWORK",
          "kind": "static",
          "line": 40,
          "visibility": "private",
          "signature": "static FDB_NETWORK: OnceLock<NetworkAutoStop>",
          "doc": "Global FDB network guard - must live for the entire process\nUsing OnceLock to ensure single initialization"
        },
        {
          "name": "KEY_PREFIX_KELPIE",
          "kind": "const",
          "line": 43,
          "visibility": "private",
          "signature": "const KEY_PREFIX_KELPIE: &str",
          "doc": "Key prefix for actor data in FDB"
        },
        {
          "name": "KEY_PREFIX_ACTORS",
          "kind": "const",
          "line": 44,
          "visibility": "private",
          "signature": "const KEY_PREFIX_ACTORS: &str"
        },
        {
          "name": "KEY_PREFIX_DATA",
          "kind": "const",
          "line": 45,
          "visibility": "private",
          "signature": "const KEY_PREFIX_DATA: &str"
        },
        {
          "name": "TRANSACTION_RETRY_COUNT_MAX",
          "kind": "const",
          "line": 48,
          "visibility": "private",
          "signature": "const TRANSACTION_RETRY_COUNT_MAX: usize",
          "doc": "Maximum retry attempts for retriable errors"
        },
        {
          "name": "FdbKV",
          "kind": "struct",
          "line": 54,
          "visibility": "pub",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "FdbKV",
          "kind": "impl",
          "line": 61,
          "visibility": "private"
        },
        {
          "name": "connect",
          "kind": "function",
          "line": 82,
          "visibility": "pub",
          "signature": "async fn connect(cluster_file: Option<&str>)",
          "is_async": true,
          "attributes": [
            "instrument(skip_all, fields(cluster_file))"
          ]
        },
        {
          "name": "from_database",
          "kind": "function",
          "line": 113,
          "visibility": "pub",
          "signature": "fn from_database(db: Arc<Database>)",
          "doc": "Create FdbKV from existing database handle\n\nUseful for testing or when sharing a database connection."
        },
        {
          "name": "encode_key",
          "kind": "function",
          "line": 121,
          "visibility": "private",
          "signature": "fn encode_key(&self, actor_id: &ActorId, key: &[u8])",
          "doc": "Encode a full key for FDB storage\n\nFormat: (kelpie, actors, namespace, actor_id, data, user_key)"
        },
        {
          "name": "encode_prefix",
          "kind": "function",
          "line": 153,
          "visibility": "private",
          "signature": "fn encode_prefix(&self, actor_id: &ActorId, _prefix: &[u8])",
          "doc": "Encode the prefix for listing keys\n\nNOTE: For prefix matching to work correctly, we need to use the subspace\nbytes directly instead of tuple packing. The FDB tuple layer encoding\nadds type markers and length encoding that prevent simple prefix matching."
        },
        {
          "name": "decode_user_key",
          "kind": "function",
          "line": 171,
          "visibility": "private",
          "signature": "fn decode_user_key(&self, actor_id: &ActorId, fdb_key: &[u8])",
          "doc": "Decode a user key from FDB key"
        },
        {
          "name": "run_transaction",
          "kind": "function",
          "line": 180,
          "visibility": "private",
          "signature": "async fn run_transaction<F, T>(&self, f: F)",
          "doc": "Execute a transaction with automatic retry on conflicts",
          "is_async": true,
          "generic_params": [
            "F",
            "T"
          ]
        },
        {
          "name": "std::fmt::Debug for FdbKV",
          "kind": "impl",
          "line": 244,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 245,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "FdbActorTransaction",
          "kind": "struct",
          "line": 264,
          "visibility": "pub",
          "doc": "FoundationDB implementation of ActorTransaction\n\nBuffers writes locally, then applies them atomically on commit using\na single FDB transaction.\n\nTigerStyle: Explicit buffer management, atomic commit, 2+ assertions."
        },
        {
          "name": "FdbActorTransaction",
          "kind": "impl",
          "line": 275,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 277,
          "visibility": "private",
          "signature": "fn new(actor_id: ActorId, kv: FdbKV)",
          "doc": "Create a new transaction for an actor"
        },
        {
          "name": "ActorTransaction for FdbActorTransaction",
          "kind": "impl",
          "line": 295,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 296,
          "visibility": "private",
          "signature": "async fn get(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 315,
          "visibility": "private",
          "signature": "async fn set(&mut self, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 342,
          "visibility": "private",
          "signature": "async fn delete(&mut self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "commit",
          "kind": "function",
          "line": 363,
          "visibility": "private",
          "signature": "async fn commit(mut self: Box<Self>)",
          "is_async": true
        },
        {
          "name": "abort",
          "kind": "function",
          "line": 458,
          "visibility": "private",
          "signature": "async fn abort(mut self: Box<Self>)",
          "is_async": true
        },
        {
          "name": "ActorKV for FdbKV",
          "kind": "impl",
          "line": 478,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 480,
          "visibility": "private",
          "signature": "async fn get(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, key), fields(actor_id = %actor_id.qualified_name(), key_len = key.len()))"
          ]
        },
        {
          "name": "set",
          "kind": "function",
          "line": 521,
          "visibility": "private",
          "signature": "async fn set(&self, actor_id: &ActorId, key: &[u8], value: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, key, value), fields(actor_id = %actor_id.qualified_name(), key_len = key.len(), value_len = value.len()))"
          ]
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 560,
          "visibility": "private",
          "signature": "async fn delete(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, key), fields(actor_id = %actor_id.qualified_name(), key_len = key.len()))"
          ]
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 592,
          "visibility": "private",
          "signature": "async fn list_keys(&self, actor_id: &ActorId, prefix: &[u8])",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, prefix), fields(actor_id = %actor_id.qualified_name(), prefix_len = prefix.len()))"
          ]
        },
        {
          "name": "scan_prefix",
          "kind": "function",
          "line": 651,
          "visibility": "private",
          "signature": "async fn scan_prefix(\n        &self,\n        actor_id: &ActorId,\n        prefix: &[u8],\n    )",
          "is_async": true,
          "attributes": [
            "instrument(skip(self, prefix), fields(actor_id = %actor_id.qualified_name(), prefix_len = prefix.len()))"
          ]
        },
        {
          "name": "begin_transaction",
          "kind": "function",
          "line": 717,
          "visibility": "private",
          "signature": "async fn begin_transaction(&self, actor_id: &ActorId)",
          "is_async": true,
          "attributes": [
            "instrument(skip(self), fields(actor_id = %actor_id.qualified_name()))"
          ]
        },
        {
          "name": "ActorKV for Arc<FdbKV>",
          "kind": "impl",
          "line": 739,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 740,
          "visibility": "private",
          "signature": "async fn get(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 744,
          "visibility": "private",
          "signature": "async fn set(&self, actor_id: &ActorId, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 748,
          "visibility": "private",
          "signature": "async fn delete(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 752,
          "visibility": "private",
          "signature": "async fn list_keys(&self, actor_id: &ActorId, prefix: &[u8])",
          "is_async": true
        },
        {
          "name": "scan_prefix",
          "kind": "function",
          "line": 756,
          "visibility": "private",
          "signature": "async fn scan_prefix(\n        &self,\n        actor_id: &ActorId,\n        prefix: &[u8],\n    )",
          "is_async": true
        },
        {
          "name": "begin_transaction",
          "kind": "function",
          "line": 764,
          "visibility": "private",
          "signature": "async fn begin_transaction(&self, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 770,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_key_encoding_format",
          "kind": "function",
          "line": 774,
          "visibility": "private",
          "signature": "fn test_key_encoding_format()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_key_encoding_ordering",
          "kind": "function",
          "line": 789,
          "visibility": "private",
          "signature": "fn test_key_encoding_ordering()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_subspace_isolation",
          "kind": "function",
          "line": 804,
          "visibility": "private",
          "signature": "fn test_subspace_isolation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fdb_integration_crud",
          "kind": "function",
          "line": 821,
          "visibility": "private",
          "signature": "async fn test_fdb_integration_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_integration_list_keys",
          "kind": "function",
          "line": 864,
          "visibility": "private",
          "signature": "async fn test_fdb_integration_list_keys()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_integration_actor_isolation",
          "kind": "function",
          "line": 903,
          "visibility": "private",
          "signature": "async fn test_fdb_integration_actor_isolation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_transaction_commit",
          "kind": "function",
          "line": 942,
          "visibility": "private",
          "signature": "async fn test_fdb_transaction_commit()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_transaction_abort",
          "kind": "function",
          "line": 987,
          "visibility": "private",
          "signature": "async fn test_fdb_transaction_abort()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_transaction_read_your_writes",
          "kind": "function",
          "line": 1007,
          "visibility": "private",
          "signature": "async fn test_fdb_transaction_read_your_writes()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_transaction_delete",
          "kind": "function",
          "line": 1053,
          "visibility": "private",
          "signature": "async fn test_fdb_transaction_delete()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        },
        {
          "name": "test_fdb_transaction_atomicity",
          "kind": "function",
          "line": 1078,
          "visibility": "private",
          "signature": "async fn test_fdb_transaction_atomicity()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"requires running FDB cluster\""
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "foundationdb::api::FdbApiBuilder"
        },
        {
          "path": "foundationdb::api::NetworkAutoStop"
        },
        {
          "path": "foundationdb::options::StreamingMode"
        },
        {
          "path": "foundationdb::tuple::Subspace"
        },
        {
          "path": "foundationdb::Database"
        },
        {
          "path": "foundationdb::RangeOption"
        },
        {
          "path": "foundationdb::Transaction",
          "alias": "FdbTransaction"
        },
        {
          "path": "kelpie_core::constants::ACTOR_KV_KEY_SIZE_BYTES_MAX"
        },
        {
          "path": "kelpie_core::constants::ACTOR_KV_VALUE_SIZE_BYTES_MAX"
        },
        {
          "path": "kelpie_core::constants::TRANSACTION_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "kelpie_core::ActorId"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::sync::OnceLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "crate::kv::ActorKV"
        },
        {
          "path": "crate::kv::ActorTransaction"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/llm.rs",
      "symbols": [
        {
          "name": "SimChatMessage",
          "kind": "struct",
          "line": 13,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimToolCall",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimCompletionResponse",
          "kind": "struct",
          "line": 28,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimToolDefinition",
          "kind": "struct",
          "line": 38,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimLlmClient",
          "kind": "struct",
          "line": 47,
          "visibility": "pub",
          "doc": "Simulated LLM client for deterministic testing\n\nProvides deterministic, reproducible LLM responses for testing agent loops.\nResponses are generated based on message content hash + RNG state."
        },
        {
          "name": "SimLlmClient",
          "kind": "impl",
          "line": 58,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 60,
          "visibility": "pub",
          "signature": "fn new(rng: DeterministicRng, faults: Arc<FaultInjector>)",
          "doc": "Create a new simulated LLM client"
        },
        {
          "name": "with_tool_call_probability",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn with_tool_call_probability(mut self, probability: f64)",
          "doc": "Set tool call probability"
        },
        {
          "name": "with_response",
          "kind": "function",
          "line": 80,
          "visibility": "pub",
          "signature": "fn with_response(\n        mut self,\n        pattern: impl Into<String>,\n        response: impl Into<String>,\n    )",
          "doc": "Add a canned response for a specific pattern"
        },
        {
          "name": "complete_with_tools",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "async fn complete_with_tools(\n        &self,\n        messages: Vec<SimChatMessage>,\n        tools: Vec<SimToolDefinition>,\n    )",
          "doc": "Complete a chat conversation with optional tools",
          "is_async": true
        },
        {
          "name": "continue_with_tool_result",
          "kind": "function",
          "line": 138,
          "visibility": "pub",
          "signature": "async fn continue_with_tool_result(\n        &self,\n        messages: Vec<SimChatMessage>,\n        _tools: Vec<SimToolDefinition>,\n        _tool_results: Vec<(String, String)>, // (tool_use_id, result)\n    )",
          "doc": "Continue conversation with tool result",
          "is_async": true
        },
        {
          "name": "hash_messages",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "fn hash_messages(&self, messages: &[SimChatMessage])",
          "doc": "Hash messages to generate deterministic key"
        },
        {
          "name": "generate_response",
          "kind": "function",
          "line": 186,
          "visibility": "private",
          "signature": "fn generate_response(&self, messages: &[SimChatMessage], hash: u64)",
          "doc": "Generate response content based on messages"
        },
        {
          "name": "generate_tool_calls",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "fn generate_tool_calls(&self, tools: &[SimToolDefinition])",
          "doc": "Generate tool calls"
        },
        {
          "name": "default_responses",
          "kind": "function",
          "line": 249,
          "visibility": "private",
          "signature": "fn default_responses()",
          "doc": "Default canned responses"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 262,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sim_llm_basic",
          "kind": "function",
          "line": 267,
          "visibility": "private",
          "signature": "async fn test_sim_llm_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_llm_with_canned_response",
          "kind": "function",
          "line": 285,
          "visibility": "private",
          "signature": "async fn test_sim_llm_with_canned_response()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_llm_with_tools",
          "kind": "function",
          "line": 301,
          "visibility": "private",
          "signature": "async fn test_sim_llm_with_tools()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_llm_timeout_fault",
          "kind": "function",
          "line": 324,
          "visibility": "private",
          "signature": "async fn test_sim_llm_timeout_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_llm_failure_fault",
          "kind": "function",
          "line": 344,
          "visibility": "private",
          "signature": "async fn test_sim_llm_failure_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_llm_determinism",
          "kind": "function",
          "line": 364,
          "visibility": "private",
          "signature": "async fn test_sim_llm_determinism()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultConfig"
        },
        {
          "path": "crate::fault::FaultInjectorBuilder"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/vm.rs",
      "symbols": [
        {
          "name": "SimVm",
          "kind": "struct",
          "line": 22,
          "visibility": "pub",
          "doc": "Simulated VM instance with deterministic behavior"
        },
        {
          "name": "SimVm",
          "kind": "impl",
          "line": 34,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 36,
          "visibility": "pub",
          "signature": "fn new(\n        id: String,\n        config: VmConfig,\n        faults: Arc<FaultInjector>,\n        clock: Arc<SimClock>,\n        architecture: String,\n    )",
          "doc": "Create a new simulated VM"
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 58,
          "visibility": "private",
          "signature": "fn check_fault(&self, operation: &str)"
        },
        {
          "name": "normalize_architecture",
          "kind": "function",
          "line": 62,
          "visibility": "private",
          "signature": "fn normalize_architecture(arch: &str)"
        },
        {
          "name": "build_snapshot",
          "kind": "function",
          "line": 71,
          "visibility": "private",
          "signature": "async fn build_snapshot(&self, corrupt_checksum: bool)",
          "is_async": true
        },
        {
          "name": "VmInstance for SimVm",
          "kind": "impl",
          "line": 104,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 105,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 109,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 113,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 117,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 154,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 170,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 194,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 218,
          "visibility": "private",
          "signature": "async fn exec(&self, cmd: &str, args: &[&str])",
          "is_async": true
        },
        {
          "name": "exec_with_options",
          "kind": "function",
          "line": 223,
          "visibility": "private",
          "signature": "async fn exec_with_options(\n        &self,\n        cmd: &str,\n        args: &[&str],\n        options: ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 267,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 310,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &VmSnapshot)",
          "is_async": true
        },
        {
          "name": "SimVmFactory",
          "kind": "struct",
          "line": 360,
          "visibility": "pub",
          "doc": "Factory for creating simulated VMs"
        },
        {
          "name": "SimVmFactory",
          "kind": "impl",
          "line": 367,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 369,
          "visibility": "pub",
          "signature": "fn new(\n        _rng: Arc<DeterministicRng>,\n        faults: Arc<FaultInjector>,\n        clock: Arc<SimClock>,\n    )",
          "doc": "Create a new simulated VM factory"
        },
        {
          "name": "with_architecture",
          "kind": "function",
          "line": 383,
          "visibility": "pub",
          "signature": "fn with_architecture(mut self, arch: impl Into<String>)",
          "doc": "Override the architecture used for snapshots"
        },
        {
          "name": "create_vm",
          "kind": "function",
          "line": 390,
          "visibility": "pub",
          "signature": "async fn create_vm(&self, config: VmConfig)",
          "doc": "Create a new simulated VM",
          "is_async": true
        },
        {
          "name": "create_vm_from_snapshot",
          "kind": "function",
          "line": 402,
          "visibility": "pub",
          "signature": "async fn create_vm_from_snapshot(\n        &self,\n        config: VmConfig,\n        snapshot: &VmSnapshot,\n    )",
          "doc": "Create a new simulated VM and restore from snapshot",
          "is_async": true
        },
        {
          "name": "VmFactory for SimVmFactory",
          "kind": "impl",
          "line": 414,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "create",
          "kind": "function",
          "line": 415,
          "visibility": "private",
          "signature": "async fn create(&self, config: VmConfig)",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "crate::clock::SimClock"
        },
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "kelpie_vm::VmConfig"
        },
        {
          "path": "kelpie_vm::VmError"
        },
        {
          "path": "kelpie_vm::VmExecOptions",
          "alias": "ExecOptions"
        },
        {
          "path": "kelpie_vm::VmExecOutput",
          "alias": "ExecOutput"
        },
        {
          "path": "kelpie_vm::VmFactory"
        },
        {
          "path": "kelpie_vm::VmInstance"
        },
        {
          "path": "kelpie_vm::VmResult"
        },
        {
          "path": "kelpie_vm::VmSnapshot"
        },
        {
          "path": "kelpie_vm::VmSnapshotMetadata"
        },
        {
          "path": "kelpie_vm::VmState"
        },
        {
          "path": "kelpie_vm::VM_EXEC_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "kelpie_vm::VM_SNAPSHOT_SIZE_BYTES_MAX"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/rng.rs",
      "symbols": [
        {
          "name": "DeterministicRng",
          "kind": "struct",
          "line": 21,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "DeterministicRng",
          "kind": "impl",
          "line": 30,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 32,
          "visibility": "pub",
          "signature": "fn new(seed: u64)",
          "doc": "Create a new deterministic RNG with the given seed"
        },
        {
          "name": "from_env_or_random",
          "kind": "function",
          "line": 44,
          "visibility": "pub",
          "signature": "fn from_env_or_random()",
          "doc": "Create from environment variable DST_SEED or generate random seed\n\nAlways logs the seed for reproducibility."
        },
        {
          "name": "seed",
          "kind": "function",
          "line": 56,
          "visibility": "pub",
          "signature": "fn seed(&self)",
          "doc": "Get the seed used to create this RNG"
        },
        {
          "name": "next_u64",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "fn next_u64(&self)",
          "doc": "Generate a random u64"
        },
        {
          "name": "next_u32",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn next_u32(&self)",
          "doc": "Generate a random u32"
        },
        {
          "name": "next_f64",
          "kind": "function",
          "line": 71,
          "visibility": "pub",
          "signature": "fn next_f64(&self)",
          "doc": "Generate a random f64 in [0, 1)"
        },
        {
          "name": "next_bool",
          "kind": "function",
          "line": 76,
          "visibility": "pub",
          "signature": "fn next_bool(&self, probability: f64)",
          "doc": "Generate a random bool with given probability of true"
        },
        {
          "name": "next_range",
          "kind": "function",
          "line": 85,
          "visibility": "pub",
          "signature": "fn next_range(&self, min: u64, max: u64)",
          "doc": "Generate a random value in the given range [min, max)"
        },
        {
          "name": "next_index",
          "kind": "function",
          "line": 92,
          "visibility": "pub",
          "signature": "fn next_index(&self, len: usize)",
          "doc": "Generate a random index for a slice of given length"
        },
        {
          "name": "shuffle",
          "kind": "function",
          "line": 98,
          "visibility": "pub",
          "signature": "fn shuffle<T>(&self, slice: &mut [T])",
          "doc": "Shuffle a slice in place",
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "choose",
          "kind": "function",
          "line": 107,
          "visibility": "pub",
          "signature": "fn choose<T>(&self, slice: &'a [T])",
          "doc": "Choose a random element from a slice",
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "fork",
          "kind": "function",
          "line": 118,
          "visibility": "pub",
          "signature": "fn fork(&self)",
          "doc": "Fork the RNG to create an independent stream\n\nThe forked RNG is seeded deterministically from the parent."
        },
        {
          "name": "fill_bytes",
          "kind": "function",
          "line": 133,
          "visibility": "pub",
          "signature": "fn fill_bytes(&self, dest: &mut [u8])",
          "doc": "Generate random bytes"
        },
        {
          "name": "Default for DeterministicRng",
          "kind": "impl",
          "line": 138,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 139,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "RngProvider for DeterministicRng",
          "kind": "impl",
          "line": 153,
          "visibility": "private",
          "doc": "DeterministicRng implements RngProvider for DST compatibility\n\nThis allows the same business logic code to use either:\n- `StdRngProvider` (production)\n- `DeterministicRng` (DST)"
        },
        {
          "name": "next_u64",
          "kind": "function",
          "line": 154,
          "visibility": "private",
          "signature": "fn next_u64(&self)"
        },
        {
          "name": "next_f64",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "fn next_f64(&self)"
        },
        {
          "name": "gen_uuid",
          "kind": "function",
          "line": 162,
          "visibility": "private",
          "signature": "fn gen_uuid(&self)"
        },
        {
          "name": "gen_bool",
          "kind": "function",
          "line": 181,
          "visibility": "private",
          "signature": "fn gen_bool(&self, probability: f64)"
        },
        {
          "name": "gen_range",
          "kind": "function",
          "line": 185,
          "visibility": "private",
          "signature": "fn gen_range(&self, min: u64, max: u64)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 191,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_rng_reproducibility",
          "kind": "function",
          "line": 195,
          "visibility": "private",
          "signature": "fn test_rng_reproducibility()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rng_different_seeds",
          "kind": "function",
          "line": 205,
          "visibility": "private",
          "signature": "fn test_rng_different_seeds()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rng_bool",
          "kind": "function",
          "line": 217,
          "visibility": "private",
          "signature": "fn test_rng_bool()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rng_range",
          "kind": "function",
          "line": 232,
          "visibility": "private",
          "signature": "fn test_rng_range()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rng_fork",
          "kind": "function",
          "line": 242,
          "visibility": "private",
          "signature": "fn test_rng_fork()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rng_shuffle",
          "kind": "function",
          "line": 256,
          "visibility": "private",
          "signature": "fn test_rng_shuffle()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rng_choose",
          "kind": "function",
          "line": 270,
          "visibility": "private",
          "signature": "fn test_rng_choose()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "kelpie_core::RngProvider"
        },
        {
          "path": "rand::Rng"
        },
        {
          "path": "rand::SeedableRng"
        },
        {
          "path": "rand_chacha::ChaCha20Rng"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::sync::Mutex"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/clock.rs",
      "symbols": [
        {
          "name": "SimClock",
          "kind": "struct",
          "line": 21,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimClock",
          "kind": "impl",
          "line": 28,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 30,
          "visibility": "pub",
          "signature": "fn new(start_time: DateTime<Utc>)",
          "doc": "Create a new SimClock starting at the given time"
        },
        {
          "name": "from_epoch",
          "kind": "function",
          "line": 39,
          "visibility": "pub",
          "signature": "fn from_epoch()",
          "doc": "Create a new SimClock starting at Unix epoch"
        },
        {
          "name": "from_millis",
          "kind": "function",
          "line": 44,
          "visibility": "pub",
          "signature": "fn from_millis(ms: u64)",
          "doc": "Create a new SimClock starting at a specific millisecond timestamp"
        },
        {
          "name": "now",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "fn now(&self)",
          "doc": "Get the current time"
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "fn now_ms(&self)",
          "doc": "Get the current time in milliseconds since epoch"
        },
        {
          "name": "advance",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn advance(&self, duration: Duration)",
          "doc": "Advance time by the given duration"
        },
        {
          "name": "advance_ms",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn advance_ms(&self, ms: u64)",
          "doc": "Advance time by the given number of milliseconds"
        },
        {
          "name": "set",
          "kind": "function",
          "line": 81,
          "visibility": "pub",
          "signature": "fn set(&self, time: DateTime<Utc>)",
          "doc": "Set the current time (use with caution)"
        },
        {
          "name": "sleep",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "async fn sleep(&self, duration: Duration)",
          "doc": "Sleep until the specified duration has passed\n\nIn simulation mode, this yields and waits for time to be advanced.",
          "is_async": true
        },
        {
          "name": "sleep_ms",
          "kind": "function",
          "line": 99,
          "visibility": "pub",
          "signature": "async fn sleep_ms(&self, ms: u64)",
          "doc": "Sleep for the specified number of milliseconds",
          "is_async": true
        },
        {
          "name": "is_past",
          "kind": "function",
          "line": 108,
          "visibility": "pub",
          "signature": "fn is_past(&self, deadline: DateTime<Utc>)",
          "doc": "Check if a deadline has passed"
        },
        {
          "name": "is_past_ms",
          "kind": "function",
          "line": 113,
          "visibility": "pub",
          "signature": "fn is_past_ms(&self, deadline_ms: u64)",
          "doc": "Check if a deadline (in ms) has passed"
        },
        {
          "name": "Default for SimClock",
          "kind": "impl",
          "line": 118,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 119,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "TimeProvider for SimClock",
          "kind": "impl",
          "line": 139,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 140,
          "visibility": "private",
          "signature": "fn now_ms(&self)"
        },
        {
          "name": "sleep_ms",
          "kind": "function",
          "line": 144,
          "visibility": "private",
          "signature": "async fn sleep_ms(&self, ms: u64)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 154,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_clock_basic",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "fn test_clock_basic()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_clock_advance_ms",
          "kind": "function",
          "line": 169,
          "visibility": "private",
          "signature": "fn test_clock_advance_ms()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_clock_is_past",
          "kind": "function",
          "line": 181,
          "visibility": "private",
          "signature": "fn test_clock_is_past()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_clock_sleep",
          "kind": "function",
          "line": 195,
          "visibility": "private",
          "signature": "async fn test_clock_sleep()",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "chrono::DateTime"
        },
        {
          "path": "chrono::Duration"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "kelpie_core::TimeProvider"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::Notify"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/sandbox_io.rs",
      "symbols": [
        {
          "name": "SimSandboxIO",
          "kind": "struct",
          "line": 46,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "SimSandboxIO",
          "kind": "impl",
          "line": 65,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "fn new(\n        rng: Arc<DeterministicRng>,\n        faults: Arc<FaultInjector>,\n        clock: Arc<SimClock>,\n    )",
          "doc": "Create a new simulated sandbox I/O"
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 85,
          "visibility": "private",
          "signature": "fn check_fault(&self, operation: &str)",
          "doc": "Check for fault injection"
        },
        {
          "name": "fault_to_error",
          "kind": "function",
          "line": 90,
          "visibility": "private",
          "signature": "fn fault_to_error(&self, fault: FaultType)",
          "doc": "Convert fault to sandbox error"
        },
        {
          "name": "default_handler",
          "kind": "function",
          "line": 140,
          "visibility": "private",
          "signature": "fn default_handler(command: &str, args: &[&str])",
          "doc": "Default command handler - simulates basic commands"
        },
        {
          "name": "SandboxIO for SimSandboxIO",
          "kind": "impl",
          "line": 172,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "boot",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "async fn boot(&mut self, config: &SandboxConfig)",
          "is_async": true
        },
        {
          "name": "shutdown",
          "kind": "function",
          "line": 193,
          "visibility": "private",
          "signature": "async fn shutdown(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 199,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 211,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 223,
          "visibility": "private",
          "signature": "async fn exec(\n        &self,\n        command: &str,\n        args: &[&str],\n        options: &ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "capture_snapshot",
          "kind": "function",
          "line": 279,
          "visibility": "private",
          "signature": "async fn capture_snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore_snapshot",
          "kind": "function",
          "line": 306,
          "visibility": "private",
          "signature": "async fn restore_snapshot(&mut self, data: &SnapshotData)",
          "is_async": true
        },
        {
          "name": "read_file",
          "kind": "function",
          "line": 334,
          "visibility": "private",
          "signature": "async fn read_file(&self, path: &str)",
          "is_async": true
        },
        {
          "name": "write_file",
          "kind": "function",
          "line": 346,
          "visibility": "private",
          "signature": "async fn write_file(&self, path: &str, content: &[u8])",
          "is_async": true
        },
        {
          "name": "get_stats",
          "kind": "function",
          "line": 354,
          "visibility": "private",
          "signature": "async fn get_stats(&self)",
          "is_async": true
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 365,
          "visibility": "private",
          "signature": "async fn health_check(&self)",
          "is_async": true
        },
        {
          "name": "SimSandboxIOFactory",
          "kind": "struct",
          "line": 380,
          "visibility": "pub",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "std::fmt::Debug for SimSandboxIOFactory",
          "kind": "impl",
          "line": 391,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 392,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "SimSandboxIOFactory",
          "kind": "impl",
          "line": 399,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 401,
          "visibility": "pub",
          "signature": "fn new(\n        rng: Arc<DeterministicRng>,\n        faults: Arc<FaultInjector>,\n        clock: Arc<SimClock>,\n    )",
          "doc": "Create a new factory"
        },
        {
          "name": "create",
          "kind": "function",
          "line": 415,
          "visibility": "pub",
          "signature": "async fn create(\n        &self,\n        config: SandboxConfig,\n    )",
          "doc": "Create a new sandbox using the generic sandbox + sim I/O",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 434,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_test_components",
          "kind": "function",
          "line": 439,
          "visibility": "private",
          "signature": "fn create_test_components()",
          "doc": "Helper to create test components"
        },
        {
          "name": "test_sim_sandbox_io_lifecycle",
          "kind": "function",
          "line": 449,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_io_lifecycle()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_io_with_faults",
          "kind": "function",
          "line": 468,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_io_with_faults()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_io_state_validation",
          "kind": "function",
          "line": 487,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_io_state_validation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_io_file_operations",
          "kind": "function",
          "line": 504,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_io_file_operations()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_io_snapshot_restore",
          "kind": "function",
          "line": 523,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_io_snapshot_restore()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::clock::SimClock"
        },
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_sandbox::io::SandboxIO"
        },
        {
          "path": "kelpie_sandbox::io::SnapshotData"
        },
        {
          "path": "kelpie_sandbox::ExecOptions"
        },
        {
          "path": "kelpie_sandbox::ExecOutput"
        },
        {
          "path": "kelpie_sandbox::ExitStatus"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "kelpie_sandbox::SandboxError"
        },
        {
          "path": "kelpie_sandbox::SandboxResult"
        },
        {
          "path": "kelpie_sandbox::SandboxStats"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "kelpie_core::TimeProvider"
        },
        {
          "path": "kelpie_sandbox::io::GenericSandbox"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultConfig"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/lib.rs",
      "symbols": [
        {
          "name": "agent",
          "kind": "mod",
          "line": 37,
          "visibility": "pub"
        },
        {
          "name": "clock",
          "kind": "mod",
          "line": 38,
          "visibility": "pub"
        },
        {
          "name": "fault",
          "kind": "mod",
          "line": 39,
          "visibility": "pub"
        },
        {
          "name": "http",
          "kind": "mod",
          "line": 40,
          "visibility": "pub"
        },
        {
          "name": "invariants",
          "kind": "mod",
          "line": 41,
          "visibility": "pub"
        },
        {
          "name": "liveness",
          "kind": "mod",
          "line": 42,
          "visibility": "pub"
        },
        {
          "name": "llm",
          "kind": "mod",
          "line": 43,
          "visibility": "pub"
        },
        {
          "name": "network",
          "kind": "mod",
          "line": 44,
          "visibility": "pub"
        },
        {
          "name": "rng",
          "kind": "mod",
          "line": 45,
          "visibility": "pub"
        },
        {
          "name": "sandbox",
          "kind": "mod",
          "line": 46,
          "visibility": "pub"
        },
        {
          "name": "sandbox_io",
          "kind": "mod",
          "line": 47,
          "visibility": "pub"
        },
        {
          "name": "simulation",
          "kind": "mod",
          "line": 48,
          "visibility": "pub"
        },
        {
          "name": "storage",
          "kind": "mod",
          "line": 49,
          "visibility": "pub"
        },
        {
          "name": "teleport",
          "kind": "mod",
          "line": 50,
          "visibility": "pub"
        },
        {
          "name": "time",
          "kind": "mod",
          "line": 51,
          "visibility": "pub"
        },
        {
          "name": "vm",
          "kind": "mod",
          "line": 52,
          "visibility": "pub"
        }
      ],
      "imports": [
        {
          "path": "agent::AgentTestConfig"
        },
        {
          "path": "agent::AgentTestState"
        },
        {
          "path": "agent::BlockTestState"
        },
        {
          "path": "agent::SimAgentEnv"
        },
        {
          "path": "clock::SimClock"
        },
        {
          "path": "fault::FaultConfig"
        },
        {
          "path": "fault::FaultInjector"
        },
        {
          "path": "fault::FaultInjectorBuilder"
        },
        {
          "path": "fault::FaultType"
        },
        {
          "path": "http::MockResponse"
        },
        {
          "path": "http::RecordedRequest"
        },
        {
          "path": "http::SimHttpClient"
        },
        {
          "path": "invariants::AtomicVisibility"
        },
        {
          "path": "invariants::ConsistentHolder"
        },
        {
          "path": "invariants::Durability"
        },
        {
          "path": "invariants::FencingTokenMonotonic"
        },
        {
          "path": "invariants::Invariant"
        },
        {
          "path": "invariants::InvariantChecker"
        },
        {
          "path": "invariants::InvariantCheckingSimulation"
        },
        {
          "path": "invariants::InvariantViolation"
        },
        {
          "path": "invariants::LeaseInfo"
        },
        {
          "path": "invariants::LeaseUniqueness"
        },
        {
          "path": "invariants::NoSplitBrain"
        },
        {
          "path": "invariants::NodeInfo"
        },
        {
          "path": "invariants::NodeState"
        },
        {
          "path": "invariants::NodeStatus"
        },
        {
          "path": "invariants::PlacementConsistency"
        },
        {
          "path": "invariants::ReadYourWrites"
        },
        {
          "path": "invariants::SingleActivation"
        },
        {
          "path": "invariants::Snapshot"
        },
        {
          "path": "invariants::SnapshotConsistency"
        },
        {
          "path": "invariants::SystemState"
        },
        {
          "path": "invariants::Transaction"
        },
        {
          "path": "invariants::TransactionState"
        },
        {
          "path": "invariants::WalEntry"
        },
        {
          "path": "invariants::WalEntryStatus"
        },
        {
          "path": "kelpie_core::teleport::Architecture"
        },
        {
          "path": "kelpie_core::teleport::SnapshotKind"
        },
        {
          "path": "kelpie_core::teleport::TeleportPackage"
        },
        {
          "path": "kelpie_core::teleport::VmSnapshotBlob"
        },
        {
          "path": "llm::SimChatMessage"
        },
        {
          "path": "llm::SimCompletionResponse"
        },
        {
          "path": "llm::SimLlmClient"
        },
        {
          "path": "llm::SimToolCall"
        },
        {
          "path": "llm::SimToolDefinition"
        },
        {
          "path": "network::SimNetwork"
        },
        {
          "path": "rng::DeterministicRng"
        },
        {
          "path": "sandbox::SimSandbox"
        },
        {
          "path": "sandbox::SimSandboxFactory"
        },
        {
          "path": "sandbox_io::SimSandboxIO"
        },
        {
          "path": "sandbox_io::SimSandboxIOFactory"
        },
        {
          "path": "simulation::SimConfig"
        },
        {
          "path": "simulation::SimEnvironment"
        },
        {
          "path": "simulation::Simulation"
        },
        {
          "path": "storage::SimStorage"
        },
        {
          "path": "teleport::SimTeleportStorage"
        },
        {
          "path": "time::RealTime"
        },
        {
          "path": "time::SimTime"
        },
        {
          "path": "vm::SimVm"
        },
        {
          "path": "vm::SimVmFactory"
        },
        {
          "path": "liveness::verify_eventually"
        },
        {
          "path": "liveness::verify_leads_to"
        },
        {
          "path": "liveness::BoundedLiveness"
        },
        {
          "path": "liveness::LivenessResult"
        },
        {
          "path": "liveness::LivenessViolation"
        },
        {
          "path": "liveness::SystemStateSnapshot"
        },
        {
          "path": "liveness::LIVENESS_CHECK_INTERVAL_MS_DEFAULT"
        },
        {
          "path": "liveness::LIVENESS_STEPS_MAX"
        },
        {
          "path": "liveness::LIVENESS_TIMEOUT_MS_DEFAULT"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/liveness.rs",
      "symbols": [
        {
          "name": "LIVENESS_CHECK_INTERVAL_MS_DEFAULT",
          "kind": "const",
          "line": 57,
          "visibility": "pub",
          "signature": "const LIVENESS_CHECK_INTERVAL_MS_DEFAULT: u64",
          "doc": "Default check interval in milliseconds"
        },
        {
          "name": "LIVENESS_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 60,
          "visibility": "pub",
          "signature": "const LIVENESS_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default timeout for liveness checks in milliseconds"
        },
        {
          "name": "LIVENESS_STEPS_MAX",
          "kind": "const",
          "line": 63,
          "visibility": "pub",
          "signature": "const LIVENESS_STEPS_MAX: u64",
          "doc": "Maximum steps for bounded liveness checks"
        },
        {
          "name": "LivenessViolation",
          "kind": "struct",
          "line": 71,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "fmt::Display for LivenessViolation",
          "kind": "impl",
          "line": 84,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 85,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for LivenessViolation",
          "kind": "impl",
          "line": 94,
          "visibility": "private"
        },
        {
          "name": "From<LivenessViolation> for kelpie_core::Error",
          "kind": "impl",
          "line": 96,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 97,
          "visibility": "private",
          "signature": "fn from(v: LivenessViolation)"
        },
        {
          "name": "LivenessResult",
          "kind": "type_alias",
          "line": 105,
          "visibility": "pub",
          "doc": "Result type for liveness checks"
        },
        {
          "name": "StateTrace",
          "kind": "struct",
          "line": 115,
          "visibility": "pub",
          "generic_params": [
            "S"
          ],
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "StateTrace<S>",
          "kind": "impl",
          "line": 124,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 126,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty trace"
        },
        {
          "name": "push_state",
          "kind": "function",
          "line": 135,
          "visibility": "pub",
          "signature": "fn push_state(&mut self, state: S)",
          "doc": "Add a state to the trace"
        },
        {
          "name": "push_state_with_action",
          "kind": "function",
          "line": 141,
          "visibility": "pub",
          "signature": "fn push_state_with_action(&mut self, state: S, action: impl Into<String>)",
          "doc": "Add a state with an action description"
        },
        {
          "name": "final_state",
          "kind": "function",
          "line": 148,
          "visibility": "pub",
          "signature": "fn final_state(&self)",
          "doc": "Get the final state in the trace"
        },
        {
          "name": "format_trace",
          "kind": "function",
          "line": 153,
          "visibility": "pub",
          "signature": "fn format_trace(&self)",
          "doc": "Format trace for display"
        },
        {
          "name": "Default for StateTrace<S>",
          "kind": "impl",
          "line": 169,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 170,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "fmt::Display for StateTrace<S>",
          "kind": "impl",
          "line": 175,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 176,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "StateLivenessViolation",
          "kind": "struct",
          "line": 185,
          "visibility": "pub",
          "generic_params": [
            "S"
          ],
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "fmt::Display for StateLivenessViolation<S>",
          "kind": "impl",
          "line": 198,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 199,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for StateLivenessViolation<S>",
          "kind": "impl",
          "line": 212,
          "visibility": "private"
        },
        {
          "name": "StateLivenessResult",
          "kind": "type_alias",
          "line": 215,
          "visibility": "pub",
          "doc": "Result type for state-based liveness checks"
        },
        {
          "name": "StateExplorer",
          "kind": "struct",
          "line": 243,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "STATE_EXPLORER_STEPS_MAX_DEFAULT",
          "kind": "const",
          "line": 253,
          "visibility": "pub",
          "signature": "const STATE_EXPLORER_STEPS_MAX_DEFAULT: u64",
          "doc": "Default maximum steps for state exploration"
        },
        {
          "name": "STATE_EXPLORER_DEPTH_MAX_DEFAULT",
          "kind": "const",
          "line": 256,
          "visibility": "pub",
          "signature": "const STATE_EXPLORER_DEPTH_MAX_DEFAULT: u64",
          "doc": "Default maximum depth for state exploration"
        },
        {
          "name": "STATE_EXPLORER_STATES_MAX_DEFAULT",
          "kind": "const",
          "line": 259,
          "visibility": "pub",
          "signature": "const STATE_EXPLORER_STATES_MAX_DEFAULT: u64",
          "doc": "Default maximum states to track"
        },
        {
          "name": "StateExplorer",
          "kind": "impl",
          "line": 261,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 263,
          "visibility": "pub",
          "signature": "fn new(max_steps: u64)",
          "doc": "Create a new state explorer with the given maximum steps"
        },
        {
          "name": "with_max_depth",
          "kind": "function",
          "line": 273,
          "visibility": "pub",
          "signature": "fn with_max_depth(mut self, depth: u64)",
          "doc": "Set the maximum depth for exploration"
        },
        {
          "name": "with_max_states",
          "kind": "function",
          "line": 280,
          "visibility": "pub",
          "signature": "fn with_max_states(mut self, states: u64)",
          "doc": "Set the maximum states to track"
        },
        {
          "name": "check_eventually",
          "kind": "function",
          "line": 300,
          "visibility": "pub",
          "signature": "fn check_eventually<S, F, P>(\n        &self,\n        property_name: &str,\n        initial: S,\n        transitions: F,\n        property: P,\n    )",
          "doc": "Check that a property eventually holds (<> operator)\n\nUses BFS to explore the state space and verify that all paths\neventually reach a state where the property holds.\n\n# Arguments\n* `property_name` - Human-readable name for error messages\n* `initial` - The initial state\n* `transitions` - Function that returns successor states\n* `property` - Function that returns true when the goal is reached\n\n# Returns\n* `Ok(trace)` - A trace showing one path to a satisfying state\n* `Err(violation)` - A counterexample trace where property never holds",
          "generic_params": [
            "S",
            "F",
            "P"
          ]
        },
        {
          "name": "check_leads_to",
          "kind": "function",
          "line": 415,
          "visibility": "pub",
          "signature": "fn check_leads_to<S, F, P, Q>(\n        &self,\n        property_name: &str,\n        initial: S,\n        transitions: F,\n        precondition: P,\n        postcondition: Q,\n    )",
          "doc": "Check the leads-to property: P ~> Q\n\nVerifies that from any state where P holds, Q eventually holds.\nThis is equivalent to [](P => <>Q).\n\n# Arguments\n* `property_name` - Human-readable name for error messages\n* `initial` - The initial state\n* `transitions` - Function that returns successor states\n* `precondition` - The trigger condition P\n* `postcondition` - The expected eventual outcome Q",
          "generic_params": [
            "S",
            "F",
            "P",
            "Q"
          ]
        },
        {
          "name": "check_infinitely_often",
          "kind": "function",
          "line": 513,
          "visibility": "pub",
          "signature": "fn check_infinitely_often<S, F, P>(\n        &self,\n        property_name: &str,\n        initial: S,\n        transitions: F,\n        property: P,\n        min_occurrences: u64,\n    )",
          "doc": "Check that a condition holds infinitely often ([]<> operator)\n\nIn bounded checking, verifies that from any reachable state,\na state satisfying the property is reachable.\n\n# Arguments\n* `property_name` - Human-readable name for error messages\n* `initial` - The initial state\n* `transitions` - Function that returns successor states\n* `property` - Function that returns true for satisfying states\n* `min_occurrences` - Minimum paths that must reach the property",
          "generic_params": [
            "S",
            "F",
            "P"
          ]
        },
        {
          "name": "Default for StateExplorer",
          "kind": "impl",
          "line": 593,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 594,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "BoundedLiveness",
          "kind": "struct",
          "line": 605,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "BoundedLiveness",
          "kind": "impl",
          "line": 614,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 616,
          "visibility": "pub",
          "signature": "fn new(timeout_ms: u64)",
          "doc": "Create a new bounded liveness checker with the given timeout"
        },
        {
          "name": "with_check_interval_ms",
          "kind": "function",
          "line": 627,
          "visibility": "pub",
          "signature": "fn with_check_interval_ms(mut self, interval_ms: u64)",
          "doc": "Set the check interval"
        },
        {
          "name": "with_max_checks",
          "kind": "function",
          "line": 634,
          "visibility": "pub",
          "signature": "fn with_max_checks(mut self, max: u64)",
          "doc": "Set the maximum number of checks"
        },
        {
          "name": "verify_eventually",
          "kind": "function",
          "line": 647,
          "visibility": "pub",
          "signature": "async fn verify_eventually<F, S>(\n        &self,\n        clock: &Arc<SimClock>,\n        property_name: &str,\n        condition: F,\n        state_description: S,\n    )",
          "doc": "Verify that a condition eventually becomes true (<> operator)\n\n# Arguments\n* `clock` - The simulation clock\n* `property_name` - Human-readable name for error messages\n* `condition` - Closure that returns true when the property holds\n* `state_description` - Closure that describes the current state for error messages",
          "is_async": true,
          "generic_params": [
            "F",
            "S"
          ]
        },
        {
          "name": "verify_leads_to",
          "kind": "function",
          "line": 702,
          "visibility": "pub",
          "signature": "async fn verify_leads_to<P, Q, S>(\n        &self,\n        clock: &Arc<SimClock>,\n        property_name: &str,\n        precondition: P,\n        postcondition: Q,\n        state_description: S,\n    )",
          "doc": "Verify the leads-to property: P ~> Q (if P holds, Q eventually holds)\n\nThis is equivalent to [](P => <>Q): always, if P then eventually Q.\n\n# Arguments\n* `clock` - The simulation clock\n* `property_name` - Human-readable name for error messages\n* `precondition` - The trigger condition P\n* `postcondition` - The expected eventual outcome Q\n* `state_description` - Closure that describes the current state for error messages",
          "is_async": true,
          "generic_params": [
            "P",
            "Q",
            "S"
          ]
        },
        {
          "name": "verify_infinitely_often",
          "kind": "function",
          "line": 789,
          "visibility": "pub",
          "signature": "async fn verify_infinitely_often<F, S>(\n        &self,\n        clock: &Arc<SimClock>,\n        property_name: &str,\n        condition: F,\n        min_occurrences: u64,\n        state_description: S,\n    )",
          "doc": "Verify that a condition holds infinitely often ([]<> operator)\n\nIn bounded checking, we verify that the condition holds at least `min_occurrences`\ntimes within the timeout.\n\n# Arguments\n* `clock` - The simulation clock\n* `property_name` - Human-readable name for error messages\n* `condition` - Closure that returns true when the property holds\n* `min_occurrences` - Minimum number of times the condition must hold\n* `state_description` - Closure that describes the current state for error messages",
          "is_async": true,
          "generic_params": [
            "F",
            "S"
          ]
        },
        {
          "name": "Default for BoundedLiveness",
          "kind": "impl",
          "line": 860,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 861,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "verify_eventually",
          "kind": "function",
          "line": 873,
          "visibility": "pub",
          "signature": "async fn verify_eventually<F, S>(\n    clock: &Arc<SimClock>,\n    property_name: &str,\n    condition: F,\n    timeout_ms: u64,\n    check_interval_ms: u64,\n    state_description: S,\n)",
          "doc": "Verify that a condition eventually becomes true (<> operator)\n\nThis is a convenience wrapper around `BoundedLiveness::verify_eventually`.",
          "is_async": true,
          "generic_params": [
            "F",
            "S"
          ]
        },
        {
          "name": "verify_leads_to",
          "kind": "function",
          "line": 894,
          "visibility": "pub",
          "signature": "async fn verify_leads_to<P, Q, S>(\n    clock: &Arc<SimClock>,\n    property_name: &str,\n    precondition: P,\n    postcondition: Q,\n    timeout_ms: u64,\n    check_interval_ms: u64,\n    state_description: S,\n)",
          "doc": "Verify the leads-to property: P ~> Q\n\nThis is a convenience wrapper around `BoundedLiveness::verify_leads_to`.",
          "is_async": true,
          "generic_params": [
            "P",
            "Q",
            "S"
          ]
        },
        {
          "name": "SystemStateSnapshot",
          "kind": "struct",
          "line": 928,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SystemStateSnapshot",
          "kind": "impl",
          "line": 935,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 937,
          "visibility": "pub",
          "signature": "fn new(time_ms: u64)",
          "doc": "Create a new empty snapshot"
        },
        {
          "name": "with_field",
          "kind": "function",
          "line": 945,
          "visibility": "pub",
          "signature": "fn with_field(mut self, name: impl Into<String>, value: impl Into<String>)",
          "doc": "Add a field to the snapshot"
        },
        {
          "name": "get",
          "kind": "function",
          "line": 951,
          "visibility": "pub",
          "signature": "fn get(&self, name: &str)",
          "doc": "Get a field value"
        },
        {
          "name": "field_equals",
          "kind": "function",
          "line": 956,
          "visibility": "pub",
          "signature": "fn field_equals(&self, name: &str, expected: &str)",
          "doc": "Check if a field equals a value"
        },
        {
          "name": "fmt::Display for SystemStateSnapshot",
          "kind": "impl",
          "line": 964,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 965,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 984,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_verify_eventually_success",
          "kind": "function",
          "line": 988,
          "visibility": "private",
          "signature": "async fn test_verify_eventually_success()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_verify_eventually_timeout",
          "kind": "function",
          "line": 1010,
          "visibility": "private",
          "signature": "async fn test_verify_eventually_timeout()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_verify_leads_to_success",
          "kind": "function",
          "line": 1031,
          "visibility": "private",
          "signature": "async fn test_verify_leads_to_success()",
          "is_async": true
        },
        {
          "name": "test_verify_leads_to_vacuous",
          "kind": "function",
          "line": 1082,
          "visibility": "private",
          "signature": "async fn test_verify_leads_to_vacuous()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_verify_infinitely_often_success",
          "kind": "function",
          "line": 1100,
          "visibility": "private",
          "signature": "async fn test_verify_infinitely_often_success()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_system_state_snapshot",
          "kind": "function",
          "line": 1126,
          "visibility": "private",
          "signature": "fn test_system_state_snapshot()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_bounded_liveness_builder",
          "kind": "function",
          "line": 1142,
          "visibility": "private",
          "signature": "fn test_bounded_liveness_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "TestNodeState",
          "kind": "enum",
          "line": 1158,
          "visibility": "private",
          "attributes": [
            "derive(Clone, Hash, Eq, PartialEq, Debug)"
          ]
        },
        {
          "name": "node_transitions",
          "kind": "function",
          "line": 1165,
          "visibility": "private",
          "signature": "fn node_transitions(state: &TestNodeState)",
          "doc": "Node state transitions: Idle -> Claiming -> Active or Idle"
        },
        {
          "name": "test_state_explorer_check_eventually_success",
          "kind": "function",
          "line": 1177,
          "visibility": "private",
          "signature": "fn test_state_explorer_check_eventually_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_check_eventually_immediate",
          "kind": "function",
          "line": 1195,
          "visibility": "private",
          "signature": "fn test_state_explorer_check_eventually_immediate()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_check_eventually_failure",
          "kind": "function",
          "line": 1212,
          "visibility": "private",
          "signature": "fn test_state_explorer_check_eventually_failure()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_check_leads_to",
          "kind": "function",
          "line": 1230,
          "visibility": "private",
          "signature": "fn test_state_explorer_check_leads_to()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_check_leads_to_vacuous",
          "kind": "function",
          "line": 1246,
          "visibility": "private",
          "signature": "fn test_state_explorer_check_leads_to_vacuous()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_check_infinitely_often",
          "kind": "function",
          "line": 1263,
          "visibility": "private",
          "signature": "fn test_state_explorer_check_infinitely_often()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_trace_format",
          "kind": "function",
          "line": 1279,
          "visibility": "private",
          "signature": "fn test_state_trace_format()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_bounded_depth",
          "kind": "function",
          "line": 1297,
          "visibility": "private",
          "signature": "fn test_state_explorer_bounded_depth()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_builder",
          "kind": "function",
          "line": 1314,
          "visibility": "private",
          "signature": "fn test_state_explorer_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "TwoNodeState",
          "kind": "struct",
          "line": 1326,
          "visibility": "private",
          "attributes": [
            "derive(Clone, Hash, Eq, PartialEq, Debug)"
          ]
        },
        {
          "name": "two_node_transitions",
          "kind": "function",
          "line": 1332,
          "visibility": "private",
          "signature": "fn two_node_transitions(state: &TwoNodeState)"
        },
        {
          "name": "test_state_explorer_two_node_eventual_activation",
          "kind": "function",
          "line": 1394,
          "visibility": "private",
          "signature": "fn test_state_explorer_two_node_eventual_activation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_state_explorer_mutual_exclusion",
          "kind": "function",
          "line": 1413,
          "visibility": "private",
          "signature": "fn test_state_explorer_mutual_exclusion()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::clock::SimClock"
        },
        {
          "path": "std::collections::VecDeque"
        },
        {
          "path": "std::fmt"
        },
        {
          "path": "std::hash::Hash"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/teleport.rs",
      "symbols": [
        {
          "name": "TELEPORT_PACKAGE_SIZE_BYTES_DEFAULT_MAX",
          "kind": "const",
          "line": 17,
          "visibility": "private",
          "signature": "const TELEPORT_PACKAGE_SIZE_BYTES_DEFAULT_MAX: u64",
          "doc": "Maximum teleport package size in bytes (for fault injection testing)"
        },
        {
          "name": "SimTeleportStorage",
          "kind": "struct",
          "line": 23,
          "visibility": "pub",
          "doc": "Simulated teleport storage with fault injection\n\nThis storage implementation is designed for deterministic simulation testing.\nIt stores packages in memory and injects faults based on FaultInjector config."
        },
        {
          "name": "Clone for SimTeleportStorage",
          "kind": "impl",
          "line": 33,
          "visibility": "private"
        },
        {
          "name": "clone",
          "kind": "function",
          "line": 34,
          "visibility": "private",
          "signature": "fn clone(&self)"
        },
        {
          "name": "SimTeleportStorage",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 51,
          "visibility": "pub",
          "signature": "fn new(_rng: DeterministicRng, faults: Arc<FaultInjector>)",
          "doc": "Create a new simulated teleport storage"
        },
        {
          "name": "with_max_package_bytes",
          "kind": "function",
          "line": 64,
          "visibility": "pub",
          "signature": "fn with_max_package_bytes(mut self, max_bytes: u64)",
          "doc": "Set the maximum package size"
        },
        {
          "name": "with_host_arch",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn with_host_arch(mut self, arch: Architecture)",
          "doc": "Set the host architecture"
        },
        {
          "name": "with_expected_image_version",
          "kind": "function",
          "line": 76,
          "visibility": "pub",
          "signature": "fn with_expected_image_version(mut self, version: impl Into<String>)",
          "doc": "Set the expected base image version"
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 82,
          "visibility": "private",
          "signature": "fn check_fault(&self, operation: &str)",
          "doc": "Check for fault injection"
        },
        {
          "name": "fault_to_error",
          "kind": "function",
          "line": 87,
          "visibility": "private",
          "signature": "fn fault_to_error(&self, fault: FaultType)"
        },
        {
          "name": "operation_count",
          "kind": "function",
          "line": 116,
          "visibility": "pub",
          "signature": "fn operation_count(&self)",
          "doc": "Get the operation count (for debugging)"
        },
        {
          "name": "upload",
          "kind": "function",
          "line": 121,
          "visibility": "pub",
          "signature": "async fn upload(&self, package: TeleportPackage)",
          "doc": "Convenience wrapper for TeleportStorage::upload",
          "is_async": true
        },
        {
          "name": "download",
          "kind": "function",
          "line": 126,
          "visibility": "pub",
          "signature": "async fn download(&self, id: &str)",
          "doc": "Convenience wrapper for TeleportStorage::download",
          "is_async": true
        },
        {
          "name": "download_for_restore",
          "kind": "function",
          "line": 131,
          "visibility": "pub",
          "signature": "async fn download_for_restore(\n        &self,\n        id: &str,\n        target_arch: Architecture,\n    )",
          "doc": "Convenience wrapper for TeleportStorage::download_for_restore",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 140,
          "visibility": "pub",
          "signature": "async fn delete(&self, id: &str)",
          "doc": "Convenience wrapper for TeleportStorage::delete",
          "is_async": true
        },
        {
          "name": "list",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "async fn list(&self)",
          "doc": "Convenience wrapper for TeleportStorage::list",
          "is_async": true
        },
        {
          "name": "upload_blob",
          "kind": "function",
          "line": 150,
          "visibility": "pub",
          "signature": "async fn upload_blob(&self, key: &str, data: Bytes)",
          "doc": "Convenience wrapper for TeleportStorage::upload_blob",
          "is_async": true
        },
        {
          "name": "download_blob",
          "kind": "function",
          "line": 155,
          "visibility": "pub",
          "signature": "async fn download_blob(&self, key: &str)",
          "doc": "Convenience wrapper for TeleportStorage::download_blob",
          "is_async": true
        },
        {
          "name": "TeleportStorage for SimTeleportStorage",
          "kind": "impl",
          "line": 161,
          "visibility": "private",
          "attributes": [
            "async_trait::async_trait"
          ]
        },
        {
          "name": "upload",
          "kind": "function",
          "line": 162,
          "visibility": "private",
          "signature": "async fn upload(&self, package: TeleportPackage)",
          "is_async": true
        },
        {
          "name": "download",
          "kind": "function",
          "line": 187,
          "visibility": "private",
          "signature": "async fn download(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "download_for_restore",
          "kind": "function",
          "line": 207,
          "visibility": "private",
          "signature": "async fn download_for_restore(\n        &self,\n        id: &str,\n        target_arch: Architecture,\n    )",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 243,
          "visibility": "private",
          "signature": "async fn delete(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list",
          "kind": "function",
          "line": 250,
          "visibility": "private",
          "signature": "async fn list(&self)",
          "is_async": true
        },
        {
          "name": "upload_blob",
          "kind": "function",
          "line": 255,
          "visibility": "private",
          "signature": "async fn upload_blob(&self, key: &str, data: Bytes)",
          "is_async": true
        },
        {
          "name": "download_blob",
          "kind": "function",
          "line": 267,
          "visibility": "private",
          "signature": "async fn download_blob(&self, key: &str)",
          "is_async": true
        },
        {
          "name": "host_arch",
          "kind": "function",
          "line": 283,
          "visibility": "private",
          "signature": "fn host_arch(&self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 289,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sim_teleport_storage_basic",
          "kind": "function",
          "line": 294,
          "visibility": "private",
          "signature": "async fn test_sim_teleport_storage_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::teleport::Architecture"
        },
        {
          "path": "kelpie_core::teleport::TeleportPackage"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorage"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorageError"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorageResult"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_core::SnapshotKind"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/time.rs",
      "symbols": [
        {
          "name": "SimTime",
          "kind": "struct",
          "line": 44,
          "visibility": "pub",
          "attributes": [
            "derive(Clone, Debug)"
          ]
        },
        {
          "name": "SimTime",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 51,
          "visibility": "pub",
          "signature": "fn new(clock: Arc<SimClock>)",
          "doc": "Create a new SimTime from a SimClock"
        },
        {
          "name": "clock",
          "kind": "function",
          "line": 56,
          "visibility": "pub",
          "signature": "fn clock(&self)",
          "doc": "Get the underlying SimClock"
        },
        {
          "name": "TimeProvider for SimTime",
          "kind": "impl",
          "line": 62,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 63,
          "visibility": "private",
          "signature": "fn now_ms(&self)"
        },
        {
          "name": "sleep_ms",
          "kind": "function",
          "line": 67,
          "visibility": "private",
          "signature": "async fn sleep_ms(&self, ms: u64)",
          "is_async": true
        },
        {
          "name": "RealTime",
          "kind": "struct",
          "line": 97,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "RealTime",
          "kind": "impl",
          "line": 99,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 101,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new RealTime provider"
        },
        {
          "name": "Default for RealTime",
          "kind": "impl",
          "line": 106,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 107,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "TimeProvider for RealTime",
          "kind": "impl",
          "line": 113,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 114,
          "visibility": "private",
          "signature": "fn now_ms(&self)"
        },
        {
          "name": "sleep_ms",
          "kind": "function",
          "line": 121,
          "visibility": "private",
          "signature": "async fn sleep_ms(&self, ms: u64)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 130,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sim_time_advances_clock",
          "kind": "function",
          "line": 138,
          "visibility": "private",
          "signature": "async fn test_sim_time_advances_clock()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "madsim::test"
          ]
        },
        {
          "name": "test_sim_time_multiple_sleeps",
          "kind": "function",
          "line": 152,
          "visibility": "private",
          "signature": "async fn test_sim_time_multiple_sleeps()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "madsim::test"
          ]
        },
        {
          "name": "test_sim_time_zero_duration",
          "kind": "function",
          "line": 167,
          "visibility": "private",
          "signature": "async fn test_sim_time_zero_duration()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "madsim::test"
          ]
        },
        {
          "name": "test_sim_time_yields_to_scheduler",
          "kind": "function",
          "line": 180,
          "visibility": "private",
          "signature": "async fn test_sim_time_yields_to_scheduler()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "madsim::test"
          ]
        },
        {
          "name": "test_sim_time_concurrent_sleeps",
          "kind": "function",
          "line": 202,
          "visibility": "private",
          "signature": "async fn test_sim_time_concurrent_sleeps()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "madsim::test"
          ]
        },
        {
          "name": "test_real_time_actually_sleeps",
          "kind": "function",
          "line": 251,
          "visibility": "private",
          "signature": "async fn test_real_time_actually_sleeps()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"Uses real wall-clock time, not suitable for DST\""
          ]
        },
        {
          "name": "test_real_time_now_ms",
          "kind": "function",
          "line": 268,
          "visibility": "private",
          "signature": "async fn test_real_time_now_ms()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "ignore = \"Uses real wall-clock time, not suitable for DST\""
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::TimeProvider"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "crate::clock::SimClock"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/simulation.rs",
      "symbols": [
        {
          "name": "SimConfig",
          "kind": "struct",
          "line": 35,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimConfig",
          "kind": "impl",
          "line": 50,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "fn new(seed: u64)",
          "doc": "Create a new simulation config with the given seed"
        },
        {
          "name": "from_env_or_random",
          "kind": "function",
          "line": 64,
          "visibility": "pub",
          "signature": "fn from_env_or_random()",
          "doc": "Create config from DST_SEED environment variable or random"
        },
        {
          "name": "with_max_steps",
          "kind": "function",
          "line": 76,
          "visibility": "pub",
          "signature": "fn with_max_steps(mut self, steps: u64)",
          "doc": "Set maximum simulation steps"
        },
        {
          "name": "with_max_time_ms",
          "kind": "function",
          "line": 82,
          "visibility": "pub",
          "signature": "fn with_max_time_ms(mut self, ms: u64)",
          "doc": "Set maximum simulated time"
        },
        {
          "name": "with_storage_limit",
          "kind": "function",
          "line": 88,
          "visibility": "pub",
          "signature": "fn with_storage_limit(mut self, bytes: usize)",
          "doc": "Set storage size limit"
        },
        {
          "name": "with_network_latency",
          "kind": "function",
          "line": 94,
          "visibility": "pub",
          "signature": "fn with_network_latency(mut self, base_ms: u64, jitter_ms: u64)",
          "doc": "Set network latency"
        },
        {
          "name": "Default for SimConfig",
          "kind": "impl",
          "line": 101,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 102,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "SimEnvironment",
          "kind": "struct",
          "line": 108,
          "visibility": "pub",
          "doc": "Environment provided to simulation tests"
        },
        {
          "name": "SimEnvironment",
          "kind": "impl",
          "line": 133,
          "visibility": "private"
        },
        {
          "name": "fork_rng",
          "kind": "function",
          "line": 135,
          "visibility": "pub",
          "signature": "fn fork_rng(&self)",
          "doc": "Fork the RNG to create an independent stream (wrapped in Arc for sharing)"
        },
        {
          "name": "fork_rng_raw",
          "kind": "function",
          "line": 140,
          "visibility": "pub",
          "signature": "fn fork_rng_raw(&self)",
          "doc": "Fork the RNG to create an independent stream (raw, not wrapped)"
        },
        {
          "name": "advance_time_ms",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "fn advance_time_ms(&self, ms: u64)",
          "doc": "Advance simulation time"
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 150,
          "visibility": "pub",
          "signature": "fn now_ms(&self)",
          "doc": "Get current simulation time in milliseconds"
        },
        {
          "name": "time",
          "kind": "function",
          "line": 155,
          "visibility": "pub",
          "signature": "fn time(&self)",
          "doc": "Get time via IoContext (proper DST pattern)"
        },
        {
          "name": "rng_provider",
          "kind": "function",
          "line": 160,
          "visibility": "pub",
          "signature": "fn rng_provider(&self)",
          "doc": "Get RNG via IoContext (proper DST pattern)"
        },
        {
          "name": "Simulation",
          "kind": "struct",
          "line": 166,
          "visibility": "pub",
          "doc": "Main simulation harness"
        },
        {
          "name": "Simulation",
          "kind": "impl",
          "line": 173,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 175,
          "visibility": "pub",
          "signature": "fn new(config: SimConfig)",
          "doc": "Create a new simulation with the given config"
        },
        {
          "name": "with_fault",
          "kind": "function",
          "line": 184,
          "visibility": "pub",
          "signature": "fn with_fault(mut self, fault: FaultConfig)",
          "doc": "Add a fault configuration"
        },
        {
          "name": "with_faults",
          "kind": "function",
          "line": 190,
          "visibility": "pub",
          "signature": "fn with_faults(mut self, faults: Vec<FaultConfig>)",
          "doc": "Add multiple fault configurations"
        },
        {
          "name": "with_invariants",
          "kind": "function",
          "line": 199,
          "visibility": "pub",
          "signature": "fn with_invariants(mut self, checker: InvariantChecker)",
          "doc": "Add an invariant checker for verified simulation runs\n\nWhen an invariant checker is configured, use `run_checked()` to\nverify invariants against system state snapshots."
        },
        {
          "name": "has_invariant_checker",
          "kind": "function",
          "line": 205,
          "visibility": "pub",
          "signature": "fn has_invariant_checker(&self)",
          "doc": "Check if this simulation has an invariant checker configured"
        },
        {
          "name": "invariant_checker",
          "kind": "function",
          "line": 210,
          "visibility": "pub",
          "signature": "fn invariant_checker(&self)",
          "doc": "Get a reference to the invariant checker, if configured"
        },
        {
          "name": "run",
          "kind": "function",
          "line": 215,
          "visibility": "pub",
          "signature": "fn run<F, Fut, T>(self, test: F)",
          "doc": "Run the simulation with the given test function",
          "generic_params": [
            "F",
            "Fut",
            "T"
          ]
        },
        {
          "name": "run_async",
          "kind": "function",
          "line": 315,
          "visibility": "pub",
          "signature": "async fn run_async<F, Fut, T>(self, test: F)",
          "doc": "Run the simulation asynchronously (when already in an async context)",
          "is_async": true,
          "generic_params": [
            "F",
            "Fut",
            "T"
          ]
        },
        {
          "name": "run_checked",
          "kind": "function",
          "line": 401,
          "visibility": "pub",
          "signature": "fn run_checked<F, Fut, T>(self, test: F)",
          "doc": "Run simulation with invariant checking\n\nThis method runs the simulation and allows the test to verify invariants\nagainst system state snapshots at any point. The test function receives\nboth the environment and an invariant verifier.\n\n# Example\n\n```rust,ignore\nuse kelpie_dst::{Simulation, SimConfig, InvariantChecker, SystemState, SingleActivation};\n\nlet checker = InvariantChecker::new().with_invariant(SingleActivation);\n\nSimulation::new(SimConfig::new(42))\n.with_invariants(checker)\n.run_checked(|env, verifier| async move {\n// ... perform operations ...\n\n// Capture and verify state\nlet state = SystemState::new()\n.with_node(/* ... */);\nverifier(&state)?;\n\nOk(())\n})?;\n```",
          "generic_params": [
            "F",
            "Fut",
            "T"
          ]
        },
        {
          "name": "SimulationError",
          "kind": "enum",
          "line": 498,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "std::fmt::Display for SimulationError",
          "kind": "impl",
          "line": 511,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 512,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "From<InvariantViolation> for SimulationError",
          "kind": "impl",
          "line": 523,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 524,
          "visibility": "private",
          "signature": "fn from(v: InvariantViolation)"
        },
        {
          "name": "std::error::Error for SimulationError",
          "kind": "impl",
          "line": 529,
          "visibility": "private"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 532,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_simulation_basic",
          "kind": "function",
          "line": 538,
          "visibility": "private",
          "signature": "fn test_simulation_basic()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_simulation_with_faults",
          "kind": "function",
          "line": 555,
          "visibility": "private",
          "signature": "fn test_simulation_with_faults()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_simulation_determinism",
          "kind": "function",
          "line": 569,
          "visibility": "private",
          "signature": "fn test_simulation_determinism()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_simulation_network",
          "kind": "function",
          "line": 591,
          "visibility": "private",
          "signature": "fn test_simulation_network()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_simulation_time_advancement",
          "kind": "function",
          "line": 613,
          "visibility": "private",
          "signature": "fn test_simulation_time_advancement()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::clock::SimClock"
        },
        {
          "path": "crate::fault::FaultConfig"
        },
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultInjectorBuilder"
        },
        {
          "path": "crate::invariants::InvariantChecker"
        },
        {
          "path": "crate::invariants::InvariantViolation"
        },
        {
          "path": "crate::invariants::SystemState"
        },
        {
          "path": "crate::network::SimNetwork"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "crate::sandbox::SimSandboxFactory"
        },
        {
          "path": "crate::sandbox_io::SimSandboxIOFactory"
        },
        {
          "path": "crate::storage::SimStorage"
        },
        {
          "path": "crate::teleport::SimTeleportStorage"
        },
        {
          "path": "crate::time::SimTime"
        },
        {
          "path": "crate::vm::SimVmFactory"
        },
        {
          "path": "kelpie_core::IoContext"
        },
        {
          "path": "kelpie_core::RngProvider"
        },
        {
          "path": "kelpie_core::TimeProvider"
        },
        {
          "path": "kelpie_core::DST_STEPS_COUNT_MAX"
        },
        {
          "path": "kelpie_core::DST_TIME_MS_MAX"
        },
        {
          "path": "std::future::Future"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "bytes::Bytes"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/fault.rs",
      "symbols": [
        {
          "name": "FaultType",
          "kind": "enum",
          "line": 13,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, PartialEq)"
          ]
        },
        {
          "name": "FaultType",
          "kind": "impl",
          "line": 222,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 224,
          "visibility": "pub",
          "signature": "fn name(&self)",
          "doc": "Get a human-readable name for this fault type"
        },
        {
          "name": "FaultConfig",
          "kind": "struct",
          "line": 315,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "FaultConfig",
          "kind": "impl",
          "line": 330,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 332,
          "visibility": "pub",
          "signature": "fn new(fault_type: FaultType, probability: f64)",
          "doc": "Create a new fault configuration"
        },
        {
          "name": "with_filter",
          "kind": "function",
          "line": 349,
          "visibility": "pub",
          "signature": "fn with_filter(mut self, filter: impl Into<String>)",
          "doc": "Set an operation filter"
        },
        {
          "name": "after",
          "kind": "function",
          "line": 355,
          "visibility": "pub",
          "signature": "fn after(mut self, operations: u64)",
          "doc": "Set the number of operations to wait before triggering"
        },
        {
          "name": "max_triggers",
          "kind": "function",
          "line": 361,
          "visibility": "pub",
          "signature": "fn max_triggers(mut self, max: u64)",
          "doc": "Set the maximum number of triggers"
        },
        {
          "name": "disabled",
          "kind": "function",
          "line": 367,
          "visibility": "pub",
          "signature": "fn disabled(mut self)",
          "doc": "Disable this fault"
        },
        {
          "name": "FaultInjector",
          "kind": "struct",
          "line": 375,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "FaultState",
          "kind": "struct",
          "line": 386,
          "visibility": "private",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "FaultInjector",
          "kind": "impl",
          "line": 391,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 393,
          "visibility": "pub",
          "signature": "fn new(rng: DeterministicRng)",
          "doc": "Create a new fault injector with the given RNG"
        },
        {
          "name": "register",
          "kind": "function",
          "line": 402,
          "visibility": "pub",
          "signature": "fn register(&mut self, config: FaultConfig)",
          "doc": "Register a fault configuration"
        },
        {
          "name": "should_inject",
          "kind": "function",
          "line": 412,
          "visibility": "pub",
          "signature": "fn should_inject(&self, operation: &str)",
          "doc": "Check if a fault should be injected for the given operation\n\nReturns the fault type if injection should occur, None otherwise."
        },
        {
          "name": "operation_count",
          "kind": "function",
          "line": 494,
          "visibility": "pub",
          "signature": "fn operation_count(&self)",
          "doc": "Get the total number of operations processed"
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 499,
          "visibility": "pub",
          "signature": "fn stats(&self)",
          "doc": "Get statistics for all registered faults"
        },
        {
          "name": "reset",
          "kind": "function",
          "line": 512,
          "visibility": "pub",
          "signature": "fn reset(&self)",
          "doc": "Reset all trigger counts"
        },
        {
          "name": "FaultStats",
          "kind": "struct",
          "line": 522,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "FaultInjectorBuilder",
          "kind": "struct",
          "line": 530,
          "visibility": "pub",
          "doc": "Builder for creating a FaultInjector with multiple faults"
        },
        {
          "name": "FaultInjectorBuilder",
          "kind": "impl",
          "line": 535,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 537,
          "visibility": "pub",
          "signature": "fn new(rng: DeterministicRng)",
          "doc": "Create a new builder"
        },
        {
          "name": "with_fault",
          "kind": "function",
          "line": 545,
          "visibility": "pub",
          "signature": "fn with_fault(mut self, config: FaultConfig)",
          "doc": "Add a fault configuration"
        },
        {
          "name": "with_storage_faults",
          "kind": "function",
          "line": 551,
          "visibility": "pub",
          "signature": "fn with_storage_faults(self, probability: f64)",
          "doc": "Add storage faults with default probabilities"
        },
        {
          "name": "with_network_faults",
          "kind": "function",
          "line": 557,
          "visibility": "pub",
          "signature": "fn with_network_faults(self, probability: f64)",
          "doc": "Add network faults with default probabilities"
        },
        {
          "name": "with_crash_faults",
          "kind": "function",
          "line": 572,
          "visibility": "pub",
          "signature": "fn with_crash_faults(self, probability: f64)",
          "doc": "Add crash faults with default probabilities\n\nTigerStyle: Crash faults MUST be filtered to write/transaction operations.\nCrashAfterWrite should never trigger on read operations."
        },
        {
          "name": "with_mcp_faults",
          "kind": "function",
          "line": 583,
          "visibility": "pub",
          "signature": "fn with_mcp_faults(self, probability: f64)",
          "doc": "Add MCP (Model Context Protocol) faults with default probabilities"
        },
        {
          "name": "with_llm_faults",
          "kind": "function",
          "line": 593,
          "visibility": "pub",
          "signature": "fn with_llm_faults(self, probability: f64)",
          "doc": "Add LLM (Language Model) faults with default probabilities"
        },
        {
          "name": "with_sandbox_faults",
          "kind": "function",
          "line": 603,
          "visibility": "pub",
          "signature": "fn with_sandbox_faults(self, probability: f64)",
          "doc": "Add sandbox faults with default probabilities"
        },
        {
          "name": "with_wasm_faults",
          "kind": "function",
          "line": 619,
          "visibility": "pub",
          "signature": "fn with_wasm_faults(self, probability: f64)",
          "doc": "Add WASM runtime faults with default probabilities\n\nThese faults simulate failures in WASM module execution:\n- Compilation failures (invalid WASM bytecode)\n- Instantiation failures (linking errors)\n- Execution failures (runtime errors)\n- Execution timeouts (fuel exhausted)\n- Cache evictions (for testing cache behavior)"
        },
        {
          "name": "with_custom_tool_faults",
          "kind": "function",
          "line": 642,
          "visibility": "pub",
          "signature": "fn with_custom_tool_faults(self, probability: f64)",
          "doc": "Add custom tool execution faults with default probabilities\n\nThese faults simulate failures in custom tool execution:\n- Execution failures (script errors)\n- Execution timeouts (tool takes too long)\n- Sandbox acquisition failures (pool exhausted)"
        },
        {
          "name": "with_http_faults",
          "kind": "function",
          "line": 662,
          "visibility": "pub",
          "signature": "fn with_http_faults(self, probability: f64)",
          "doc": "Add HTTP client faults with default probabilities\n\nThese faults simulate failures in HTTP API calls:\n- Connection failures (network issues)\n- Timeouts (slow server)\n- Server errors (5xx responses)\n- Response too large\n- Rate limiting (429 responses)"
        },
        {
          "name": "with_snapshot_faults",
          "kind": "function",
          "line": 687,
          "visibility": "pub",
          "signature": "fn with_snapshot_faults(self, probability: f64)",
          "doc": "Add snapshot faults with default probabilities"
        },
        {
          "name": "with_teleport_faults",
          "kind": "function",
          "line": 697,
          "visibility": "pub",
          "signature": "fn with_teleport_faults(self, probability: f64)",
          "doc": "Add teleport faults with default probabilities"
        },
        {
          "name": "with_multi_agent_faults",
          "kind": "function",
          "line": 717,
          "visibility": "pub",
          "signature": "fn with_multi_agent_faults(self, probability: f64)",
          "doc": "Add multi-agent communication faults (Issue #75)\n\nThese faults simulate failures in agent-to-agent communication:\n- Timeout (called agent doesn't respond)\n- Rejection (called agent refuses the call)\n- Not found (target agent doesn't exist)\n- Busy (target agent at max concurrent calls)\n- Network delay (specific to agent calls)"
        },
        {
          "name": "with_storage_semantics_faults",
          "kind": "function",
          "line": 756,
          "visibility": "pub",
          "signature": "fn with_storage_semantics_faults(self, probability: f64)",
          "doc": "Add storage semantics faults (FoundationDB-critical)\n\nThese faults simulate disk-level failures that production databases must handle:\n- Misdirected writes (data goes to wrong location)\n- Partial writes (only some bytes written)\n- Fsync failures (metadata not persisted)"
        },
        {
          "name": "with_coordination_faults",
          "kind": "function",
          "line": 783,
          "visibility": "pub",
          "signature": "fn with_coordination_faults(self, probability: f64)",
          "doc": "Add distributed coordination faults (FoundationDB-critical)\n\nThese faults simulate cluster-level failures:\n- Split-brain scenarios\n- Replication lag\n- Quorum loss\n\nNote: These are marker faults - actual implementation depends on\nyour cluster simulation. Use them to trigger cluster-level behaviors."
        },
        {
          "name": "with_infrastructure_faults",
          "kind": "function",
          "line": 811,
          "visibility": "pub",
          "signature": "fn with_infrastructure_faults(self, probability: f64)",
          "doc": "Add infrastructure faults (FoundationDB-critical)\n\nThese faults simulate infrastructure-level failures:\n- Packet corruption (not just loss)\n- Network jitter (unpredictable latency)\n- Connection exhaustion\n- File descriptor exhaustion"
        },
        {
          "name": "build",
          "kind": "function",
          "line": 836,
          "visibility": "pub",
          "signature": "fn build(self)",
          "doc": "Build the fault injector"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 846,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_fault_injection_probability",
          "kind": "function",
          "line": 850,
          "visibility": "private",
          "signature": "fn test_fault_injection_probability()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fault_injection_zero_probability",
          "kind": "function",
          "line": 863,
          "visibility": "private",
          "signature": "fn test_fault_injection_zero_probability()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fault_injection_filter",
          "kind": "function",
          "line": 876,
          "visibility": "private",
          "signature": "fn test_fault_injection_filter()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fault_injection_max_triggers",
          "kind": "function",
          "line": 891,
          "visibility": "private",
          "signature": "fn test_fault_injection_max_triggers()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fault_injector_builder",
          "kind": "function",
          "line": 906,
          "visibility": "private",
          "signature": "fn test_fault_injector_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fault_type_names",
          "kind": "function",
          "line": 918,
          "visibility": "private",
          "signature": "fn test_fault_type_names()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fdb_critical_fault_type_names",
          "kind": "function",
          "line": 925,
          "visibility": "private",
          "signature": "fn test_fdb_critical_fault_type_names()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fault_injector_builder_fdb_faults",
          "kind": "function",
          "line": 993,
          "visibility": "private",
          "signature": "fn test_fault_injector_builder_fdb_faults()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_multi_agent_fault_type_names",
          "kind": "function",
          "line": 1019,
          "visibility": "private",
          "signature": "fn test_multi_agent_fault_type_names()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fault_injector_builder_multi_agent_faults",
          "kind": "function",
          "line": 1053,
          "visibility": "private",
          "signature": "fn test_fault_injector_builder_multi_agent_faults()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/invariants.rs",
      "symbols": [
        {
          "name": "InvariantViolation",
          "kind": "struct",
          "line": 50,
          "visibility": "pub",
          "attributes": [
            "derive(Error, Debug, Clone)",
            "error(\"Invariant '{name}' violated: {message}\")"
          ]
        },
        {
          "name": "InvariantViolation",
          "kind": "impl",
          "line": 59,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "fn new(name: impl Into<String>, message: impl Into<String>)",
          "doc": "Create a new invariant violation"
        },
        {
          "name": "with_evidence",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn with_evidence(\n        name: impl Into<String>,\n        message: impl Into<String>,\n        evidence: impl Into<String>,\n    )",
          "doc": "Create a new invariant violation with evidence"
        },
        {
          "name": "Invariant",
          "kind": "trait",
          "line": 87,
          "visibility": "pub",
          "doc": "Trait for TLA+ invariants\n\nEach invariant should correspond to a safety property in a TLA+ specification.\nThe `name()` method returns the TLA+ property name for traceability."
        },
        {
          "name": "InvariantChecker",
          "kind": "struct",
          "line": 105,
          "visibility": "pub",
          "doc": "Checks multiple invariants against system state\n\nProvides both fail-fast (`verify_all`) and collect-all (`verify_all_collect`)\nmodes for different testing scenarios."
        },
        {
          "name": "Default for InvariantChecker",
          "kind": "impl",
          "line": 109,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 110,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "InvariantChecker",
          "kind": "impl",
          "line": 115,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 117,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty invariant checker"
        },
        {
          "name": "with_invariant",
          "kind": "function",
          "line": 124,
          "visibility": "pub",
          "signature": "fn with_invariant(mut self, inv: impl Invariant + 'static)",
          "doc": "Add an invariant to the checker"
        },
        {
          "name": "with_standard_invariants",
          "kind": "function",
          "line": 130,
          "visibility": "pub",
          "signature": "fn with_standard_invariants(self)",
          "doc": "Add all standard Kelpie invariants"
        },
        {
          "name": "verify_all",
          "kind": "function",
          "line": 140,
          "visibility": "pub",
          "signature": "fn verify_all(&self, state: &SystemState)",
          "doc": "Verify all invariants, returning the first violation (fail-fast)"
        },
        {
          "name": "verify_all_collect",
          "kind": "function",
          "line": 150,
          "visibility": "pub",
          "signature": "fn verify_all_collect(&self, state: &SystemState)",
          "doc": "Verify all invariants, collecting ALL violations\n\nUseful for comprehensive testing where you want to see all failures."
        },
        {
          "name": "invariant_names",
          "kind": "function",
          "line": 158,
          "visibility": "pub",
          "signature": "fn invariant_names(&self)",
          "doc": "Get the names of all registered invariants"
        },
        {
          "name": "len",
          "kind": "function",
          "line": 163,
          "visibility": "pub",
          "signature": "fn len(&self)",
          "doc": "Get the number of registered invariants"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if the checker has no invariants"
        },
        {
          "name": "fmt::Debug for InvariantChecker",
          "kind": "impl",
          "line": 173,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 174,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "NodeState",
          "kind": "enum",
          "line": 187,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Hash)"
          ]
        },
        {
          "name": "NodeStatus",
          "kind": "enum",
          "line": 200,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Hash)"
          ]
        },
        {
          "name": "WalEntryStatus",
          "kind": "enum",
          "line": 211,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Hash)"
          ]
        },
        {
          "name": "NodeInfo",
          "kind": "struct",
          "line": 222,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "NodeInfo",
          "kind": "impl",
          "line": 238,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 240,
          "visibility": "pub",
          "signature": "fn new(id: impl Into<String>)",
          "doc": "Create a new node with default state"
        },
        {
          "name": "with_status",
          "kind": "function",
          "line": 252,
          "visibility": "pub",
          "signature": "fn with_status(mut self, status: NodeStatus)",
          "doc": "Set the node status"
        },
        {
          "name": "with_actor_state",
          "kind": "function",
          "line": 258,
          "visibility": "pub",
          "signature": "fn with_actor_state(mut self, actor_id: impl Into<String>, state: NodeState)",
          "doc": "Set an actor's state on this node"
        },
        {
          "name": "with_lease_belief",
          "kind": "function",
          "line": 264,
          "visibility": "pub",
          "signature": "fn with_lease_belief(mut self, actor_id: impl Into<String>, expiry: u64)",
          "doc": "Set a lease belief for an actor"
        },
        {
          "name": "actor_state",
          "kind": "function",
          "line": 270,
          "visibility": "pub",
          "signature": "fn actor_state(&self, actor_id: &str)",
          "doc": "Get the state for an actor on this node"
        },
        {
          "name": "believes_holds_lease",
          "kind": "function",
          "line": 278,
          "visibility": "pub",
          "signature": "fn believes_holds_lease(&self, actor_id: &str, current_time: u64)",
          "doc": "Check if this node believes it holds a valid lease for an actor"
        },
        {
          "name": "WalEntry",
          "kind": "struct",
          "line": 288,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "LeaseInfo",
          "kind": "struct",
          "line": 303,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SystemState",
          "kind": "struct",
          "line": 315,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for SystemState",
          "kind": "impl",
          "line": 340,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 341,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "SystemState",
          "kind": "impl",
          "line": 346,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 348,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty system state"
        },
        {
          "name": "with_time",
          "kind": "function",
          "line": 365,
          "visibility": "pub",
          "signature": "fn with_time(mut self, time: u64)",
          "doc": "Set the current simulated time"
        },
        {
          "name": "with_node",
          "kind": "function",
          "line": 371,
          "visibility": "pub",
          "signature": "fn with_node(mut self, node: NodeInfo)",
          "doc": "Add a node to the system"
        },
        {
          "name": "with_placement",
          "kind": "function",
          "line": 377,
          "visibility": "pub",
          "signature": "fn with_placement(\n        mut self,\n        actor_id: impl Into<String>,\n        node_id: impl Into<String>,\n    )",
          "doc": "Add a placement"
        },
        {
          "name": "with_fdb_holder",
          "kind": "function",
          "line": 387,
          "visibility": "pub",
          "signature": "fn with_fdb_holder(mut self, actor_id: impl Into<String>, holder: Option<String>)",
          "doc": "Set the FDB holder for an actor"
        },
        {
          "name": "with_lease",
          "kind": "function",
          "line": 393,
          "visibility": "pub",
          "signature": "fn with_lease(\n        mut self,\n        actor_id: impl Into<String>,\n        holder: Option<String>,\n        expiry: u64,\n    )",
          "doc": "Add a lease"
        },
        {
          "name": "with_wal_entry",
          "kind": "function",
          "line": 405,
          "visibility": "pub",
          "signature": "fn with_wal_entry(mut self, entry: WalEntry)",
          "doc": "Add a WAL entry"
        },
        {
          "name": "with_storage_key",
          "kind": "function",
          "line": 411,
          "visibility": "pub",
          "signature": "fn with_storage_key(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Set storage key value"
        },
        {
          "name": "without_storage_key",
          "kind": "function",
          "line": 417,
          "visibility": "pub",
          "signature": "fn without_storage_key(mut self, key: &str)",
          "doc": "Remove a storage key"
        },
        {
          "name": "actor_ids",
          "kind": "function",
          "line": 423,
          "visibility": "pub",
          "signature": "fn actor_ids(&self)",
          "doc": "Get all actor IDs in the system"
        },
        {
          "name": "nodes",
          "kind": "function",
          "line": 445,
          "visibility": "pub",
          "signature": "fn nodes(&self)",
          "doc": "Get all nodes"
        },
        {
          "name": "node",
          "kind": "function",
          "line": 450,
          "visibility": "pub",
          "signature": "fn node(&self, id: &str)",
          "doc": "Get a specific node"
        },
        {
          "name": "fdb_holder",
          "kind": "function",
          "line": 455,
          "visibility": "pub",
          "signature": "fn fdb_holder(&self, actor_id: &str)",
          "doc": "Get the FDB holder for an actor"
        },
        {
          "name": "lease",
          "kind": "function",
          "line": 460,
          "visibility": "pub",
          "signature": "fn lease(&self, actor_id: &str)",
          "doc": "Get the lease for an actor"
        },
        {
          "name": "is_lease_valid",
          "kind": "function",
          "line": 465,
          "visibility": "pub",
          "signature": "fn is_lease_valid(&self, actor_id: &str)",
          "doc": "Check if a lease is valid (not expired)"
        },
        {
          "name": "placement",
          "kind": "function",
          "line": 473,
          "visibility": "pub",
          "signature": "fn placement(&self, actor_id: &str)",
          "doc": "Get the placement for an actor"
        },
        {
          "name": "placements",
          "kind": "function",
          "line": 478,
          "visibility": "pub",
          "signature": "fn placements(&self)",
          "doc": "Get all placements"
        },
        {
          "name": "current_time",
          "kind": "function",
          "line": 483,
          "visibility": "pub",
          "signature": "fn current_time(&self)",
          "doc": "Get current time"
        },
        {
          "name": "wal_entries",
          "kind": "function",
          "line": 488,
          "visibility": "pub",
          "signature": "fn wal_entries(&self)",
          "doc": "Get WAL entries"
        },
        {
          "name": "storage_exists",
          "kind": "function",
          "line": 493,
          "visibility": "pub",
          "signature": "fn storage_exists(&self, key: &str)",
          "doc": "Check if a storage key exists"
        },
        {
          "name": "with_transaction",
          "kind": "function",
          "line": 498,
          "visibility": "pub",
          "signature": "fn with_transaction(mut self, txn: Transaction)",
          "doc": "Add a transaction to the state"
        },
        {
          "name": "transactions",
          "kind": "function",
          "line": 504,
          "visibility": "pub",
          "signature": "fn transactions(&self)",
          "doc": "Get all transactions"
        },
        {
          "name": "with_fencing_token",
          "kind": "function",
          "line": 509,
          "visibility": "pub",
          "signature": "fn with_fencing_token(mut self, actor_id: impl Into<String>, token: i64)",
          "doc": "Set a fencing token for an actor"
        },
        {
          "name": "fencing_tokens",
          "kind": "function",
          "line": 520,
          "visibility": "pub",
          "signature": "fn fencing_tokens(&self)",
          "doc": "Get all fencing tokens"
        },
        {
          "name": "fencing_token_history",
          "kind": "function",
          "line": 525,
          "visibility": "pub",
          "signature": "fn fencing_token_history(&self)",
          "doc": "Get fencing token history"
        },
        {
          "name": "with_snapshot",
          "kind": "function",
          "line": 530,
          "visibility": "pub",
          "signature": "fn with_snapshot(mut self, snapshot: Snapshot)",
          "doc": "Add a snapshot to the state"
        },
        {
          "name": "snapshots",
          "kind": "function",
          "line": 536,
          "visibility": "pub",
          "signature": "fn snapshots(&self)",
          "doc": "Get all snapshots"
        },
        {
          "name": "SingleActivation",
          "kind": "struct",
          "line": 555,
          "visibility": "pub",
          "doc": "SingleActivation invariant from KelpieSingleActivation.tla\n\n**TLA+ Definition:**\n```tla\nSingleActivation ==\nCardinality({n \\in Nodes : node_state[n] = \"Active\"}) <= 1\n```\n\nAt most one node can be in the Active state for any given actor at any time.\nThis is THE key safety guarantee of the single activation protocol."
        },
        {
          "name": "Invariant for SingleActivation",
          "kind": "impl",
          "line": 557,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 558,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 562,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 566,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "ConsistentHolder",
          "kind": "struct",
          "line": 600,
          "visibility": "pub",
          "doc": "ConsistentHolder invariant from KelpieSingleActivation.tla\n\n**TLA+ Definition:**\n```tla\nConsistentHolder ==\n\\A n \\in Nodes:\nnode_state[n] = \"Active\" => fdb_holder = n\n```\n\nIf a node thinks it's active for an actor, FDB must agree that node is the holder."
        },
        {
          "name": "Invariant for ConsistentHolder",
          "kind": "impl",
          "line": 602,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 603,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 607,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 611,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "PlacementConsistency",
          "kind": "struct",
          "line": 648,
          "visibility": "pub",
          "doc": "PlacementConsistency invariant from KelpieRegistry.tla\n\n**TLA+ Definition:**\n```tla\nPlacementConsistency ==\n\\A a \\in Actors :\nplacement[a] # NULL => nodeStatus[placement[a]] # Failed\n```\n\nAn actor should not be placed on a failed node. When a node fails,\nits placements should be cleared."
        },
        {
          "name": "Invariant for PlacementConsistency",
          "kind": "impl",
          "line": 650,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 651,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 655,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 659,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "LeaseUniqueness",
          "kind": "struct",
          "line": 690,
          "visibility": "pub",
          "doc": "LeaseUniqueness invariant from KelpieLease.tla\n\n**TLA+ Definition:**\n```tla\nLeaseUniqueness ==\n\\A a \\in Actors:\nLET believingNodes == {n \\in Nodes: NodeBelievesItHolds(n, a)}\nIN Cardinality(believingNodes) <= 1\n```\n\nAt most one node believes it holds a valid lease for any given actor.\nThis is the critical invariant for single activation via leases."
        },
        {
          "name": "Invariant for LeaseUniqueness",
          "kind": "impl",
          "line": 692,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 693,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 697,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 701,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "Durability",
          "kind": "struct",
          "line": 742,
          "visibility": "pub",
          "doc": "Durability invariant from KelpieWAL.tla\n\n**TLA+ Definition:**\n```tla\nDurability ==\n\\A i \\in 1..Len(wal) :\n(wal[i].status = \"Completed\") =>\n(storage[wal[i].data] = wal[i].data)\n```\n\nCompleted WAL entries must be visible in storage. Once an operation\nis marked complete, its effects are durable."
        },
        {
          "name": "Invariant for Durability",
          "kind": "impl",
          "line": 744,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 745,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 749,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 753,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "AtomicVisibility",
          "kind": "struct",
          "line": 784,
          "visibility": "pub",
          "doc": "AtomicVisibility invariant from KelpieWAL.tla\n\n**TLA+ Definition:**\n```tla\nAtomicVisibility ==\n\\A i \\in 1..Len(wal) :\nwal[i].status = \"Completed\" => storage[wal[i].data] # 0\n```\n\nAn entry's operation is either fully applied (Completed -> visible in storage)\nor not at all. No partial states are visible."
        },
        {
          "name": "Invariant for AtomicVisibility",
          "kind": "impl",
          "line": 786,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 787,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 791,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 795,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "NoSplitBrain",
          "kind": "struct",
          "line": 828,
          "visibility": "pub",
          "doc": "NoSplitBrain invariant from KelpieClusterMembership.tla\n\n**TLA+ Definition:**\n```tla\nNoSplitBrain ==\n\\A n1, n2 \\in Nodes :\n/\\ HasValidPrimaryClaim(n1)\n/\\ HasValidPrimaryClaim(n2)\n=> n1 = n2\n```\n\nThere is at most one valid primary node. A primary claim is valid only\nif the node can reach a majority (quorum). This is THE KEY SAFETY INVARIANT\nfor cluster membership."
        },
        {
          "name": "Invariant for NoSplitBrain",
          "kind": "impl",
          "line": 830,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 831,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 835,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 839,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "ReadYourWrites",
          "kind": "struct",
          "line": 875,
          "visibility": "pub",
          "doc": "ReadYourWrites invariant from KelpieFDBTransaction.tla\n\n**TLA+ Definition:**\n```tla\nReadYourWrites ==\n\\A t \\in Transactions :\ntxnState[t] = RUNNING =>\n\\A k \\in Keys :\nwriteBuffer[t][k] # NoValue =>\nTxnRead(t, k) = writeBuffer[t][k]\n```\n\nA running transaction must see its own writes. If a key was written\nin the transaction's write buffer, reading that key must return the\nwritten value, not the committed value."
        },
        {
          "name": "Invariant for ReadYourWrites",
          "kind": "impl",
          "line": 877,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 878,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 882,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 886,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "FencingTokenMonotonic",
          "kind": "struct",
          "line": 923,
          "visibility": "pub",
          "doc": "FencingTokenMonotonic invariant from KelpieLease.tla\n\n**TLA+ Definition:**\n```tla\nFencingTokenMonotonic ==\n\\A a \\in Actors:\nfencingTokens[a] >= 0\n```\n\nFencing tokens are non-negative and only increase. When a new lease is\nacquired, the fencing token must be greater than any previous token\nfor that actor. This prevents stale writes from nodes with expired leases."
        },
        {
          "name": "Invariant for FencingTokenMonotonic",
          "kind": "impl",
          "line": 925,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 926,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 930,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 934,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "SnapshotConsistency",
          "kind": "struct",
          "line": 973,
          "visibility": "pub",
          "doc": "SnapshotConsistency invariant from KelpieTeleport.tla\n\n**TLA+ Definition:**\n```tla\nSnapshotConsistency ==\nTRUE  \\* Consistency enforced by CompleteRestore restoring exact savedState\n```\n\nA restored snapshot must contain exactly the state that was saved.\nNo partial restores are allowed."
        },
        {
          "name": "Invariant for SnapshotConsistency",
          "kind": "impl",
          "line": 975,
          "visibility": "private"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 976,
          "visibility": "private",
          "signature": "fn name(&self)"
        },
        {
          "name": "tla_source",
          "kind": "function",
          "line": 980,
          "visibility": "private",
          "signature": "fn tla_source(&self)"
        },
        {
          "name": "check",
          "kind": "function",
          "line": 984,
          "visibility": "private",
          "signature": "fn check(&self, state: &SystemState)"
        },
        {
          "name": "TransactionState",
          "kind": "enum",
          "line": 1025,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Hash)"
          ]
        },
        {
          "name": "Transaction",
          "kind": "struct",
          "line": 1036,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Snapshot",
          "kind": "struct",
          "line": 1049,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "NodeInfo",
          "kind": "impl",
          "line": 1059,
          "visibility": "private"
        },
        {
          "name": "with_primary",
          "kind": "function",
          "line": 1061,
          "visibility": "pub",
          "signature": "fn with_primary(mut self, is_primary: bool)",
          "doc": "Set whether this node is primary"
        },
        {
          "name": "with_quorum",
          "kind": "function",
          "line": 1067,
          "visibility": "pub",
          "signature": "fn with_quorum(mut self, has_quorum: bool)",
          "doc": "Set whether this node has quorum"
        },
        {
          "name": "InvariantCheckingSimulation",
          "kind": "struct",
          "line": 1099,
          "visibility": "pub",
          "doc": "A simulation wrapper that automatically checks invariants after each operation.\n\nThis bridges TLA+ specs to DST tests by verifying the same properties that\nTLA+ model checking would verify, but at runtime during simulation.\n\n# Example\n\n```rust,ignore\nuse kelpie_dst::invariants::{InvariantCheckingSimulation, SingleActivation, NoSplitBrain};\n\nlet sim = InvariantCheckingSimulation::new()\n.with_invariant(SingleActivation)\n.with_invariant(NoSplitBrain);\n\nsim.run(|env| async move {\n// Test logic here - invariants checked after each step\nenv.activate_actor(\"actor-1\").await?;\nenv.partition_network([\"node-1\"], [\"node-2\", \"node-3\"]).await;\n// If any invariant is violated, the test fails with detailed evidence\nOk(())\n}).await?;\n```"
        },
        {
          "name": "Default for InvariantCheckingSimulation",
          "kind": "impl",
          "line": 1105,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 1106,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "InvariantCheckingSimulation",
          "kind": "impl",
          "line": 1111,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 1113,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new invariant-checking simulation"
        },
        {
          "name": "with_invariant",
          "kind": "function",
          "line": 1122,
          "visibility": "pub",
          "signature": "fn with_invariant(mut self, inv: impl Invariant + 'static)",
          "doc": "Add an invariant to check"
        },
        {
          "name": "with_standard_invariants",
          "kind": "function",
          "line": 1128,
          "visibility": "pub",
          "signature": "fn with_standard_invariants(mut self)",
          "doc": "Add all standard Kelpie invariants"
        },
        {
          "name": "with_cluster_invariants",
          "kind": "function",
          "line": 1134,
          "visibility": "pub",
          "signature": "fn with_cluster_invariants(self)",
          "doc": "Add cluster membership invariants"
        },
        {
          "name": "with_linearizability_invariants",
          "kind": "function",
          "line": 1139,
          "visibility": "pub",
          "signature": "fn with_linearizability_invariants(self)",
          "doc": "Add linearizability invariants"
        },
        {
          "name": "with_lease_invariants",
          "kind": "function",
          "line": 1144,
          "visibility": "pub",
          "signature": "fn with_lease_invariants(self)",
          "doc": "Add lease safety invariants"
        },
        {
          "name": "check_only_at_end",
          "kind": "function",
          "line": 1150,
          "visibility": "pub",
          "signature": "fn check_only_at_end(mut self)",
          "doc": "Disable checking after each step (only check at end)"
        },
        {
          "name": "check_state",
          "kind": "function",
          "line": 1156,
          "visibility": "pub",
          "signature": "fn check_state(&self, state: &SystemState)",
          "doc": "Check invariants against the current state"
        },
        {
          "name": "record_snapshot",
          "kind": "function",
          "line": 1161,
          "visibility": "pub",
          "signature": "fn record_snapshot(&mut self, state: SystemState)",
          "doc": "Record a state snapshot for debugging"
        },
        {
          "name": "snapshots",
          "kind": "function",
          "line": 1166,
          "visibility": "pub",
          "signature": "fn snapshots(&self)",
          "doc": "Get all recorded state snapshots"
        },
        {
          "name": "checker",
          "kind": "function",
          "line": 1171,
          "visibility": "pub",
          "signature": "fn checker(&self)",
          "doc": "Get the invariant checker"
        },
        {
          "name": "checks_each_step",
          "kind": "function",
          "line": 1176,
          "visibility": "pub",
          "signature": "fn checks_each_step(&self)",
          "doc": "Should check after each step?"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1186,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_single_activation_passes",
          "kind": "function",
          "line": 1190,
          "visibility": "private",
          "signature": "fn test_single_activation_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_single_activation_fails",
          "kind": "function",
          "line": 1200,
          "visibility": "private",
          "signature": "fn test_single_activation_fails()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_consistent_holder_passes",
          "kind": "function",
          "line": 1214,
          "visibility": "private",
          "signature": "fn test_consistent_holder_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_consistent_holder_fails",
          "kind": "function",
          "line": 1224,
          "visibility": "private",
          "signature": "fn test_consistent_holder_fails()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_placement_consistency_passes",
          "kind": "function",
          "line": 1237,
          "visibility": "private",
          "signature": "fn test_placement_consistency_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_placement_consistency_fails",
          "kind": "function",
          "line": 1247,
          "visibility": "private",
          "signature": "fn test_placement_consistency_fails()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_uniqueness_passes",
          "kind": "function",
          "line": 1261,
          "visibility": "private",
          "signature": "fn test_lease_uniqueness_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_lease_uniqueness_fails",
          "kind": "function",
          "line": 1272,
          "visibility": "private",
          "signature": "fn test_lease_uniqueness_fails()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_durability_passes",
          "kind": "function",
          "line": 1287,
          "visibility": "private",
          "signature": "fn test_durability_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_durability_fails",
          "kind": "function",
          "line": 1303,
          "visibility": "private",
          "signature": "fn test_durability_fails()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_atomic_visibility_pending_ok",
          "kind": "function",
          "line": 1321,
          "visibility": "private",
          "signature": "fn test_atomic_visibility_pending_ok()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_invariant_checker_verify_all",
          "kind": "function",
          "line": 1336,
          "visibility": "private",
          "signature": "fn test_invariant_checker_verify_all()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_invariant_checker_collect_all",
          "kind": "function",
          "line": 1350,
          "visibility": "private",
          "signature": "fn test_invariant_checker_collect_all()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_standard_invariants",
          "kind": "function",
          "line": 1370,
          "visibility": "private",
          "signature": "fn test_standard_invariants()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_empty_state_passes_all",
          "kind": "function",
          "line": 1384,
          "visibility": "private",
          "signature": "fn test_empty_state_passes_all()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_no_split_brain_passes",
          "kind": "function",
          "line": 1397,
          "visibility": "private",
          "signature": "fn test_no_split_brain_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_no_split_brain_fails",
          "kind": "function",
          "line": 1412,
          "visibility": "private",
          "signature": "fn test_no_split_brain_fails()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_no_split_brain_minority_primary_ok",
          "kind": "function",
          "line": 1427,
          "visibility": "private",
          "signature": "fn test_no_split_brain_minority_primary_ok()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fencing_token_monotonic_passes",
          "kind": "function",
          "line": 1444,
          "visibility": "private",
          "signature": "fn test_fencing_token_monotonic_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fencing_token_monotonic_fails_negative",
          "kind": "function",
          "line": 1455,
          "visibility": "private",
          "signature": "fn test_fencing_token_monotonic_fails_negative()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_fencing_token_monotonic_fails_decrease",
          "kind": "function",
          "line": 1467,
          "visibility": "private",
          "signature": "fn test_fencing_token_monotonic_fails_decrease()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_read_your_writes_passes",
          "kind": "function",
          "line": 1484,
          "visibility": "private",
          "signature": "fn test_read_your_writes_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_read_your_writes_fails",
          "kind": "function",
          "line": 1501,
          "visibility": "private",
          "signature": "fn test_read_your_writes_fails()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_read_your_writes_committed_txn_ignored",
          "kind": "function",
          "line": 1521,
          "visibility": "private",
          "signature": "fn test_read_your_writes_committed_txn_ignored()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_consistency_passes",
          "kind": "function",
          "line": 1539,
          "visibility": "private",
          "signature": "fn test_snapshot_consistency_passes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_consistency_fails_missing_key",
          "kind": "function",
          "line": 1559,
          "visibility": "private",
          "signature": "fn test_snapshot_consistency_fails_missing_key()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_consistency_fails_wrong_value",
          "kind": "function",
          "line": 1583,
          "visibility": "private",
          "signature": "fn test_snapshot_consistency_fails_wrong_value()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_not_restored_ignored",
          "kind": "function",
          "line": 1603,
          "visibility": "private",
          "signature": "fn test_snapshot_not_restored_ignored()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_invariant_checking_simulation_basic",
          "kind": "function",
          "line": 1620,
          "visibility": "private",
          "signature": "fn test_invariant_checking_simulation_basic()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_invariant_checking_simulation_with_cluster",
          "kind": "function",
          "line": 1634,
          "visibility": "private",
          "signature": "fn test_invariant_checking_simulation_with_cluster()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_invariant_checking_simulation_with_lease",
          "kind": "function",
          "line": 1641,
          "visibility": "private",
          "signature": "fn test_invariant_checking_simulation_with_lease()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::collections::HashSet"
        },
        {
          "path": "std::fmt"
        },
        {
          "path": "thiserror::Error"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/agent.rs",
      "symbols": [
        {
          "name": "SimAgentEnv",
          "kind": "struct",
          "line": 18,
          "visibility": "pub",
          "doc": "Simulated agent environment for high-level DST tests\n\nProvides a convenient interface for testing agent-level functionality\nwithout requiring full server infrastructure."
        },
        {
          "name": "AgentTestState",
          "kind": "struct",
          "line": 35,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "BlockTestState",
          "kind": "struct",
          "line": 47,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "AgentTestConfig",
          "kind": "struct",
          "line": 54,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for AgentTestConfig",
          "kind": "impl",
          "line": 63,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 64,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "SimAgentEnv",
          "kind": "impl",
          "line": 85,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 87,
          "visibility": "pub",
          "signature": "fn new(\n        storage: SimStorage,\n        llm: Arc<SimLlmClient>,\n        clock: Arc<SimClock>,\n        faults: Arc<FaultInjector>,\n        rng: Arc<DeterministicRng>,\n    )",
          "doc": "Create a new simulated agent environment"
        },
        {
          "name": "create_agent",
          "kind": "function",
          "line": 108,
          "visibility": "pub",
          "signature": "fn create_agent(&mut self, config: AgentTestConfig)",
          "doc": "Create a test agent (stores in cache, returns ID)\n\nThis is a placeholder for Phase 3 when AgentActor is implemented.\nFor now, it just stores the config in memory for test assertions."
        },
        {
          "name": "send_message",
          "kind": "function",
          "line": 132,
          "visibility": "pub",
          "signature": "async fn send_message(\n        &self,\n        agent_id: &str,\n        message: &str,\n    )",
          "doc": "Send a message to an agent and get response\n\nThis is a placeholder for Phase 3 when AgentActor is implemented.\nFor now, it directly calls the LLM client.",
          "is_async": true
        },
        {
          "name": "get_agent",
          "kind": "function",
          "line": 185,
          "visibility": "pub",
          "signature": "fn get_agent(&self, agent_id: &str)",
          "doc": "Get agent state for test assertions"
        },
        {
          "name": "update_agent",
          "kind": "function",
          "line": 195,
          "visibility": "pub",
          "signature": "fn update_agent(&mut self, agent_id: &str, state: AgentTestState)",
          "doc": "Update agent state (for testing modifications)"
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 206,
          "visibility": "pub",
          "signature": "fn delete_agent(&mut self, agent_id: &str)",
          "doc": "Delete agent"
        },
        {
          "name": "advance_time_ms",
          "kind": "function",
          "line": 216,
          "visibility": "pub",
          "signature": "fn advance_time_ms(&self, ms: u64)",
          "doc": "Advance simulated time"
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 221,
          "visibility": "pub",
          "signature": "fn now_ms(&self)",
          "doc": "Get current simulated time"
        },
        {
          "name": "fork_rng",
          "kind": "function",
          "line": 226,
          "visibility": "pub",
          "signature": "fn fork_rng(&self)",
          "doc": "Fork RNG for independent stream"
        },
        {
          "name": "list_agents",
          "kind": "function",
          "line": 231,
          "visibility": "pub",
          "signature": "fn list_agents(&self)",
          "doc": "Get list of all agent IDs (for testing)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 237,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_test_env",
          "kind": "function",
          "line": 241,
          "visibility": "private",
          "signature": "fn create_test_env()"
        },
        {
          "name": "test_sim_agent_env_create_agent",
          "kind": "function",
          "line": 252,
          "visibility": "private",
          "signature": "fn test_sim_agent_env_create_agent()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sim_agent_env_send_message",
          "kind": "function",
          "line": 266,
          "visibility": "private",
          "signature": "async fn test_sim_agent_env_send_message()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_agent_env_get_agent",
          "kind": "function",
          "line": 279,
          "visibility": "private",
          "signature": "fn test_sim_agent_env_get_agent()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sim_agent_env_update_agent",
          "kind": "function",
          "line": 296,
          "visibility": "private",
          "signature": "fn test_sim_agent_env_update_agent()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sim_agent_env_delete_agent",
          "kind": "function",
          "line": 312,
          "visibility": "private",
          "signature": "fn test_sim_agent_env_delete_agent()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sim_agent_env_list_agents",
          "kind": "function",
          "line": 325,
          "visibility": "private",
          "signature": "fn test_sim_agent_env_list_agents()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sim_agent_env_time_advancement",
          "kind": "function",
          "line": 345,
          "visibility": "private",
          "signature": "fn test_sim_agent_env_time_advancement()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sim_agent_env_determinism",
          "kind": "function",
          "line": 356,
          "visibility": "private",
          "signature": "fn test_sim_agent_env_determinism()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::clock::SimClock"
        },
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::llm::SimChatMessage"
        },
        {
          "path": "crate::llm::SimCompletionResponse"
        },
        {
          "path": "crate::llm::SimLlmClient"
        },
        {
          "path": "crate::llm::SimToolDefinition"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "crate::storage::SimStorage"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultInjectorBuilder"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/storage.rs",
      "symbols": [
        {
          "name": "SimStorage",
          "kind": "struct",
          "line": 23,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimStorage",
          "kind": "impl",
          "line": 39,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 41,
          "visibility": "pub",
          "signature": "fn new(rng: DeterministicRng, fault_injector: Arc<FaultInjector>)",
          "doc": "Create new simulated storage with OCC support"
        },
        {
          "name": "with_size_limit",
          "kind": "function",
          "line": 53,
          "visibility": "pub",
          "signature": "fn with_size_limit(mut self, limit_bytes: usize)",
          "doc": "Set a storage size limit"
        },
        {
          "name": "get_version",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "async fn get_version(&self, key: &[u8])",
          "doc": "Get the current version of a key (for OCC conflict detection)\n\nReturns the version number, or 0 if the key doesn't exist yet.",
          "is_async": true
        },
        {
          "name": "read",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "async fn read(&self, key: &[u8])",
          "doc": "Read a value from storage",
          "is_async": true
        },
        {
          "name": "write",
          "kind": "function",
          "line": 121,
          "visibility": "pub",
          "signature": "async fn write(&self, key: &[u8], value: &[u8])",
          "doc": "Write a value to storage",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 258,
          "visibility": "pub",
          "signature": "async fn delete(&self, key: &[u8])",
          "doc": "Delete a value from storage",
          "is_async": true
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 280,
          "visibility": "pub",
          "signature": "async fn exists(&self, key: &[u8])",
          "doc": "Check if a key exists",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 286,
          "visibility": "pub",
          "signature": "async fn list_keys(&self, prefix: &[u8])",
          "doc": "List all keys with a given prefix",
          "is_async": true
        },
        {
          "name": "size_bytes",
          "kind": "function",
          "line": 296,
          "visibility": "pub",
          "signature": "fn size_bytes(&self)",
          "doc": "Get current storage size in bytes"
        },
        {
          "name": "clear",
          "kind": "function",
          "line": 302,
          "visibility": "pub",
          "signature": "async fn clear(&self)",
          "doc": "Clear all data",
          "is_async": true
        },
        {
          "name": "handle_read_fault",
          "kind": "function",
          "line": 316,
          "visibility": "private",
          "signature": "fn handle_read_fault(&self, fault: FaultType, key: &[u8])",
          "doc": "Handle read faults\n\nTigerStyle: Only apply faults that make sense for read operations.\nCrash faults (CrashBeforeWrite, CrashAfterWrite) are write-specific\nand should be ignored during reads."
        },
        {
          "name": "handle_write_fault",
          "kind": "function",
          "line": 361,
          "visibility": "private",
          "signature": "fn handle_write_fault(&self, fault: FaultType, key: &[u8])",
          "doc": "Handle write faults"
        },
        {
          "name": "scoped_key",
          "kind": "function",
          "line": 384,
          "visibility": "private",
          "signature": "fn scoped_key(actor_id: &ActorId, key: &[u8])",
          "doc": "Create a scoped key by prefixing with actor_id"
        },
        {
          "name": "ActorKV for SimStorage",
          "kind": "impl",
          "line": 399,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 400,
          "visibility": "private",
          "signature": "async fn get(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 405,
          "visibility": "private",
          "signature": "async fn set(&self, actor_id: &ActorId, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 410,
          "visibility": "private",
          "signature": "async fn delete(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 415,
          "visibility": "private",
          "signature": "async fn exists(&self, actor_id: &ActorId, key: &[u8])",
          "is_async": true
        },
        {
          "name": "list_keys",
          "kind": "function",
          "line": 420,
          "visibility": "private",
          "signature": "async fn list_keys(&self, actor_id: &ActorId, prefix: &[u8])",
          "is_async": true
        },
        {
          "name": "scan_prefix",
          "kind": "function",
          "line": 434,
          "visibility": "private",
          "signature": "async fn scan_prefix(\n        &self,\n        actor_id: &ActorId,\n        prefix: &[u8],\n    )",
          "is_async": true
        },
        {
          "name": "begin_transaction",
          "kind": "function",
          "line": 457,
          "visibility": "private",
          "signature": "async fn begin_transaction(&self, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "SimTransaction",
          "kind": "struct",
          "line": 484,
          "visibility": "pub",
          "doc": "Transaction for simulated storage with fault injection\n\nBuffers writes until commit. Supports CrashDuringTransaction fault injection\nto test application behavior when transactions fail mid-commit.\n\nImplements OCC (Optimistic Concurrency Control):\n- Tracks read-set with versions at read time\n- On commit: validates read-set (checks if any read key changed)\n- If conflict detected: aborts with TransactionConflict error\n- If no conflict: applies writes atomically and increments versions\n\nTigerStyle: Explicit state, fault injection at commit boundary."
        },
        {
          "name": "SimTransaction",
          "kind": "impl",
          "line": 502,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 503,
          "visibility": "private",
          "signature": "fn new(\n        actor_id: ActorId,\n        data: Arc<RwLock<HashMap<Vec<u8>, Vec<u8>>>>,\n        versions: Arc<RwLock<HashMap<Vec<u8>, u64>>>,\n        fault_injector: Arc<FaultInjector>,\n    )"
        },
        {
          "name": "scoped_key",
          "kind": "function",
          "line": 521,
          "visibility": "private",
          "signature": "fn scoped_key(&self, key: &[u8])",
          "doc": "Create a scoped key by prefixing with actor_id"
        },
        {
          "name": "ActorTransaction for SimTransaction",
          "kind": "impl",
          "line": 532,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "get",
          "kind": "function",
          "line": 533,
          "visibility": "private",
          "signature": "async fn get(&self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "set",
          "kind": "function",
          "line": 568,
          "visibility": "private",
          "signature": "async fn set(&mut self, key: &[u8], value: &[u8])",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 578,
          "visibility": "private",
          "signature": "async fn delete(&mut self, key: &[u8])",
          "is_async": true
        },
        {
          "name": "commit",
          "kind": "function",
          "line": 588,
          "visibility": "private",
          "signature": "async fn commit(mut self: Box<Self>)",
          "is_async": true
        },
        {
          "name": "abort",
          "kind": "function",
          "line": 674,
          "visibility": "private",
          "signature": "async fn abort(mut self: Box<Self>)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 686,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sim_storage_basic",
          "kind": "function",
          "line": 691,
          "visibility": "private",
          "signature": "async fn test_sim_storage_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_with_faults",
          "kind": "function",
          "line": 708,
          "visibility": "private",
          "signature": "async fn test_sim_storage_with_faults()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_size_limit",
          "kind": "function",
          "line": 723,
          "visibility": "private",
          "signature": "async fn test_sim_storage_size_limit()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_list_keys",
          "kind": "function",
          "line": 739,
          "visibility": "private",
          "signature": "async fn test_sim_storage_list_keys()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_atomic_commit",
          "kind": "function",
          "line": 755,
          "visibility": "private",
          "signature": "async fn test_transaction_atomic_commit()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_abort_rollback",
          "kind": "function",
          "line": 789,
          "visibility": "private",
          "signature": "async fn test_transaction_abort_rollback()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_crash_during_transaction",
          "kind": "function",
          "line": 809,
          "visibility": "private",
          "signature": "async fn test_crash_during_transaction()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_crash_after_commit_preserves_data",
          "kind": "function",
          "line": 838,
          "visibility": "private",
          "signature": "async fn test_crash_after_commit_preserves_data()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_isolation",
          "kind": "function",
          "line": 868,
          "visibility": "private",
          "signature": "async fn test_transaction_isolation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_read_your_writes",
          "kind": "function",
          "line": 906,
          "visibility": "private",
          "signature": "async fn test_transaction_read_your_writes()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_transaction_determinism",
          "kind": "function",
          "line": 926,
          "visibility": "private",
          "signature": "async fn test_transaction_determinism()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "run_transaction_sequence",
          "kind": "function",
          "line": 966,
          "visibility": "private",
          "signature": "async fn run_transaction_sequence(storage: &SimStorage, actor_id: &ActorId)",
          "is_async": true
        },
        {
          "name": "test_storage_misdirected_write",
          "kind": "function",
          "line": 985,
          "visibility": "private",
          "signature": "async fn test_storage_misdirected_write()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_storage_partial_write_truncated",
          "kind": "function",
          "line": 1021,
          "visibility": "private",
          "signature": "async fn test_storage_partial_write_truncated()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_storage_partial_write_zero_bytes",
          "kind": "function",
          "line": 1047,
          "visibility": "private",
          "signature": "async fn test_storage_partial_write_zero_bytes()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_storage_fsync_fail",
          "kind": "function",
          "line": 1069,
          "visibility": "private",
          "signature": "async fn test_storage_fsync_fail()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_storage_unflushed_loss",
          "kind": "function",
          "line": 1099,
          "visibility": "private",
          "signature": "async fn test_storage_unflushed_loss()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_storage_semantics_faults_determinism",
          "kind": "function",
          "line": 1121,
          "visibility": "private",
          "signature": "async fn test_storage_semantics_faults_determinism()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "run_storage_sequence",
          "kind": "function",
          "line": 1164,
          "visibility": "private",
          "signature": "async fn run_storage_sequence(storage: &SimStorage)",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::ActorId"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "kelpie_storage::ActorKV"
        },
        {
          "path": "kelpie_storage::ActorTransaction"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::sync::Mutex"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultConfig"
        },
        {
          "path": "crate::fault::FaultInjectorBuilder"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/http.rs",
      "symbols": [
        {
          "name": "RECORDED_REQUESTS_MAX",
          "kind": "const",
          "line": 25,
          "visibility": "private",
          "signature": "const RECORDED_REQUESTS_MAX: usize",
          "doc": "Maximum recorded requests (to prevent memory issues)"
        },
        {
          "name": "SimHttpClient",
          "kind": "struct",
          "line": 38,
          "visibility": "pub",
          "doc": "Simulated HTTP client for deterministic testing\n\nFeatures:\n- Fault injection at request time\n- Configurable mock responses by URL pattern\n- Request recording for verification\n- Deterministic behavior with seeded RNG"
        },
        {
          "name": "MockResponse",
          "kind": "struct",
          "line": 56,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "MockResponse",
          "kind": "impl",
          "line": 65,
          "visibility": "private"
        },
        {
          "name": "json",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "fn json(body: impl Into<String>)",
          "doc": "Create a successful JSON response"
        },
        {
          "name": "text",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "fn text(body: impl Into<String>)",
          "doc": "Create a successful text response"
        },
        {
          "name": "error",
          "kind": "function",
          "line": 87,
          "visibility": "pub",
          "signature": "fn error(status: u16, body: impl Into<String>)",
          "doc": "Create an error response"
        },
        {
          "name": "not_found",
          "kind": "function",
          "line": 96,
          "visibility": "pub",
          "signature": "fn not_found()",
          "doc": "Create a 404 Not Found response"
        },
        {
          "name": "server_error",
          "kind": "function",
          "line": 101,
          "visibility": "pub",
          "signature": "fn server_error()",
          "doc": "Create a 500 Internal Server Error response"
        },
        {
          "name": "Default for MockResponse",
          "kind": "impl",
          "line": 106,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 107,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "RecordedRequest",
          "kind": "struct",
          "line": 114,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimHttpClient",
          "kind": "impl",
          "line": 131,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 133,
          "visibility": "pub",
          "signature": "fn new(rng: DeterministicRng, faults: Arc<FaultInjector>)",
          "doc": "Create a new simulated HTTP client"
        },
        {
          "name": "mock_url",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "async fn mock_url(&self, url_pattern: impl Into<String>, response: MockResponse)",
          "doc": "Set a mock response for a URL pattern (prefix match)",
          "is_async": true
        },
        {
          "name": "set_default_response",
          "kind": "function",
          "line": 151,
          "visibility": "pub",
          "signature": "async fn set_default_response(&self, response: MockResponse)",
          "doc": "Set the default response for unmatched URLs",
          "is_async": true
        },
        {
          "name": "get_requests",
          "kind": "function",
          "line": 156,
          "visibility": "pub",
          "signature": "async fn get_requests(&self)",
          "doc": "Get all recorded requests",
          "is_async": true
        },
        {
          "name": "request_count",
          "kind": "function",
          "line": 161,
          "visibility": "pub",
          "signature": "fn request_count(&self)",
          "doc": "Get request count"
        },
        {
          "name": "clear_requests",
          "kind": "function",
          "line": 166,
          "visibility": "pub",
          "signature": "async fn clear_requests(&self)",
          "doc": "Clear recorded requests",
          "is_async": true
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 171,
          "visibility": "private",
          "signature": "fn check_fault(&self, operation: &str)",
          "doc": "Check for fault injection"
        },
        {
          "name": "find_mock_response",
          "kind": "function",
          "line": 176,
          "visibility": "private",
          "signature": "async fn find_mock_response(&self, url: &str)",
          "doc": "Find mock response for URL",
          "is_async": true
        },
        {
          "name": "record_request",
          "kind": "function",
          "line": 196,
          "visibility": "private",
          "signature": "async fn record_request(\n        &self,\n        request: &HttpRequest,\n        fault: Option<&str>,\n        response_status: Option<u16>,\n    )",
          "doc": "Record a request",
          "is_async": true
        },
        {
          "name": "HttpClient for SimHttpClient",
          "kind": "impl",
          "line": 224,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 225,
          "visibility": "private",
          "signature": "async fn execute(&self, request: HttpRequest)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 279,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_no_fault_injector",
          "kind": "function",
          "line": 283,
          "visibility": "private",
          "signature": "fn create_no_fault_injector()"
        },
        {
          "name": "create_http_fault_injector",
          "kind": "function",
          "line": 288,
          "visibility": "private",
          "signature": "fn create_http_fault_injector(probability: f64)"
        },
        {
          "name": "test_sim_http_basic_request",
          "kind": "function",
          "line": 298,
          "visibility": "private",
          "signature": "async fn test_sim_http_basic_request()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_http_mock_response",
          "kind": "function",
          "line": 309,
          "visibility": "private",
          "signature": "async fn test_sim_http_mock_response()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_http_recorded_requests",
          "kind": "function",
          "line": 331,
          "visibility": "private",
          "signature": "async fn test_sim_http_recorded_requests()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_http_with_connection_fault",
          "kind": "function",
          "line": 346,
          "visibility": "private",
          "signature": "async fn test_sim_http_with_connection_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_http_with_timeout_fault",
          "kind": "function",
          "line": 362,
          "visibility": "private",
          "signature": "async fn test_sim_http_with_timeout_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_http_with_server_error_fault",
          "kind": "function",
          "line": 384,
          "visibility": "private",
          "signature": "async fn test_sim_http_with_server_error_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_http_determinism",
          "kind": "function",
          "line": 403,
          "visibility": "private",
          "signature": "async fn test_sim_http_determinism()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_http_rate_limited",
          "kind": "function",
          "line": 424,
          "visibility": "private",
          "signature": "async fn test_sim_http_rate_limited()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::http::HttpClient"
        },
        {
          "path": "kelpie_core::http::HttpError"
        },
        {
          "path": "kelpie_core::http::HttpRequest"
        },
        {
          "path": "kelpie_core::http::HttpResponse"
        },
        {
          "path": "kelpie_core::http::HttpResult"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultConfig"
        },
        {
          "path": "crate::fault::FaultInjectorBuilder"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/network.rs",
      "symbols": [
        {
          "name": "NetworkMessage",
          "kind": "struct",
          "line": 15,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimNetwork",
          "kind": "struct",
          "line": 37,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "SimNetwork",
          "kind": "impl",
          "line": 62,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 64,
          "visibility": "pub",
          "signature": "fn new(clock: SimClock, rng: DeterministicRng, fault_injector: Arc<FaultInjector>)",
          "doc": "Create a new simulated network"
        },
        {
          "name": "with_latency",
          "kind": "function",
          "line": 80,
          "visibility": "pub",
          "signature": "fn with_latency(mut self, base_ms: u64, jitter_ms: u64)",
          "doc": "Set base latency"
        },
        {
          "name": "with_max_connections",
          "kind": "function",
          "line": 87,
          "visibility": "pub",
          "signature": "fn with_max_connections(mut self, max: usize)",
          "doc": "Set maximum connections for connection exhaustion testing"
        },
        {
          "name": "send",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "async fn send(&self, from: &str, to: &str, payload: Bytes)",
          "doc": "Send a message from one node to another",
          "is_async": true
        },
        {
          "name": "corrupt_payload",
          "kind": "function",
          "line": 214,
          "visibility": "private",
          "signature": "fn corrupt_payload(&self, payload: Bytes, corruption_rate: f64)",
          "doc": "Corrupt payload bytes based on corruption rate"
        },
        {
          "name": "calculate_jitter",
          "kind": "function",
          "line": 230,
          "visibility": "private",
          "signature": "fn calculate_jitter(&self, mean_ms: u64, stddev_ms: u64)",
          "doc": "Calculate jitter using Box-Muller transform for approximate normal distribution"
        },
        {
          "name": "receive",
          "kind": "function",
          "line": 250,
          "visibility": "pub",
          "signature": "async fn receive(&self, node_id: &str)",
          "doc": "Receive messages for a node\n\nReturns all messages that have arrived (delivery time <= current time)",
          "is_async": true
        },
        {
          "name": "partition",
          "kind": "function",
          "line": 289,
          "visibility": "pub",
          "signature": "async fn partition(&self, node_a: &str, node_b: &str)",
          "doc": "Create a bidirectional network partition between two nodes\n\nMessages in BOTH directions are blocked (node_a -> node_b and node_b -> node_a).",
          "is_async": true
        },
        {
          "name": "partition_one_way",
          "kind": "function",
          "line": 312,
          "visibility": "pub",
          "signature": "async fn partition_one_way(&self, from: &str, to: &str)",
          "doc": "Create a one-way network partition\n\nMessages from `from` to `to` are blocked, but messages from `to` to `from` are allowed.\nThis models asymmetric network failures like:\n- Replication lag (writes go through, acks don't)\n- One-way network failures\n- Partial connectivity",
          "is_async": true
        },
        {
          "name": "heal",
          "kind": "function",
          "line": 327,
          "visibility": "pub",
          "signature": "async fn heal(&self, node_a: &str, node_b: &str)",
          "doc": "Heal a bidirectional network partition between two nodes",
          "is_async": true
        },
        {
          "name": "heal_one_way",
          "kind": "function",
          "line": 346,
          "visibility": "pub",
          "signature": "async fn heal_one_way(&self, from: &str, to: &str)",
          "doc": "Heal a one-way network partition\n\nOnly removes the specific directional partition from `from` to `to`.",
          "is_async": true
        },
        {
          "name": "heal_all",
          "kind": "function",
          "line": 353,
          "visibility": "pub",
          "signature": "async fn heal_all(&self)",
          "doc": "Heal all network partitions (both bidirectional and one-way)",
          "is_async": true
        },
        {
          "name": "partition_group",
          "kind": "function",
          "line": 369,
          "visibility": "pub",
          "signature": "async fn partition_group(&self, group_a: &[&str], group_b: &[&str])",
          "doc": "Partition two groups of nodes completely\n\nAll nodes in group_a become isolated from all nodes in group_b.\nThis creates bidirectional partitions between every pair.",
          "is_async": true
        },
        {
          "name": "is_one_way_partitioned",
          "kind": "function",
          "line": 385,
          "visibility": "pub",
          "signature": "async fn is_one_way_partitioned(&self, from: &str, to: &str)",
          "doc": "Check if there's a one-way partition from one node to another\n\nThis checks ONLY one-way partitions, not bidirectional ones.",
          "is_async": true
        },
        {
          "name": "is_partitioned",
          "kind": "function",
          "line": 395,
          "visibility": "pub",
          "signature": "async fn is_partitioned(&self, from: &str, to: &str)",
          "doc": "Check if messages from `from` to `to` are blocked by any partition\n\nThis checks both bidirectional and one-way partitions.\nNote: This is directional - `is_partitioned(a, b)` may differ from `is_partitioned(b, a)`\nwhen one-way partitions are in effect.",
          "is_async": true
        },
        {
          "name": "pending_count",
          "kind": "function",
          "line": 421,
          "visibility": "pub",
          "signature": "async fn pending_count(&self, node_id: &str)",
          "doc": "Get count of pending messages for a node",
          "is_async": true
        },
        {
          "name": "clear",
          "kind": "function",
          "line": 427,
          "visibility": "pub",
          "signature": "async fn clear(&self)",
          "doc": "Clear all pending messages",
          "is_async": true
        },
        {
          "name": "calculate_latency",
          "kind": "function",
          "line": 433,
          "visibility": "private",
          "signature": "fn calculate_latency(&self)",
          "doc": "Calculate latency with jitter"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 444,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_test_network",
          "kind": "function",
          "line": 448,
          "visibility": "private",
          "signature": "fn create_test_network(clock: SimClock)"
        },
        {
          "name": "test_sim_network_basic",
          "kind": "function",
          "line": 455,
          "visibility": "private",
          "signature": "async fn test_sim_network_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_bidirectional_partition",
          "kind": "function",
          "line": 470,
          "visibility": "private",
          "signature": "async fn test_sim_network_bidirectional_partition()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_one_way_partition_basic",
          "kind": "function",
          "line": 496,
          "visibility": "private",
          "signature": "async fn test_sim_network_one_way_partition_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_one_way_partition_heal",
          "kind": "function",
          "line": 518,
          "visibility": "private",
          "signature": "async fn test_sim_network_one_way_partition_heal()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_one_way_vs_bidirectional_independence",
          "kind": "function",
          "line": 536,
          "visibility": "private",
          "signature": "async fn test_sim_network_one_way_vs_bidirectional_independence()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_is_partitioned_directional",
          "kind": "function",
          "line": 579,
          "visibility": "private",
          "signature": "async fn test_sim_network_is_partitioned_directional()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_asymmetric_leader_isolation_scenario",
          "kind": "function",
          "line": 612,
          "visibility": "private",
          "signature": "async fn test_sim_network_asymmetric_leader_isolation_scenario()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_asymmetric_replication_lag_scenario",
          "kind": "function",
          "line": 657,
          "visibility": "private",
          "signature": "async fn test_sim_network_asymmetric_replication_lag_scenario()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_latency",
          "kind": "function",
          "line": 682,
          "visibility": "private",
          "signature": "async fn test_sim_network_latency()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_bidirectional_partition_order_independence",
          "kind": "function",
          "line": 704,
          "visibility": "private",
          "signature": "async fn test_sim_network_bidirectional_partition_order_independence()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_partition_group",
          "kind": "function",
          "line": 724,
          "visibility": "private",
          "signature": "async fn test_sim_network_partition_group()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_is_one_way_partitioned",
          "kind": "function",
          "line": 753,
          "visibility": "private",
          "signature": "async fn test_sim_network_is_one_way_partitioned()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_packet_corruption",
          "kind": "function",
          "line": 774,
          "visibility": "private",
          "signature": "async fn test_sim_network_packet_corruption()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_packet_corruption_partial",
          "kind": "function",
          "line": 810,
          "visibility": "private",
          "signature": "async fn test_sim_network_packet_corruption_partial()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_jitter",
          "kind": "function",
          "line": 844,
          "visibility": "private",
          "signature": "async fn test_sim_network_jitter()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_connection_exhaustion_limit",
          "kind": "function",
          "line": 897,
          "visibility": "private",
          "signature": "async fn test_sim_network_connection_exhaustion_limit()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_connection_exhaustion_fault",
          "kind": "function",
          "line": 920,
          "visibility": "private",
          "signature": "async fn test_sim_network_connection_exhaustion_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_network_jitter_determinism",
          "kind": "function",
          "line": 943,
          "visibility": "private",
          "signature": "async fn test_sim_network_jitter_determinism()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::clock::SimClock"
        },
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::collections::HashSet"
        },
        {
          "path": "std::collections::VecDeque"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultInjectorBuilder"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-dst/src/sandbox.rs",
      "symbols": [
        {
          "name": "SANDBOX_ID_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 25,
          "visibility": "private",
          "signature": "const SANDBOX_ID_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum sandbox ID length in bytes"
        },
        {
          "name": "FILE_PATH_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 28,
          "visibility": "private",
          "signature": "const FILE_PATH_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum file path length in bytes"
        },
        {
          "name": "SNAPSHOT_SIZE_BYTES_DEFAULT_MAX",
          "kind": "const",
          "line": 31,
          "visibility": "private",
          "signature": "const SNAPSHOT_SIZE_BYTES_DEFAULT_MAX: u64",
          "doc": "Maximum snapshot size in bytes (for fault injection)"
        },
        {
          "name": "SimSandbox",
          "kind": "struct",
          "line": 38,
          "visibility": "pub",
          "doc": "Simulated sandbox with fault injection\n\nThis sandbox implementation is designed for deterministic simulation testing.\nIt injects faults based on the provided FaultInjector and uses deterministic\nRNG for all random behavior."
        },
        {
          "name": "SimSandbox",
          "kind": "impl",
          "line": 63,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 71,
          "visibility": "pub",
          "signature": "fn new(\n        id: impl Into<String>,\n        config: SandboxConfig,\n        rng: DeterministicRng,\n        faults: Arc<FaultInjector>,\n    )",
          "doc": "Create a new simulated sandbox\n\n# Arguments\n* `id` - Unique sandbox identifier\n* `config` - Sandbox configuration\n* `rng` - Deterministic RNG for this sandbox\n* `faults` - Shared fault injector"
        },
        {
          "name": "with_max_snapshot_bytes",
          "kind": "function",
          "line": 105,
          "visibility": "pub",
          "signature": "fn with_max_snapshot_bytes(mut self, max_bytes: u64)",
          "doc": "Set the maximum snapshot size (for testing SnapshotTooLarge fault)"
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 111,
          "visibility": "private",
          "signature": "fn check_fault(&self, operation: &str)",
          "doc": "Check for fault injection and return error if fault should be injected"
        },
        {
          "name": "fault_to_error",
          "kind": "function",
          "line": 117,
          "visibility": "private",
          "signature": "fn fault_to_error(&self, fault: FaultType)",
          "doc": "Convert a FaultType to a SandboxError"
        },
        {
          "name": "write_file",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "async fn write_file(&self, path: impl Into<String>, content: impl Into<Bytes>)",
          "doc": "Write a file to the simulated filesystem",
          "is_async": true
        },
        {
          "name": "read_file",
          "kind": "function",
          "line": 180,
          "visibility": "pub",
          "signature": "async fn read_file(&self, path: &str)",
          "doc": "Read a file from the simulated filesystem",
          "is_async": true
        },
        {
          "name": "set_env",
          "kind": "function",
          "line": 186,
          "visibility": "pub",
          "signature": "async fn set_env(&self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Set an environment variable",
          "is_async": true
        },
        {
          "name": "get_env",
          "kind": "function",
          "line": 192,
          "visibility": "pub",
          "signature": "async fn get_env(&self, key: &str)",
          "doc": "Get an environment variable",
          "is_async": true
        },
        {
          "name": "set_memory_used",
          "kind": "function",
          "line": 198,
          "visibility": "pub",
          "signature": "fn set_memory_used(&self, bytes: u64)",
          "doc": "Simulate memory usage"
        },
        {
          "name": "operation_count",
          "kind": "function",
          "line": 203,
          "visibility": "pub",
          "signature": "fn operation_count(&self)",
          "doc": "Get the operation count (for debugging)"
        },
        {
          "name": "default_handler",
          "kind": "function",
          "line": 208,
          "visibility": "private",
          "signature": "fn default_handler(command: &str, args: &[&str], _options: &ExecOptions)",
          "doc": "Default command handler that echoes arguments"
        },
        {
          "name": "Sandbox for SimSandbox",
          "kind": "impl",
          "line": 230,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 231,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 235,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 239,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 243,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 273,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 298,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 321,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 344,
          "visibility": "private",
          "signature": "async fn exec(\n        &self,\n        command: &str,\n        args: &[&str],\n        options: ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 381,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 444,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &Snapshot)",
          "is_async": true
        },
        {
          "name": "destroy",
          "kind": "function",
          "line": 485,
          "visibility": "private",
          "signature": "async fn destroy(&mut self)",
          "is_async": true
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 497,
          "visibility": "private",
          "signature": "async fn health_check(&self)",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 502,
          "visibility": "private",
          "signature": "async fn stats(&self)",
          "is_async": true
        },
        {
          "name": "SimSandboxFactory",
          "kind": "struct",
          "line": 519,
          "visibility": "pub",
          "doc": "Factory for creating SimSandbox instances"
        },
        {
          "name": "Clone for SimSandboxFactory",
          "kind": "impl",
          "line": 530,
          "visibility": "private"
        },
        {
          "name": "clone",
          "kind": "function",
          "line": 531,
          "visibility": "private",
          "signature": "fn clone(&self)"
        },
        {
          "name": "SimSandboxFactory",
          "kind": "impl",
          "line": 544,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 546,
          "visibility": "pub",
          "signature": "fn new(rng: DeterministicRng, faults: Arc<FaultInjector>)",
          "doc": "Create a new SimSandboxFactory"
        },
        {
          "name": "with_prefix",
          "kind": "function",
          "line": 556,
          "visibility": "pub",
          "signature": "fn with_prefix(mut self, prefix: impl Into<String>)",
          "doc": "Set the ID prefix"
        },
        {
          "name": "SandboxFactory for SimSandboxFactory",
          "kind": "impl",
          "line": 563,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "Sandbox",
          "kind": "type_alias",
          "line": 564,
          "visibility": "private"
        },
        {
          "name": "create",
          "kind": "function",
          "line": 566,
          "visibility": "private",
          "signature": "async fn create(&self, config: SandboxConfig)",
          "is_async": true
        },
        {
          "name": "create_from_snapshot",
          "kind": "function",
          "line": 581,
          "visibility": "private",
          "signature": "async fn create_from_snapshot(\n        &self,\n        config: SandboxConfig,\n        snapshot: &Snapshot,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 602,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_test_faults",
          "kind": "function",
          "line": 606,
          "visibility": "private",
          "signature": "fn create_test_faults(rng: DeterministicRng)"
        },
        {
          "name": "create_test_faults_with_sandbox_faults",
          "kind": "function",
          "line": 610,
          "visibility": "private",
          "signature": "fn create_test_faults_with_sandbox_faults(\n        rng: DeterministicRng,\n        probability: f64,\n    )"
        },
        {
          "name": "test_sim_sandbox_lifecycle",
          "kind": "function",
          "line": 622,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_lifecycle()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_exec",
          "kind": "function",
          "line": 644,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_exec()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_snapshot_restore",
          "kind": "function",
          "line": 661,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_snapshot_restore()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_with_boot_fault",
          "kind": "function",
          "line": 685,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_with_boot_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_with_snapshot_fault",
          "kind": "function",
          "line": 701,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_with_snapshot_fault()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_factory",
          "kind": "function",
          "line": 719,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_factory()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_sandbox_determinism",
          "kind": "function",
          "line": 741,
          "visibility": "private",
          "signature": "async fn test_sim_sandbox_determinism()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::fault::FaultInjector"
        },
        {
          "path": "crate::fault::FaultType"
        },
        {
          "path": "crate::rng::DeterministicRng"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_sandbox::ExecOptions"
        },
        {
          "path": "kelpie_sandbox::ExecOutput"
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "kelpie_sandbox::SandboxError"
        },
        {
          "path": "kelpie_sandbox::SandboxFactory"
        },
        {
          "path": "kelpie_sandbox::SandboxResult"
        },
        {
          "path": "kelpie_sandbox::SandboxState"
        },
        {
          "path": "kelpie_sandbox::SandboxStats"
        },
        {
          "path": "kelpie_sandbox::Snapshot"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::fault::FaultConfig"
        },
        {
          "path": "crate::fault::FaultInjectorBuilder"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/exec.rs",
      "symbols": [
        {
          "name": "ExitStatus",
          "kind": "struct",
          "line": 11,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ExitStatus",
          "kind": "impl",
          "line": 18,
          "visibility": "private"
        },
        {
          "name": "success",
          "kind": "function",
          "line": 20,
          "visibility": "pub",
          "signature": "fn success()",
          "doc": "Create a successful exit status"
        },
        {
          "name": "with_code",
          "kind": "function",
          "line": 28,
          "visibility": "pub",
          "signature": "fn with_code(code: i32)",
          "doc": "Create an exit status with a code"
        },
        {
          "name": "with_signal",
          "kind": "function",
          "line": 33,
          "visibility": "pub",
          "signature": "fn with_signal(signal: i32)",
          "doc": "Create an exit status for signal termination"
        },
        {
          "name": "is_success",
          "kind": "function",
          "line": 41,
          "visibility": "pub",
          "signature": "fn is_success(&self)",
          "doc": "Check if the command succeeded"
        },
        {
          "name": "is_signal",
          "kind": "function",
          "line": 46,
          "visibility": "pub",
          "signature": "fn is_signal(&self)",
          "doc": "Check if the command was killed by a signal"
        },
        {
          "name": "Default for ExitStatus",
          "kind": "impl",
          "line": 51,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 52,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ExecOptions",
          "kind": "struct",
          "line": 59,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ExecOptions",
          "kind": "impl",
          "line": 76,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create with default options"
        },
        {
          "name": "with_workdir",
          "kind": "function",
          "line": 83,
          "visibility": "pub",
          "signature": "fn with_workdir(mut self, workdir: impl Into<String>)",
          "doc": "Set working directory"
        },
        {
          "name": "with_env",
          "kind": "function",
          "line": 89,
          "visibility": "pub",
          "signature": "fn with_env(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Add environment variable"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 95,
          "visibility": "pub",
          "signature": "fn with_timeout(mut self, timeout: Duration)",
          "doc": "Set timeout"
        },
        {
          "name": "with_stdin",
          "kind": "function",
          "line": 101,
          "visibility": "pub",
          "signature": "fn with_stdin(mut self, stdin: impl Into<Bytes>)",
          "doc": "Set stdin input"
        },
        {
          "name": "with_max_output",
          "kind": "function",
          "line": 107,
          "visibility": "pub",
          "signature": "fn with_max_output(mut self, bytes: u64)",
          "doc": "Set max output size"
        },
        {
          "name": "no_stdout",
          "kind": "function",
          "line": 113,
          "visibility": "pub",
          "signature": "fn no_stdout(mut self)",
          "doc": "Disable stdout capture"
        },
        {
          "name": "no_stderr",
          "kind": "function",
          "line": 119,
          "visibility": "pub",
          "signature": "fn no_stderr(mut self)",
          "doc": "Disable stderr capture"
        },
        {
          "name": "Default for ExecOptions",
          "kind": "impl",
          "line": 125,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 126,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ExecOutput",
          "kind": "struct",
          "line": 141,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ExecOutput",
          "kind": "impl",
          "line": 156,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 158,
          "visibility": "pub",
          "signature": "fn new(status: ExitStatus, stdout: Bytes, stderr: Bytes, duration_ms: u64)",
          "doc": "Create a new exec output"
        },
        {
          "name": "success",
          "kind": "function",
          "line": 170,
          "visibility": "pub",
          "signature": "fn success(stdout: impl Into<Bytes>)",
          "doc": "Create a successful output"
        },
        {
          "name": "failure",
          "kind": "function",
          "line": 175,
          "visibility": "pub",
          "signature": "fn failure(code: i32, stderr: impl Into<Bytes>)",
          "doc": "Create a failed output"
        },
        {
          "name": "is_success",
          "kind": "function",
          "line": 180,
          "visibility": "pub",
          "signature": "fn is_success(&self)",
          "doc": "Check if execution was successful"
        },
        {
          "name": "stdout_string",
          "kind": "function",
          "line": 185,
          "visibility": "pub",
          "signature": "fn stdout_string(&self)",
          "doc": "Get stdout as string (lossy UTF-8 conversion)"
        },
        {
          "name": "stderr_string",
          "kind": "function",
          "line": 190,
          "visibility": "pub",
          "signature": "fn stderr_string(&self)",
          "doc": "Get stderr as string (lossy UTF-8 conversion)"
        },
        {
          "name": "with_duration",
          "kind": "function",
          "line": 195,
          "visibility": "pub",
          "signature": "fn with_duration(mut self, duration_ms: u64)",
          "doc": "Set duration"
        },
        {
          "name": "Default for ExecOutput",
          "kind": "impl",
          "line": 201,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 202,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 208,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_exit_status_success",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "fn test_exit_status_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exit_status_with_code",
          "kind": "function",
          "line": 220,
          "visibility": "private",
          "signature": "fn test_exit_status_with_code()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exit_status_with_signal",
          "kind": "function",
          "line": 228,
          "visibility": "private",
          "signature": "fn test_exit_status_with_signal()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exec_options_builder",
          "kind": "function",
          "line": 237,
          "visibility": "private",
          "signature": "fn test_exec_options_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exec_output_success",
          "kind": "function",
          "line": 251,
          "visibility": "private",
          "signature": "fn test_exec_output_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exec_output_failure",
          "kind": "function",
          "line": 258,
          "visibility": "private",
          "signature": "fn test_exec_output_failure()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exec_output_string_conversion",
          "kind": "function",
          "line": 265,
          "visibility": "private",
          "signature": "fn test_exec_output_string_conversion()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/io.rs",
      "symbols": [
        {
          "name": "SandboxIO",
          "kind": "trait",
          "line": 66,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "SnapshotData",
          "kind": "struct",
          "line": 132,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "GenericSandbox",
          "kind": "struct",
          "line": 168,
          "visibility": "pub",
          "doc": "Generic sandbox implementation with pluggable I/O\n\nThis struct contains ALL the shared logic (state machine, validation,\nerror handling) that runs identically in production and DST modes.\nThe only thing that differs is the I/O implementation.\n\n# Example\n\n```ignore\n// Production\nlet io = VmSandboxIO::new(config);\nlet sandbox = GenericSandbox::new(\"agent-1\", config, io, time);\n\n// DST\nlet io = SimSandboxIO::new(rng, faults);\nlet sandbox = GenericSandbox::new(\"agent-1\", config, io, sim_clock);\n\n// SAME CODE from here on\nsandbox.start().await?;\nlet output = sandbox.exec_simple(\"echo\", &[\"hello\"]).await?;\n```",
          "generic_params": [
            "IO"
          ]
        },
        {
          "name": "std::fmt::Debug for GenericSandbox<IO>",
          "kind": "impl",
          "line": 183,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 184,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "GenericSandbox<IO>",
          "kind": "impl",
          "line": 193,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 195,
          "visibility": "pub",
          "signature": "fn new(\n        id: impl Into<String>,\n        config: SandboxConfig,\n        io: IO,\n        time: Arc<dyn TimeProvider>,\n    )",
          "doc": "Create a new sandbox with the given I/O implementation"
        },
        {
          "name": "id",
          "kind": "function",
          "line": 212,
          "visibility": "pub",
          "signature": "fn id(&self)",
          "doc": "Get the sandbox ID"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 217,
          "visibility": "pub",
          "signature": "fn state(&self)",
          "doc": "Get the current state"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 222,
          "visibility": "pub",
          "signature": "fn config(&self)",
          "doc": "Get the configuration"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 233,
          "visibility": "pub",
          "signature": "async fn start(&mut self)",
          "doc": "Start the sandbox\n\n# Errors\n\nReturns error if:\n- Sandbox is not in Stopped state\n- I/O boot fails",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 254,
          "visibility": "pub",
          "signature": "async fn stop(&mut self)",
          "doc": "Stop the sandbox",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 272,
          "visibility": "pub",
          "signature": "async fn pause(&mut self)",
          "doc": "Pause the sandbox",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 288,
          "visibility": "pub",
          "signature": "async fn resume(&mut self)",
          "doc": "Resume the sandbox",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 304,
          "visibility": "pub",
          "signature": "async fn exec(\n        &self,\n        command: &str,\n        args: &[&str],\n        options: ExecOptions,\n    )",
          "doc": "Execute a command",
          "is_async": true
        },
        {
          "name": "exec_simple",
          "kind": "function",
          "line": 322,
          "visibility": "pub",
          "signature": "async fn exec_simple(&self, command: &str, args: &[&str])",
          "doc": "Execute a command with default options",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 327,
          "visibility": "pub",
          "signature": "async fn snapshot(&self)",
          "doc": "Create a snapshot",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 346,
          "visibility": "pub",
          "signature": "async fn restore(&mut self, snapshot: &Snapshot)",
          "doc": "Restore from a snapshot",
          "is_async": true
        },
        {
          "name": "destroy",
          "kind": "function",
          "line": 359,
          "visibility": "pub",
          "signature": "async fn destroy(&mut self)",
          "doc": "Destroy the sandbox",
          "is_async": true
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 377,
          "visibility": "pub",
          "signature": "async fn health_check(&self)",
          "doc": "Health check",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 382,
          "visibility": "pub",
          "signature": "async fn stats(&self)",
          "doc": "Get statistics",
          "is_async": true
        },
        {
          "name": "read_file",
          "kind": "function",
          "line": 394,
          "visibility": "pub",
          "signature": "async fn read_file(&self, path: &str)",
          "doc": "Read a file from the sandbox",
          "is_async": true
        },
        {
          "name": "write_file",
          "kind": "function",
          "line": 399,
          "visibility": "pub",
          "signature": "async fn write_file(&self, path: &str, content: &[u8])",
          "doc": "Write a file to the sandbox",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 409,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "TestSandboxIO",
          "kind": "struct",
          "line": 418,
          "visibility": "private",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "TestSandboxIO",
          "kind": "impl",
          "line": 424,
          "visibility": "private"
        },
        {
          "name": "SandboxIO for TestSandboxIO",
          "kind": "impl",
          "line": 435,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_generic_sandbox_lifecycle",
          "kind": "function",
          "line": 510,
          "visibility": "private",
          "signature": "async fn test_generic_sandbox_lifecycle()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_generic_sandbox_invalid_state",
          "kind": "function",
          "line": 540,
          "visibility": "private",
          "signature": "async fn test_generic_sandbox_invalid_state()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_generic_sandbox_file_ops",
          "kind": "function",
          "line": 562,
          "visibility": "private",
          "signature": "async fn test_generic_sandbox_file_ops()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::config::SandboxConfig"
        },
        {
          "path": "crate::error::SandboxError"
        },
        {
          "path": "crate::error::SandboxResult"
        },
        {
          "path": "crate::exec::ExecOptions"
        },
        {
          "path": "crate::exec::ExecOutput"
        },
        {
          "path": "crate::snapshot::Snapshot"
        },
        {
          "path": "crate::traits::SandboxState"
        },
        {
          "path": "crate::traits::SandboxStats"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::TimeProvider"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::exec::ExitStatus"
        },
        {
          "path": "kelpie_core::WallClockTime"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "tokio::sync::RwLock"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/error.rs",
      "symbols": [
        {
          "name": "SandboxResult",
          "kind": "type_alias",
          "line": 8,
          "visibility": "pub",
          "doc": "Result type for sandbox operations"
        },
        {
          "name": "SandboxError",
          "kind": "enum",
          "line": 12,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "fmt::Display for SandboxError",
          "kind": "impl",
          "line": 61,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 62,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for SandboxError",
          "kind": "impl",
          "line": 126,
          "visibility": "private"
        },
        {
          "name": "From<std::io::Error> for SandboxError",
          "kind": "impl",
          "line": 128,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 129,
          "visibility": "private",
          "signature": "fn from(err: std::io::Error)"
        },
        {
          "name": "From<SandboxError> for kelpie_core::error::Error",
          "kind": "impl",
          "line": 136,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 137,
          "visibility": "private",
          "signature": "fn from(err: SandboxError)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 145,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_error_display",
          "kind": "function",
          "line": 149,
          "visibility": "private",
          "signature": "fn test_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exec_failed_display",
          "kind": "function",
          "line": 157,
          "visibility": "private",
          "signature": "fn test_exec_failed_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "std::fmt"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/config.rs",
      "symbols": [
        {
          "name": "SANDBOX_MEMORY_BYTES_MAX_DEFAULT",
          "kind": "const",
          "line": 9,
          "visibility": "pub",
          "signature": "const SANDBOX_MEMORY_BYTES_MAX_DEFAULT: u64",
          "doc": "Default memory limit (256MB)"
        },
        {
          "name": "SANDBOX_VCPU_COUNT_DEFAULT",
          "kind": "const",
          "line": 12,
          "visibility": "pub",
          "signature": "const SANDBOX_VCPU_COUNT_DEFAULT: u32",
          "doc": "Default CPU limit (1 vCPU)"
        },
        {
          "name": "SANDBOX_DISK_BYTES_MAX_DEFAULT",
          "kind": "const",
          "line": 15,
          "visibility": "pub",
          "signature": "const SANDBOX_DISK_BYTES_MAX_DEFAULT: u64",
          "doc": "Default disk size (1GB)"
        },
        {
          "name": "SANDBOX_EXEC_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 18,
          "visibility": "pub",
          "signature": "const SANDBOX_EXEC_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default execution timeout (30 seconds)"
        },
        {
          "name": "SANDBOX_IDLE_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 21,
          "visibility": "pub",
          "signature": "const SANDBOX_IDLE_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default idle timeout before reclaim (5 minutes)"
        },
        {
          "name": "ResourceLimits",
          "kind": "struct",
          "line": 25,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ResourceLimits",
          "kind": "impl",
          "line": 40,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 42,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create with default limits"
        },
        {
          "name": "minimal",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "fn minimal()",
          "doc": "Create minimal limits (for testing)"
        },
        {
          "name": "heavy",
          "kind": "function",
          "line": 59,
          "visibility": "pub",
          "signature": "fn heavy()",
          "doc": "Create limits for heavy workloads"
        },
        {
          "name": "with_memory",
          "kind": "function",
          "line": 71,
          "visibility": "pub",
          "signature": "fn with_memory(mut self, bytes: u64)",
          "doc": "Set memory limit"
        },
        {
          "name": "with_vcpus",
          "kind": "function",
          "line": 77,
          "visibility": "pub",
          "signature": "fn with_vcpus(mut self, count: u32)",
          "doc": "Set vCPU count"
        },
        {
          "name": "with_disk",
          "kind": "function",
          "line": 83,
          "visibility": "pub",
          "signature": "fn with_disk(mut self, bytes: u64)",
          "doc": "Set disk limit"
        },
        {
          "name": "with_exec_timeout",
          "kind": "function",
          "line": 89,
          "visibility": "pub",
          "signature": "fn with_exec_timeout(mut self, timeout: Duration)",
          "doc": "Set execution timeout"
        },
        {
          "name": "with_network",
          "kind": "function",
          "line": 95,
          "visibility": "pub",
          "signature": "fn with_network(mut self, enabled: bool)",
          "doc": "Enable or disable network"
        },
        {
          "name": "Default for ResourceLimits",
          "kind": "impl",
          "line": 101,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 102,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "SandboxConfig",
          "kind": "struct",
          "line": 116,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SandboxConfig",
          "kind": "impl",
          "line": 131,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 133,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create with default settings"
        },
        {
          "name": "with_limits",
          "kind": "function",
          "line": 138,
          "visibility": "pub",
          "signature": "fn with_limits(mut self, limits: ResourceLimits)",
          "doc": "Set resource limits"
        },
        {
          "name": "with_workdir",
          "kind": "function",
          "line": 144,
          "visibility": "pub",
          "signature": "fn with_workdir(mut self, workdir: impl Into<String>)",
          "doc": "Set working directory"
        },
        {
          "name": "with_env",
          "kind": "function",
          "line": 150,
          "visibility": "pub",
          "signature": "fn with_env(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Add environment variable"
        },
        {
          "name": "with_idle_timeout",
          "kind": "function",
          "line": 156,
          "visibility": "pub",
          "signature": "fn with_idle_timeout(mut self, timeout: Duration)",
          "doc": "Set idle timeout"
        },
        {
          "name": "with_image",
          "kind": "function",
          "line": 162,
          "visibility": "pub",
          "signature": "fn with_image(mut self, image: impl Into<String>)",
          "doc": "Set base image"
        },
        {
          "name": "with_debug",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "fn with_debug(mut self, debug: bool)",
          "doc": "Enable debug mode"
        },
        {
          "name": "Default for SandboxConfig",
          "kind": "impl",
          "line": 174,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 175,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 188,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_resource_limits_default",
          "kind": "function",
          "line": 192,
          "visibility": "private",
          "signature": "fn test_resource_limits_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_resource_limits_builder",
          "kind": "function",
          "line": 200,
          "visibility": "private",
          "signature": "fn test_resource_limits_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sandbox_config_default",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "fn test_sandbox_config_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sandbox_config_builder",
          "kind": "function",
          "line": 220,
          "visibility": "private",
          "signature": "fn test_sandbox_config_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_resource_limits_presets",
          "kind": "function",
          "line": 233,
          "visibility": "private",
          "signature": "fn test_resource_limits_presets()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/lib.rs",
      "symbols": [
        {
          "name": "agent_manager",
          "kind": "mod",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "config",
          "kind": "mod",
          "line": 38,
          "visibility": "private"
        },
        {
          "name": "error",
          "kind": "mod",
          "line": 39,
          "visibility": "private"
        },
        {
          "name": "exec",
          "kind": "mod",
          "line": 40,
          "visibility": "private"
        },
        {
          "name": "io",
          "kind": "mod",
          "line": 41,
          "visibility": "pub"
        },
        {
          "name": "mock",
          "kind": "mod",
          "line": 42,
          "visibility": "private"
        },
        {
          "name": "pool",
          "kind": "mod",
          "line": 43,
          "visibility": "private"
        },
        {
          "name": "process",
          "kind": "mod",
          "line": 44,
          "visibility": "private"
        },
        {
          "name": "snapshot",
          "kind": "mod",
          "line": 45,
          "visibility": "private"
        },
        {
          "name": "traits",
          "kind": "mod",
          "line": 46,
          "visibility": "private"
        },
        {
          "name": "firecracker",
          "kind": "mod",
          "line": 49,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"firecracker\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 77,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sandbox_module_compiles",
          "kind": "function",
          "line": 81,
          "visibility": "private",
          "signature": "fn test_sandbox_module_compiles()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "agent_manager::AgentSandboxManager"
        },
        {
          "path": "agent_manager::IsolationMode"
        },
        {
          "path": "agent_manager::AGENT_POOL_ACQUIRE_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "config::ResourceLimits"
        },
        {
          "path": "config::SandboxConfig"
        },
        {
          "path": "error::SandboxError"
        },
        {
          "path": "error::SandboxResult"
        },
        {
          "path": "exec::ExecOptions"
        },
        {
          "path": "exec::ExecOutput"
        },
        {
          "path": "exec::ExitStatus"
        },
        {
          "path": "mock::MockSandbox"
        },
        {
          "path": "mock::MockSandboxFactory"
        },
        {
          "path": "pool::PoolConfig"
        },
        {
          "path": "pool::SandboxPool"
        },
        {
          "path": "process::ProcessSandbox"
        },
        {
          "path": "process::ProcessSandboxFactory"
        },
        {
          "path": "snapshot::Architecture"
        },
        {
          "path": "snapshot::Snapshot"
        },
        {
          "path": "snapshot::SnapshotKind"
        },
        {
          "path": "snapshot::SnapshotMetadata"
        },
        {
          "path": "snapshot::SnapshotValidationError"
        },
        {
          "path": "snapshot::SNAPSHOT_CHECKPOINT_SIZE_BYTES_MAX"
        },
        {
          "path": "snapshot::SNAPSHOT_FORMAT_VERSION"
        },
        {
          "path": "snapshot::SNAPSHOT_SUSPEND_SIZE_BYTES_MAX"
        },
        {
          "path": "snapshot::SNAPSHOT_TELEPORT_SIZE_BYTES_MAX"
        },
        {
          "path": "traits::Sandbox"
        },
        {
          "path": "traits::SandboxFactory"
        },
        {
          "path": "traits::SandboxState"
        },
        {
          "path": "traits::SandboxStats"
        },
        {
          "path": "io::GenericSandbox"
        },
        {
          "path": "io::SandboxIO"
        },
        {
          "path": "io::SnapshotData"
        },
        {
          "path": "firecracker::FirecrackerConfig"
        },
        {
          "path": "firecracker::FirecrackerSandbox"
        },
        {
          "path": "firecracker::FirecrackerSandboxFactory"
        },
        {
          "path": "firecracker::FIRECRACKER_API_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "firecracker::FIRECRACKER_BINARY_PATH_DEFAULT"
        },
        {
          "path": "firecracker::FIRECRACKER_BOOT_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "firecracker::FIRECRACKER_VSOCK_CID_DEFAULT"
        },
        {
          "path": "firecracker::FIRECRACKER_VSOCK_PORT_DEFAULT"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/firecracker.rs",
      "symbols": [
        {
          "name": "FIRECRACKER_BINARY_PATH_DEFAULT",
          "kind": "const",
          "line": 66,
          "visibility": "pub",
          "signature": "const FIRECRACKER_BINARY_PATH_DEFAULT: &str",
          "doc": "Default path to firecracker binary"
        },
        {
          "name": "FIRECRACKER_VSOCK_CID_DEFAULT",
          "kind": "const",
          "line": 69,
          "visibility": "pub",
          "signature": "const FIRECRACKER_VSOCK_CID_DEFAULT: u32",
          "doc": "Default vsock CID for guest"
        },
        {
          "name": "FIRECRACKER_VSOCK_PORT_DEFAULT",
          "kind": "const",
          "line": 72,
          "visibility": "pub",
          "signature": "const FIRECRACKER_VSOCK_PORT_DEFAULT: u32",
          "doc": "Default vsock port for guest agent"
        },
        {
          "name": "FIRECRACKER_BOOT_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 75,
          "visibility": "pub",
          "signature": "const FIRECRACKER_BOOT_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default boot time limit in milliseconds"
        },
        {
          "name": "FIRECRACKER_API_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 78,
          "visibility": "pub",
          "signature": "const FIRECRACKER_API_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default API socket timeout in milliseconds"
        },
        {
          "name": "FirecrackerConfig",
          "kind": "struct",
          "line": 82,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Default for FirecrackerConfig",
          "kind": "impl",
          "line": 105,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 106,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "FirecrackerConfig",
          "kind": "impl",
          "line": 122,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 124,
          "visibility": "pub",
          "signature": "fn new(kernel_image: impl Into<PathBuf>, rootfs_image: impl Into<PathBuf>)",
          "doc": "Create configuration with required paths"
        },
        {
          "name": "with_runtime_dir",
          "kind": "function",
          "line": 133,
          "visibility": "pub",
          "signature": "fn with_runtime_dir(mut self, dir: impl Into<PathBuf>)",
          "doc": "Set the runtime directory"
        },
        {
          "name": "with_snapshot_dir",
          "kind": "function",
          "line": 139,
          "visibility": "pub",
          "signature": "fn with_snapshot_dir(mut self, dir: impl Into<PathBuf>)",
          "doc": "Set the snapshot directory"
        },
        {
          "name": "with_kernel_args",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "fn with_kernel_args(mut self, args: impl Into<String>)",
          "doc": "Set kernel boot arguments"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 151,
          "visibility": "pub",
          "signature": "fn validate(&self)",
          "doc": "Validate the configuration"
        },
        {
          "name": "VmState",
          "kind": "struct",
          "line": 185,
          "visibility": "private",
          "doc": "Internal state for the Firecracker VM"
        },
        {
          "name": "FirecrackerSandbox",
          "kind": "struct",
          "line": 205,
          "visibility": "pub",
          "doc": "Firecracker MicroVM sandbox\n\nProvides VM-level isolation using Firecracker microVMs.\nEach sandbox runs in its own lightweight VM with dedicated\nCPU, memory, and network resources."
        },
        {
          "name": "FirecrackerSandbox",
          "kind": "impl",
          "line": 219,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 221,
          "visibility": "pub",
          "signature": "async fn new(config: SandboxConfig, fc_config: FirecrackerConfig)",
          "doc": "Create a new Firecracker sandbox",
          "is_async": true
        },
        {
          "name": "next_request_id",
          "kind": "function",
          "line": 253,
          "visibility": "private",
          "signature": "fn next_request_id(&self)",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "api_request",
          "kind": "function",
          "line": 258,
          "visibility": "private",
          "signature": "async fn api_request(\n        &self,\n        method: &str,\n        path: &str,\n        body: Option<&str>,\n    )",
          "doc": "Make an API request to Firecracker",
          "is_async": true
        },
        {
          "name": "configure_boot_source",
          "kind": "function",
          "line": 321,
          "visibility": "private",
          "signature": "async fn configure_boot_source(&self)",
          "doc": "Configure the VM boot source",
          "is_async": true
        },
        {
          "name": "configure_drives",
          "kind": "function",
          "line": 334,
          "visibility": "private",
          "signature": "async fn configure_drives(&self)",
          "doc": "Configure the root drive",
          "is_async": true
        },
        {
          "name": "configure_machine",
          "kind": "function",
          "line": 349,
          "visibility": "private",
          "signature": "async fn configure_machine(&self)",
          "doc": "Configure the machine resources",
          "is_async": true
        },
        {
          "name": "configure_vsock",
          "kind": "function",
          "line": 362,
          "visibility": "private",
          "signature": "async fn configure_vsock(&self)",
          "doc": "Configure vsock device",
          "is_async": true
        },
        {
          "name": "start_vm_instance",
          "kind": "function",
          "line": 380,
          "visibility": "private",
          "signature": "async fn start_vm_instance(&self)",
          "doc": "Start the VM instance",
          "is_async": true
        },
        {
          "name": "exec_via_vsock",
          "kind": "function",
          "line": 392,
          "visibility": "private",
          "signature": "async fn exec_via_vsock(\n        &self,\n        command: &str,\n        args: &[&str],\n        options: &ExecOptions,\n    )",
          "doc": "Execute a command via vsock",
          "is_async": true
        },
        {
          "name": "pause_vm",
          "kind": "function",
          "line": 457,
          "visibility": "private",
          "signature": "async fn pause_vm(&self)",
          "doc": "Pause the VM",
          "is_async": true
        },
        {
          "name": "resume_vm",
          "kind": "function",
          "line": 469,
          "visibility": "private",
          "signature": "async fn resume_vm(&self)",
          "doc": "Resume the VM",
          "is_async": true
        },
        {
          "name": "create_snapshot",
          "kind": "function",
          "line": 481,
          "visibility": "private",
          "signature": "async fn create_snapshot(&self, snapshot_path: &Path)",
          "doc": "Create a VM snapshot",
          "is_async": true
        },
        {
          "name": "restore_from_snapshot",
          "kind": "function",
          "line": 498,
          "visibility": "private",
          "signature": "async fn restore_from_snapshot(&self, snapshot_path: &Path)",
          "doc": "Restore from a snapshot",
          "is_async": true
        },
        {
          "name": "Sandbox for FirecrackerSandbox",
          "kind": "impl",
          "line": 519,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 520,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 524,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 530,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 534,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 597,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 627,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 649,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 671,
          "visibility": "private",
          "signature": "async fn exec(\n        &self,\n        command: &str,\n        args: &[&str],\n        options: ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 692,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 743,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &Snapshot)",
          "is_async": true
        },
        {
          "name": "destroy",
          "kind": "function",
          "line": 787,
          "visibility": "private",
          "signature": "async fn destroy(&mut self)",
          "is_async": true
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 817,
          "visibility": "private",
          "signature": "async fn health_check(&self)",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 845,
          "visibility": "private",
          "signature": "async fn stats(&self)",
          "is_async": true
        },
        {
          "name": "Drop for FirecrackerSandbox",
          "kind": "impl",
          "line": 866,
          "visibility": "private"
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 867,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        },
        {
          "name": "FirecrackerSandboxFactory",
          "kind": "struct",
          "line": 875,
          "visibility": "pub",
          "doc": "Factory for creating Firecracker sandboxes"
        },
        {
          "name": "FirecrackerSandboxFactory",
          "kind": "impl",
          "line": 879,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 881,
          "visibility": "pub",
          "signature": "fn new(fc_config: FirecrackerConfig)",
          "doc": "Create a new factory with the given configuration"
        },
        {
          "name": "SandboxFactory for FirecrackerSandboxFactory",
          "kind": "impl",
          "line": 887,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "Sandbox",
          "kind": "type_alias",
          "line": 888,
          "visibility": "private"
        },
        {
          "name": "create",
          "kind": "function",
          "line": 890,
          "visibility": "private",
          "signature": "async fn create(&self, config: SandboxConfig)",
          "is_async": true
        },
        {
          "name": "create_from_snapshot",
          "kind": "function",
          "line": 894,
          "visibility": "private",
          "signature": "async fn create_from_snapshot(\n        &self,\n        config: SandboxConfig,\n        snapshot: &Snapshot,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 906,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_firecracker_config_default",
          "kind": "function",
          "line": 910,
          "visibility": "private",
          "signature": "fn test_firecracker_config_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_firecracker_config_builder",
          "kind": "function",
          "line": 917,
          "visibility": "private",
          "signature": "fn test_firecracker_config_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_firecracker_config_validation_missing_binary",
          "kind": "function",
          "line": 929,
          "visibility": "private",
          "signature": "fn test_firecracker_config_validation_missing_binary()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::config::SandboxConfig"
        },
        {
          "path": "crate::error::SandboxError"
        },
        {
          "path": "crate::error::SandboxResult"
        },
        {
          "path": "crate::exec::ExecOptions"
        },
        {
          "path": "crate::exec::ExecOutput"
        },
        {
          "path": "crate::exec::ExitStatus"
        },
        {
          "path": "crate::snapshot::Snapshot"
        },
        {
          "path": "crate::traits::Sandbox"
        },
        {
          "path": "crate::traits::SandboxFactory"
        },
        {
          "path": "crate::traits::SandboxState"
        },
        {
          "path": "crate::traits::SandboxStats"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::path::Path"
        },
        {
          "path": "std::path::PathBuf"
        },
        {
          "path": "std::process::Stdio"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Instant"
        },
        {
          "path": "tokio::io::AsyncBufReadExt"
        },
        {
          "path": "tokio::io::AsyncWriteExt"
        },
        {
          "path": "tokio::io::BufReader"
        },
        {
          "path": "tokio::net::UnixStream"
        },
        {
          "path": "tokio::process::Child"
        },
        {
          "path": "tokio::process::Command"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/mock.rs",
      "symbols": [
        {
          "name": "MockSandbox",
          "kind": "struct",
          "line": 22,
          "visibility": "pub",
          "doc": "Mock sandbox for testing\n\nSimulates sandbox behavior without actual isolation.\nSupports command handlers for test scenarios."
        },
        {
          "name": "CommandHandler",
          "kind": "type_alias",
          "line": 39,
          "visibility": "pub",
          "doc": "Handler for simulating command execution"
        },
        {
          "name": "MockSandbox",
          "kind": "impl",
          "line": 41,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 43,
          "visibility": "pub",
          "signature": "fn new(config: SandboxConfig)",
          "doc": "Create a new mock sandbox"
        },
        {
          "name": "with_id",
          "kind": "function",
          "line": 65,
          "visibility": "pub",
          "signature": "fn with_id(id: impl Into<String>, config: SandboxConfig)",
          "doc": "Create with a specific ID"
        },
        {
          "name": "register_handler",
          "kind": "function",
          "line": 72,
          "visibility": "pub",
          "signature": "async fn register_handler(&self, command: impl Into<String>, handler: CommandHandler)",
          "doc": "Register a command handler for simulation",
          "is_async": true
        },
        {
          "name": "write_file",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "async fn write_file(&self, path: impl Into<String>, content: impl Into<Bytes>)",
          "doc": "Write a file to the simulated filesystem",
          "is_async": true
        },
        {
          "name": "read_file",
          "kind": "function",
          "line": 84,
          "visibility": "pub",
          "signature": "async fn read_file(&self, path: &str)",
          "doc": "Read a file from the simulated filesystem",
          "is_async": true
        },
        {
          "name": "set_env",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "async fn set_env(&self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Set an environment variable",
          "is_async": true
        },
        {
          "name": "get_env",
          "kind": "function",
          "line": 96,
          "visibility": "pub",
          "signature": "async fn get_env(&self, key: &str)",
          "doc": "Get an environment variable",
          "is_async": true
        },
        {
          "name": "set_memory_used",
          "kind": "function",
          "line": 102,
          "visibility": "pub",
          "signature": "fn set_memory_used(&self, bytes: u64)",
          "doc": "Simulate memory usage"
        },
        {
          "name": "default_handler",
          "kind": "function",
          "line": 107,
          "visibility": "private",
          "signature": "fn default_handler(command: &str, args: &[&str], _options: &ExecOptions)",
          "doc": "Default command handler that echoes arguments"
        },
        {
          "name": "Sandbox for MockSandbox",
          "kind": "impl",
          "line": 132,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 133,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 137,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 143,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 147,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 167,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 182,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 197,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "async fn exec(\n        &self,\n        command: &str,\n        args: &[&str],\n        options: ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 240,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 269,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &Snapshot)",
          "is_async": true
        },
        {
          "name": "destroy",
          "kind": "function",
          "line": 294,
          "visibility": "private",
          "signature": "async fn destroy(&mut self)",
          "is_async": true
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 305,
          "visibility": "private",
          "signature": "async fn health_check(&self)",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 310,
          "visibility": "private",
          "signature": "async fn stats(&self)",
          "is_async": true
        },
        {
          "name": "MockSandboxFactory",
          "kind": "struct",
          "line": 331,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, Default)"
          ]
        },
        {
          "name": "MockSandboxFactory",
          "kind": "impl",
          "line": 333,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 335,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new factory"
        },
        {
          "name": "SandboxFactory for MockSandboxFactory",
          "kind": "impl",
          "line": 341,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "Sandbox",
          "kind": "type_alias",
          "line": 342,
          "visibility": "private"
        },
        {
          "name": "create",
          "kind": "function",
          "line": 344,
          "visibility": "private",
          "signature": "async fn create(&self, config: SandboxConfig)",
          "is_async": true
        },
        {
          "name": "create_from_snapshot",
          "kind": "function",
          "line": 350,
          "visibility": "private",
          "signature": "async fn create_from_snapshot(\n        &self,\n        config: SandboxConfig,\n        snapshot: &Snapshot,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 363,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_mock_sandbox_lifecycle",
          "kind": "function",
          "line": 367,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_lifecycle()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_sandbox_exec",
          "kind": "function",
          "line": 387,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_exec()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_sandbox_exec_failure",
          "kind": "function",
          "line": 401,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_exec_failure()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_sandbox_custom_handler",
          "kind": "function",
          "line": 412,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_custom_handler()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_sandbox_filesystem",
          "kind": "function",
          "line": 434,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_filesystem()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_sandbox_snapshot_restore",
          "kind": "function",
          "line": 445,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_snapshot_restore()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_sandbox_invalid_state",
          "kind": "function",
          "line": 471,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_invalid_state()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_sandbox_factory",
          "kind": "function",
          "line": 481,
          "visibility": "private",
          "signature": "async fn test_mock_sandbox_factory()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::config::SandboxConfig"
        },
        {
          "path": "crate::error::SandboxError"
        },
        {
          "path": "crate::error::SandboxResult"
        },
        {
          "path": "crate::exec::ExecOptions"
        },
        {
          "path": "crate::exec::ExecOutput"
        },
        {
          "path": "crate::snapshot::Snapshot"
        },
        {
          "path": "crate::traits::Sandbox"
        },
        {
          "path": "crate::traits::SandboxFactory"
        },
        {
          "path": "crate::traits::SandboxState"
        },
        {
          "path": "crate::traits::SandboxStats"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/snapshot.rs",
      "symbols": [
        {
          "name": "SNAPSHOT_FORMAT_VERSION",
          "kind": "const",
          "line": 23,
          "visibility": "pub",
          "signature": "const SNAPSHOT_FORMAT_VERSION: u32",
          "doc": "Snapshot format version"
        },
        {
          "name": "SNAPSHOT_SUSPEND_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 26,
          "visibility": "pub",
          "signature": "const SNAPSHOT_SUSPEND_SIZE_BYTES_MAX: u64",
          "doc": "Maximum suspend snapshot size in bytes (100 MiB)"
        },
        {
          "name": "SNAPSHOT_TELEPORT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 29,
          "visibility": "pub",
          "signature": "const SNAPSHOT_TELEPORT_SIZE_BYTES_MAX: u64",
          "doc": "Maximum teleport snapshot size in bytes (4 GiB)"
        },
        {
          "name": "SNAPSHOT_CHECKPOINT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 32,
          "visibility": "pub",
          "signature": "const SNAPSHOT_CHECKPOINT_SIZE_BYTES_MAX: u64",
          "doc": "Maximum checkpoint snapshot size in bytes (500 MiB)"
        },
        {
          "name": "BASE_IMAGE_VERSION_LENGTH_MAX",
          "kind": "const",
          "line": 35,
          "visibility": "pub",
          "signature": "const BASE_IMAGE_VERSION_LENGTH_MAX: usize",
          "doc": "Maximum base image version length"
        },
        {
          "name": "SnapshotKind",
          "kind": "enum",
          "line": 48,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Hash, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SnapshotKind",
          "kind": "impl",
          "line": 74,
          "visibility": "private"
        },
        {
          "name": "max_size_bytes",
          "kind": "function",
          "line": 76,
          "visibility": "pub",
          "signature": "fn max_size_bytes(&self)",
          "doc": "Get the maximum size in bytes for this snapshot kind"
        },
        {
          "name": "requires_same_architecture",
          "kind": "function",
          "line": 85,
          "visibility": "pub",
          "signature": "fn requires_same_architecture(&self)",
          "doc": "Check if this snapshot kind requires same architecture for restore"
        },
        {
          "name": "includes_vm_state",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn includes_vm_state(&self)",
          "doc": "Check if this snapshot kind includes VM state"
        },
        {
          "name": "includes_cpu_state",
          "kind": "function",
          "line": 98,
          "visibility": "pub",
          "signature": "fn includes_cpu_state(&self)",
          "doc": "Check if this snapshot kind includes CPU registers"
        },
        {
          "name": "std::fmt::Display for SnapshotKind",
          "kind": "impl",
          "line": 103,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 104,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "Architecture",
          "kind": "enum",
          "line": 119,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Hash, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Architecture",
          "kind": "impl",
          "line": 126,
          "visibility": "private"
        },
        {
          "name": "current",
          "kind": "function",
          "line": 128,
          "visibility": "pub",
          "signature": "fn current()",
          "doc": "Get the current host architecture"
        },
        {
          "name": "is_compatible_with",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "fn is_compatible_with(&self, other: &Architecture)",
          "doc": "Check if two architectures are compatible for VM snapshot restoration"
        },
        {
          "name": "std::fmt::Display for Architecture",
          "kind": "impl",
          "line": 150,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 151,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "std::str::FromStr for Architecture",
          "kind": "impl",
          "line": 159,
          "visibility": "private"
        },
        {
          "name": "Err",
          "kind": "type_alias",
          "line": 160,
          "visibility": "private"
        },
        {
          "name": "from_str",
          "kind": "function",
          "line": 162,
          "visibility": "private",
          "signature": "fn from_str(s: &str)"
        },
        {
          "name": "SnapshotMetadata",
          "kind": "struct",
          "line": 177,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SnapshotMetadata",
          "kind": "impl",
          "line": 204,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 206,
          "visibility": "pub",
          "signature": "fn new(sandbox_id: impl Into<String>, kind: SnapshotKind)",
          "doc": "Create new snapshot metadata"
        },
        {
          "name": "with_architecture",
          "kind": "function",
          "line": 230,
          "visibility": "pub",
          "signature": "fn with_architecture(mut self, arch: Architecture)",
          "doc": "Set architecture"
        },
        {
          "name": "with_base_image_version",
          "kind": "function",
          "line": 236,
          "visibility": "pub",
          "signature": "fn with_base_image_version(mut self, version: impl Into<String>)",
          "doc": "Set base image version"
        },
        {
          "name": "with_memory_size",
          "kind": "function",
          "line": 247,
          "visibility": "pub",
          "signature": "fn with_memory_size(mut self, bytes: u64)",
          "doc": "Set memory size"
        },
        {
          "name": "with_disk_size",
          "kind": "function",
          "line": 253,
          "visibility": "pub",
          "signature": "fn with_disk_size(mut self, bytes: u64)",
          "doc": "Set disk size"
        },
        {
          "name": "with_description",
          "kind": "function",
          "line": 259,
          "visibility": "pub",
          "signature": "fn with_description(mut self, description: impl Into<String>)",
          "doc": "Set description"
        },
        {
          "name": "memory_only",
          "kind": "function",
          "line": 265,
          "visibility": "pub",
          "signature": "fn memory_only(mut self)",
          "doc": "Mark as memory-only snapshot"
        },
        {
          "name": "disk_only",
          "kind": "function",
          "line": 271,
          "visibility": "pub",
          "signature": "fn disk_only(mut self)",
          "doc": "Mark as disk-only snapshot"
        },
        {
          "name": "total_bytes",
          "kind": "function",
          "line": 277,
          "visibility": "pub",
          "signature": "fn total_bytes(&self)",
          "doc": "Total snapshot size"
        },
        {
          "name": "validate_restore",
          "kind": "function",
          "line": 282,
          "visibility": "pub",
          "signature": "fn validate_restore(\n        &self,\n        target_arch: Architecture,\n    )",
          "doc": "Validate this snapshot can be restored on the given architecture"
        },
        {
          "name": "validate_base_image",
          "kind": "function",
          "line": 307,
          "visibility": "pub",
          "signature": "fn validate_base_image(\n        &self,\n        expected_version: &str,\n    )",
          "doc": "Validate base image version matches"
        },
        {
          "name": "SnapshotValidationError",
          "kind": "enum",
          "line": 327,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, PartialEq, Eq)"
          ]
        },
        {
          "name": "std::fmt::Display for SnapshotValidationError",
          "kind": "impl",
          "line": 347,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 348,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for SnapshotValidationError",
          "kind": "impl",
          "line": 394,
          "visibility": "private"
        },
        {
          "name": "Snapshot",
          "kind": "struct",
          "line": 402,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Snapshot",
          "kind": "impl",
          "line": 419,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 421,
          "visibility": "pub",
          "signature": "fn new(sandbox_id: impl Into<String>, kind: SnapshotKind)",
          "doc": "Create a new snapshot of the given kind"
        },
        {
          "name": "suspend",
          "kind": "function",
          "line": 434,
          "visibility": "pub",
          "signature": "fn suspend(sandbox_id: impl Into<String>)",
          "doc": "Create a Suspend snapshot (memory-only, same-host)"
        },
        {
          "name": "teleport",
          "kind": "function",
          "line": 439,
          "visibility": "pub",
          "signature": "fn teleport(sandbox_id: impl Into<String>)",
          "doc": "Create a Teleport snapshot (full VM, same-architecture)"
        },
        {
          "name": "checkpoint",
          "kind": "function",
          "line": 444,
          "visibility": "pub",
          "signature": "fn checkpoint(sandbox_id: impl Into<String>)",
          "doc": "Create a Checkpoint snapshot (app state, cross-architecture)"
        },
        {
          "name": "id",
          "kind": "function",
          "line": 449,
          "visibility": "pub",
          "signature": "fn id(&self)",
          "doc": "Get the snapshot ID"
        },
        {
          "name": "sandbox_id",
          "kind": "function",
          "line": 454,
          "visibility": "pub",
          "signature": "fn sandbox_id(&self)",
          "doc": "Get the sandbox ID"
        },
        {
          "name": "kind",
          "kind": "function",
          "line": 459,
          "visibility": "pub",
          "signature": "fn kind(&self)",
          "doc": "Get the snapshot kind"
        },
        {
          "name": "architecture",
          "kind": "function",
          "line": 464,
          "visibility": "pub",
          "signature": "fn architecture(&self)",
          "doc": "Get the source architecture"
        },
        {
          "name": "with_architecture",
          "kind": "function",
          "line": 469,
          "visibility": "pub",
          "signature": "fn with_architecture(mut self, arch: Architecture)",
          "doc": "Set architecture"
        },
        {
          "name": "with_base_image_version",
          "kind": "function",
          "line": 475,
          "visibility": "pub",
          "signature": "fn with_base_image_version(mut self, version: impl Into<String>)",
          "doc": "Set base image version"
        },
        {
          "name": "with_memory",
          "kind": "function",
          "line": 481,
          "visibility": "pub",
          "signature": "fn with_memory(mut self, memory: impl Into<Bytes>)",
          "doc": "Set memory state"
        },
        {
          "name": "with_cpu_state",
          "kind": "function",
          "line": 489,
          "visibility": "pub",
          "signature": "fn with_cpu_state(mut self, state: impl Into<Bytes>)",
          "doc": "Set CPU state (for Teleport)"
        },
        {
          "name": "with_disk_reference",
          "kind": "function",
          "line": 495,
          "visibility": "pub",
          "signature": "fn with_disk_reference(mut self, reference: impl Into<String>)",
          "doc": "Set disk reference (for Teleport)"
        },
        {
          "name": "with_agent_state",
          "kind": "function",
          "line": 501,
          "visibility": "pub",
          "signature": "fn with_agent_state(mut self, state: impl Into<Bytes>)",
          "doc": "Set agent state (for Checkpoint)"
        },
        {
          "name": "with_workspace_ref",
          "kind": "function",
          "line": 507,
          "visibility": "pub",
          "signature": "fn with_workspace_ref(mut self, reference: impl Into<String>)",
          "doc": "Set workspace reference (for Checkpoint and Teleport)"
        },
        {
          "name": "with_env_state",
          "kind": "function",
          "line": 513,
          "visibility": "pub",
          "signature": "fn with_env_state(mut self, env: Vec<(String, String)>)",
          "doc": "Set environment state"
        },
        {
          "name": "to_bytes",
          "kind": "function",
          "line": 519,
          "visibility": "pub",
          "signature": "fn to_bytes(&self)",
          "doc": "Serialize to bytes"
        },
        {
          "name": "from_bytes",
          "kind": "function",
          "line": 524,
          "visibility": "pub",
          "signature": "fn from_bytes(data: &[u8])",
          "doc": "Deserialize from bytes"
        },
        {
          "name": "is_full_teleport",
          "kind": "function",
          "line": 529,
          "visibility": "pub",
          "signature": "fn is_full_teleport(&self)",
          "doc": "Check if this is a full VM teleport (memory + CPU)"
        },
        {
          "name": "is_checkpoint",
          "kind": "function",
          "line": 534,
          "visibility": "pub",
          "signature": "fn is_checkpoint(&self)",
          "doc": "Check if this is a checkpoint (app state only)"
        },
        {
          "name": "has_memory",
          "kind": "function",
          "line": 539,
          "visibility": "pub",
          "signature": "fn has_memory(&self)",
          "doc": "Check if this snapshot has memory state"
        },
        {
          "name": "has_disk",
          "kind": "function",
          "line": 544,
          "visibility": "pub",
          "signature": "fn has_disk(&self)",
          "doc": "Check if this snapshot has disk reference"
        },
        {
          "name": "is_complete",
          "kind": "function",
          "line": 549,
          "visibility": "pub",
          "signature": "fn is_complete(&self)",
          "doc": "Check if this is a complete snapshot for its kind"
        },
        {
          "name": "validate_for_restore",
          "kind": "function",
          "line": 560,
          "visibility": "pub",
          "signature": "fn validate_for_restore(\n        &self,\n        target_arch: Architecture,\n    )",
          "doc": "Validate this snapshot can be restored on the given architecture"
        },
        {
          "name": "validate_base_image",
          "kind": "function",
          "line": 568,
          "visibility": "pub",
          "signature": "fn validate_base_image(\n        &self,\n        expected_version: &str,\n    )",
          "doc": "Validate base image version matches"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 577,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_snapshot_kind_properties",
          "kind": "function",
          "line": 585,
          "visibility": "private",
          "signature": "fn test_snapshot_kind_properties()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_kind_max_sizes",
          "kind": "function",
          "line": 603,
          "visibility": "private",
          "signature": "fn test_snapshot_kind_max_sizes()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_kind_display",
          "kind": "function",
          "line": 619,
          "visibility": "private",
          "signature": "fn test_snapshot_kind_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_architecture_display",
          "kind": "function",
          "line": 630,
          "visibility": "private",
          "signature": "fn test_architecture_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_architecture_from_str",
          "kind": "function",
          "line": 636,
          "visibility": "private",
          "signature": "fn test_architecture_from_str()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_architecture_compatibility",
          "kind": "function",
          "line": 657,
          "visibility": "private",
          "signature": "fn test_architecture_compatibility()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_metadata_new_suspend",
          "kind": "function",
          "line": 667,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_new_suspend()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_metadata_new_teleport",
          "kind": "function",
          "line": 676,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_new_teleport()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_metadata_new_checkpoint",
          "kind": "function",
          "line": 684,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_new_checkpoint()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_metadata_builder",
          "kind": "function",
          "line": 692,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_metadata_validate_restore_same_arch",
          "kind": "function",
          "line": 709,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_validate_restore_same_arch()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_metadata_validate_restore_checkpoint_cross_arch",
          "kind": "function",
          "line": 718,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_validate_restore_checkpoint_cross_arch()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_metadata_validate_base_image",
          "kind": "function",
          "line": 728,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_validate_base_image()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_suspend",
          "kind": "function",
          "line": 741,
          "visibility": "private",
          "signature": "fn test_snapshot_suspend()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_teleport",
          "kind": "function",
          "line": 751,
          "visibility": "private",
          "signature": "fn test_snapshot_teleport()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_checkpoint",
          "kind": "function",
          "line": 765,
          "visibility": "private",
          "signature": "fn test_snapshot_checkpoint()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_completeness",
          "kind": "function",
          "line": 777,
          "visibility": "private",
          "signature": "fn test_snapshot_completeness()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_serialization",
          "kind": "function",
          "line": 793,
          "visibility": "private",
          "signature": "fn test_snapshot_serialization()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_validate_for_restore",
          "kind": "function",
          "line": 810,
          "visibility": "private",
          "signature": "fn test_snapshot_validate_for_restore()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_validation_error_display",
          "kind": "function",
          "line": 828,
          "visibility": "private",
          "signature": "fn test_snapshot_validation_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "chrono::DateTime"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/pool.rs",
      "symbols": [
        {
          "name": "POOL_SIZE_MIN_DEFAULT",
          "kind": "const",
          "line": 16,
          "visibility": "pub",
          "signature": "const POOL_SIZE_MIN_DEFAULT: usize",
          "doc": "Default minimum pool size"
        },
        {
          "name": "POOL_SIZE_MAX_DEFAULT",
          "kind": "const",
          "line": 19,
          "visibility": "pub",
          "signature": "const POOL_SIZE_MAX_DEFAULT: usize",
          "doc": "Default maximum pool size"
        },
        {
          "name": "POOL_ACQUIRE_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 22,
          "visibility": "pub",
          "signature": "const POOL_ACQUIRE_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default acquire timeout (5 seconds)"
        },
        {
          "name": "PoolConfig",
          "kind": "struct",
          "line": 26,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "PoolConfig",
          "kind": "impl",
          "line": 39,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 41,
          "visibility": "pub",
          "signature": "fn new(sandbox_config: SandboxConfig)",
          "doc": "Create a new pool configuration"
        },
        {
          "name": "with_min_size",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "fn with_min_size(mut self, size: usize)",
          "doc": "Set minimum pool size"
        },
        {
          "name": "with_max_size",
          "kind": "function",
          "line": 58,
          "visibility": "pub",
          "signature": "fn with_max_size(mut self, size: usize)",
          "doc": "Set maximum pool size"
        },
        {
          "name": "with_acquire_timeout",
          "kind": "function",
          "line": 64,
          "visibility": "pub",
          "signature": "fn with_acquire_timeout(mut self, timeout: Duration)",
          "doc": "Set acquire timeout"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn validate(&self)",
          "doc": "Validate configuration"
        },
        {
          "name": "Default for PoolConfig",
          "kind": "impl",
          "line": 88,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 89,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "PoolStats",
          "kind": "struct",
          "line": 96,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "SandboxPool",
          "kind": "struct",
          "line": 118,
          "visibility": "pub",
          "doc": "A pool of pre-warmed sandboxes\n\nMaintains a pool of ready-to-use sandboxes for fast allocation.\nAutomatically creates new sandboxes when the pool is depleted\nand destroys excess sandboxes when returned.",
          "generic_params": [
            "F"
          ]
        },
        {
          "name": "PoolStatsInner",
          "kind": "struct",
          "line": 132,
          "visibility": "private",
          "doc": "Internal statistics with atomic counters"
        },
        {
          "name": "Default for PoolStatsInner",
          "kind": "impl",
          "line": 140,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 141,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "SandboxPool<F>",
          "kind": "impl",
          "line": 152,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 154,
          "visibility": "pub",
          "signature": "fn new(factory: F, config: PoolConfig)",
          "doc": "Create a new sandbox pool"
        },
        {
          "name": "warm_up",
          "kind": "function",
          "line": 167,
          "visibility": "pub",
          "signature": "async fn warm_up(&self)",
          "doc": "Initialize the pool with pre-warmed sandboxes",
          "is_async": true
        },
        {
          "name": "acquire",
          "kind": "function",
          "line": 199,
          "visibility": "pub",
          "signature": "async fn acquire(&self)",
          "doc": "Acquire a sandbox from the pool\n\nReturns a warm sandbox if available, otherwise creates a new one.\nBlocks if pool is at capacity until a sandbox is returned.",
          "is_async": true
        },
        {
          "name": "release",
          "kind": "function",
          "line": 262,
          "visibility": "pub",
          "signature": "async fn release(&self, mut sandbox: F::Sandbox)",
          "doc": "Return a sandbox to the pool\n\nIf the sandbox is healthy and pool isn't at warm capacity,\nkeeps it for reuse. Otherwise destroys it.",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 291,
          "visibility": "pub",
          "signature": "async fn stats(&self)",
          "doc": "Get pool statistics",
          "is_async": true
        },
        {
          "name": "config",
          "kind": "function",
          "line": 308,
          "visibility": "pub",
          "signature": "fn config(&self)",
          "doc": "Get pool configuration"
        },
        {
          "name": "drain",
          "kind": "function",
          "line": 313,
          "visibility": "pub",
          "signature": "async fn drain(&self)",
          "doc": "Drain the pool, destroying all warm sandboxes",
          "is_async": true
        },
        {
          "name": "create_sandbox",
          "kind": "function",
          "line": 323,
          "visibility": "private",
          "signature": "async fn create_sandbox(&self)",
          "doc": "Create a new sandbox using the factory",
          "is_async": true
        },
        {
          "name": "PooledSandbox",
          "kind": "struct",
          "line": 335,
          "visibility": "pub",
          "generic_params": [
            "F"
          ],
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "PooledSandbox<F>",
          "kind": "impl",
          "line": 341,
          "visibility": "private",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "new",
          "kind": "function",
          "line": 346,
          "visibility": "pub",
          "signature": "fn new(sandbox: F::Sandbox, pool: Arc<SandboxPool<F>>)",
          "doc": "Create a new pooled sandbox guard"
        },
        {
          "name": "sandbox",
          "kind": "function",
          "line": 354,
          "visibility": "pub",
          "signature": "fn sandbox(&self)",
          "doc": "Get a reference to the sandbox"
        },
        {
          "name": "sandbox_mut",
          "kind": "function",
          "line": 359,
          "visibility": "pub",
          "signature": "fn sandbox_mut(&mut self)",
          "doc": "Get a mutable reference to the sandbox"
        },
        {
          "name": "take",
          "kind": "function",
          "line": 364,
          "visibility": "pub",
          "signature": "fn take(mut self)",
          "doc": "Take the sandbox out without returning to pool"
        },
        {
          "name": "Drop for PooledSandbox<F>",
          "kind": "impl",
          "line": 369,
          "visibility": "private"
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 373,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 386,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_pool_config_validation",
          "kind": "function",
          "line": 391,
          "visibility": "private",
          "signature": "async fn test_pool_config_validation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pool_warm_up",
          "kind": "function",
          "line": 402,
          "visibility": "private",
          "signature": "async fn test_pool_warm_up()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pool_acquire_warm",
          "kind": "function",
          "line": 415,
          "visibility": "private",
          "signature": "async fn test_pool_acquire_warm()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pool_acquire_cold",
          "kind": "function",
          "line": 432,
          "visibility": "private",
          "signature": "async fn test_pool_acquire_cold()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pool_release_healthy",
          "kind": "function",
          "line": 449,
          "visibility": "private",
          "signature": "async fn test_pool_release_healthy()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pool_release_excess",
          "kind": "function",
          "line": 465,
          "visibility": "private",
          "signature": "async fn test_pool_release_excess()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pool_drain",
          "kind": "function",
          "line": 487,
          "visibility": "private",
          "signature": "async fn test_pool_drain()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pool_stats",
          "kind": "function",
          "line": 502,
          "visibility": "private",
          "signature": "async fn test_pool_stats()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pooled_sandbox_raii",
          "kind": "function",
          "line": 522,
          "visibility": "private",
          "signature": "async fn test_pooled_sandbox_raii()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::config::SandboxConfig"
        },
        {
          "path": "crate::error::SandboxError"
        },
        {
          "path": "crate::error::SandboxResult"
        },
        {
          "path": "crate::traits::Sandbox"
        },
        {
          "path": "crate::traits::SandboxFactory"
        },
        {
          "path": "crate::traits::SandboxState"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "std::collections::VecDeque"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::sync::Mutex"
        },
        {
          "path": "tokio::sync::Semaphore"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::mock::MockSandboxFactory"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/agent_manager.rs",
      "symbols": [
        {
          "name": "AGENT_POOL_ACQUIRE_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 30,
          "visibility": "pub",
          "signature": "const AGENT_POOL_ACQUIRE_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default acquire timeout for dedicated pools (5 seconds)"
        },
        {
          "name": "IsolationMode",
          "kind": "enum",
          "line": 34,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "std::fmt::Display for IsolationMode",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 50,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "AgentSandboxManager",
          "kind": "struct",
          "line": 65,
          "visibility": "pub",
          "doc": "Per-agent sandbox pool management\n\nGeneric over `SandboxFactory`, enabling:\n- Production: `AgentSandboxManager<VzSandboxFactory>`\n- DST: `AgentSandboxManager<SimSandboxIOFactory>`\n\nThe same state machine code runs in both contexts.",
          "generic_params": [
            "F"
          ]
        },
        {
          "name": "AgentSandboxManager<F>",
          "kind": "impl",
          "line": 83,
          "visibility": "private"
        },
        {
          "name": "dedicated",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn dedicated(factory: F, base_config: PoolConfig)",
          "doc": "Create a manager in dedicated mode (one pool per agent)\n\nEach agent gets its own sandbox pool with min=1, max=1.\nThis provides maximum isolation at higher resource cost.\n\n# Arguments\n\n* `factory` - Factory for creating sandboxes\n* `base_config` - Base configuration (min/max will be overridden to 1)"
        },
        {
          "name": "shared",
          "kind": "function",
          "line": 118,
          "visibility": "pub",
          "signature": "fn shared(factory: F, pool_config: PoolConfig)",
          "doc": "Create a manager in shared mode (all agents share one pool)\n\nMore efficient but sandboxes may be reused across agents.\n\n# Arguments\n\n* `factory` - Factory for creating sandboxes\n* `pool_config` - Pool configuration (min/max respected)"
        },
        {
          "name": "mode",
          "kind": "function",
          "line": 139,
          "visibility": "pub",
          "signature": "fn mode(&self)",
          "doc": "Get the isolation mode"
        },
        {
          "name": "get_pool",
          "kind": "function",
          "line": 147,
          "visibility": "pub",
          "signature": "async fn get_pool(&self, agent_id: &str)",
          "doc": "Get or create a pool for the given agent\n\nIn Shared mode, returns the shared pool.\nIn Dedicated mode, creates a new pool if one doesn't exist.",
          "is_async": true
        },
        {
          "name": "acquire_for_agent",
          "kind": "function",
          "line": 199,
          "visibility": "pub",
          "signature": "async fn acquire_for_agent(&self, agent_id: &str)",
          "doc": "Acquire a sandbox for the given agent\n\nTracks ownership for invariant checking (used in DST).",
          "is_async": true
        },
        {
          "name": "release",
          "kind": "function",
          "line": 225,
          "visibility": "pub",
          "signature": "async fn release(&self, agent_id: &str, sandbox: F::Sandbox)",
          "doc": "Release a sandbox back to its pool\n\nClears ownership tracking.",
          "is_async": true
        },
        {
          "name": "verify_ownership",
          "kind": "function",
          "line": 253,
          "visibility": "pub",
          "signature": "async fn verify_ownership(&self, sandbox_id: &str, expected_agent_id: &str)",
          "doc": "Verify that a sandbox belongs to the expected agent\n\nUsed in DST to check isolation invariants.\nReturns true if the sandbox is owned by the agent, false otherwise.",
          "is_async": true
        },
        {
          "name": "get_sandbox_owner",
          "kind": "function",
          "line": 264,
          "visibility": "pub",
          "signature": "async fn get_sandbox_owner(&self, sandbox_id: &str)",
          "doc": "Get the agent that owns a sandbox (if any)\n\nUsed in DST for invariant checking.",
          "is_async": true
        },
        {
          "name": "cleanup_agent",
          "kind": "function",
          "line": 273,
          "visibility": "pub",
          "signature": "async fn cleanup_agent(&self, agent_id: &str)",
          "doc": "Cleanup resources when an agent terminates\n\nIn Dedicated mode, destroys the agent's pool.\nIn Shared mode, just clears ownership records.",
          "is_async": true
        },
        {
          "name": "dedicated_pool_count",
          "kind": "function",
          "line": 309,
          "visibility": "pub",
          "signature": "async fn dedicated_pool_count(&self)",
          "doc": "Get the number of active dedicated pools (Dedicated mode only)",
          "is_async": true
        },
        {
          "name": "has_dedicated_pool",
          "kind": "function",
          "line": 315,
          "visibility": "pub",
          "signature": "async fn has_dedicated_pool(&self, agent_id: &str)",
          "doc": "Check if an agent has a dedicated pool (Dedicated mode only)",
          "is_async": true
        },
        {
          "name": "dedicated_pool_agent_ids",
          "kind": "function",
          "line": 321,
          "visibility": "pub",
          "signature": "async fn dedicated_pool_agent_ids(&self)",
          "doc": "Get all agent IDs with dedicated pools (Dedicated mode only)",
          "is_async": true
        },
        {
          "name": "warm_up",
          "kind": "function",
          "line": 329,
          "visibility": "pub",
          "signature": "async fn warm_up(&self)",
          "doc": "Warm up the shared pool (Shared mode only)\n\nPre-creates sandboxes for faster first acquisition.",
          "is_async": true
        },
        {
          "name": "drain_all",
          "kind": "function",
          "line": 337,
          "visibility": "pub",
          "signature": "async fn drain_all(&self)",
          "doc": "Drain all pools (for shutdown)",
          "is_async": true
        },
        {
          "name": "Clone for AgentSandboxManager<F>",
          "kind": "impl",
          "line": 361,
          "visibility": "private"
        },
        {
          "name": "clone",
          "kind": "function",
          "line": 362,
          "visibility": "private",
          "signature": "fn clone(&self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 378,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_dedicated_mode_creates_separate_pools",
          "kind": "function",
          "line": 384,
          "visibility": "private",
          "signature": "async fn test_dedicated_mode_creates_separate_pools()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_shared_mode_returns_same_pool",
          "kind": "function",
          "line": 405,
          "visibility": "private",
          "signature": "async fn test_shared_mode_returns_same_pool()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_ownership_tracking",
          "kind": "function",
          "line": 422,
          "visibility": "private",
          "signature": "async fn test_ownership_tracking()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_cleanup_agent_dedicated",
          "kind": "function",
          "line": 448,
          "visibility": "private",
          "signature": "async fn test_cleanup_agent_dedicated()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_dedicated_pool_agents",
          "kind": "function",
          "line": 467,
          "visibility": "private",
          "signature": "async fn test_dedicated_pool_agents()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_drain_all",
          "kind": "function",
          "line": 486,
          "visibility": "private",
          "signature": "async fn test_drain_all()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::SandboxResult"
        },
        {
          "path": "crate::pool::PoolConfig"
        },
        {
          "path": "crate::pool::SandboxPool"
        },
        {
          "path": "crate::traits::Sandbox"
        },
        {
          "path": "crate::traits::SandboxFactory"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::mock::MockSandboxFactory"
        },
        {
          "path": "crate::SandboxConfig"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/process.rs",
      "symbols": [
        {
          "name": "ProcessSandbox",
          "kind": "struct",
          "line": 27,
          "visibility": "pub",
          "doc": "Process-based sandbox that executes commands in real OS processes\n\nProvides basic isolation through:\n- Working directory restriction\n- Environment variable control\n- Timeout enforcement\n- Output size limits"
        },
        {
          "name": "ProcessSandbox",
          "kind": "impl",
          "line": 35,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 37,
          "visibility": "pub",
          "signature": "fn new(config: SandboxConfig)",
          "doc": "Create a new process sandbox"
        },
        {
          "name": "with_id",
          "kind": "function",
          "line": 51,
          "visibility": "pub",
          "signature": "fn with_id(id: impl Into<String>, config: SandboxConfig)",
          "doc": "Create with a specific ID"
        },
        {
          "name": "Sandbox for ProcessSandbox",
          "kind": "impl",
          "line": 59,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 60,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 64,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 68,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 72,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 99,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 114,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 129,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 144,
          "visibility": "private",
          "signature": "async fn exec(\n        &self,\n        command: &str,\n        args: &[&str],\n        options: ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 250,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 258,
          "visibility": "private",
          "signature": "async fn restore(&mut self, _snapshot: &Snapshot)",
          "is_async": true
        },
        {
          "name": "destroy",
          "kind": "function",
          "line": 266,
          "visibility": "private",
          "signature": "async fn destroy(&mut self)",
          "is_async": true
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 272,
          "visibility": "private",
          "signature": "async fn health_check(&self)",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 277,
          "visibility": "private",
          "signature": "async fn stats(&self)",
          "is_async": true
        },
        {
          "name": "ProcessSandboxFactory",
          "kind": "struct",
          "line": 296,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, Default)"
          ]
        },
        {
          "name": "ProcessSandboxFactory",
          "kind": "impl",
          "line": 298,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 299,
          "visibility": "pub",
          "signature": "fn new()"
        },
        {
          "name": "SandboxFactory for ProcessSandboxFactory",
          "kind": "impl",
          "line": 305,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "Sandbox",
          "kind": "type_alias",
          "line": 306,
          "visibility": "private"
        },
        {
          "name": "create",
          "kind": "function",
          "line": 308,
          "visibility": "private",
          "signature": "async fn create(&self, config: SandboxConfig)",
          "is_async": true
        },
        {
          "name": "create_from_snapshot",
          "kind": "function",
          "line": 314,
          "visibility": "private",
          "signature": "async fn create_from_snapshot(\n        &self,\n        config: SandboxConfig,\n        snapshot: &Snapshot,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 327,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_config",
          "kind": "function",
          "line": 330,
          "visibility": "private",
          "signature": "fn test_config()"
        },
        {
          "name": "test_process_sandbox_lifecycle",
          "kind": "function",
          "line": 335,
          "visibility": "private",
          "signature": "async fn test_process_sandbox_lifecycle()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_process_sandbox_exec",
          "kind": "function",
          "line": 349,
          "visibility": "private",
          "signature": "async fn test_process_sandbox_exec()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_process_sandbox_exec_failure",
          "kind": "function",
          "line": 364,
          "visibility": "private",
          "signature": "async fn test_process_sandbox_exec_failure()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_process_sandbox_invalid_state",
          "kind": "function",
          "line": 374,
          "visibility": "private",
          "signature": "async fn test_process_sandbox_invalid_state()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::config::SandboxConfig"
        },
        {
          "path": "crate::error::SandboxError"
        },
        {
          "path": "crate::error::SandboxResult"
        },
        {
          "path": "crate::exec::ExecOptions"
        },
        {
          "path": "crate::exec::ExecOutput"
        },
        {
          "path": "crate::exec::ExitStatus"
        },
        {
          "path": "crate::snapshot::Snapshot"
        },
        {
          "path": "crate::traits::Sandbox"
        },
        {
          "path": "crate::traits::SandboxFactory"
        },
        {
          "path": "crate::traits::SandboxState"
        },
        {
          "path": "crate::traits::SandboxStats"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "std::process::Stdio"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "std::time::Instant"
        },
        {
          "path": "tokio::io::AsyncReadExt"
        },
        {
          "path": "tokio::process::Command"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-sandbox/src/traits.rs",
      "symbols": [
        {
          "name": "SandboxState",
          "kind": "enum",
          "line": 16,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "SandboxState",
          "kind": "impl",
          "line": 31,
          "visibility": "private"
        },
        {
          "name": "can_exec",
          "kind": "function",
          "line": 33,
          "visibility": "pub",
          "signature": "fn can_exec(&self)",
          "doc": "Check if sandbox can execute commands in this state"
        },
        {
          "name": "can_pause",
          "kind": "function",
          "line": 38,
          "visibility": "pub",
          "signature": "fn can_pause(&self)",
          "doc": "Check if sandbox can be paused in this state"
        },
        {
          "name": "can_resume",
          "kind": "function",
          "line": 43,
          "visibility": "pub",
          "signature": "fn can_resume(&self)",
          "doc": "Check if sandbox can be resumed in this state"
        },
        {
          "name": "can_stop",
          "kind": "function",
          "line": 48,
          "visibility": "pub",
          "signature": "fn can_stop(&self)",
          "doc": "Check if sandbox can be stopped in this state"
        },
        {
          "name": "can_start",
          "kind": "function",
          "line": 53,
          "visibility": "pub",
          "signature": "fn can_start(&self)",
          "doc": "Check if sandbox can be started in this state"
        },
        {
          "name": "can_destroy",
          "kind": "function",
          "line": 58,
          "visibility": "pub",
          "signature": "fn can_destroy(&self)",
          "doc": "Check if sandbox can be destroyed in this state"
        },
        {
          "name": "can_snapshot",
          "kind": "function",
          "line": 63,
          "visibility": "pub",
          "signature": "fn can_snapshot(&self)",
          "doc": "Check if sandbox can be snapshotted in this state"
        },
        {
          "name": "std::fmt::Display for SandboxState",
          "kind": "impl",
          "line": 68,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 69,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "Sandbox",
          "kind": "trait",
          "line": 88,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "SandboxStats",
          "kind": "struct",
          "line": 141,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SandboxFactory",
          "kind": "trait",
          "line": 158,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "DynSandbox",
          "kind": "type_alias",
          "line": 175,
          "visibility": "pub",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 178,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sandbox_state_transitions",
          "kind": "function",
          "line": 182,
          "visibility": "private",
          "signature": "fn test_sandbox_state_transitions()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sandbox_state_display",
          "kind": "function",
          "line": 202,
          "visibility": "private",
          "signature": "fn test_sandbox_state_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sandbox_state_snapshot",
          "kind": "function",
          "line": 209,
          "visibility": "private",
          "signature": "fn test_sandbox_state_snapshot()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sandbox_stats_default",
          "kind": "function",
          "line": 217,
          "visibility": "private",
          "signature": "fn test_sandbox_stats_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::config::SandboxConfig"
        },
        {
          "path": "crate::error::SandboxResult"
        },
        {
          "path": "crate::exec::ExecOptions"
        },
        {
          "path": "crate::exec::ExecOutput"
        },
        {
          "path": "crate::snapshot::Snapshot"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/error.rs",
      "symbols": [
        {
          "name": "VmResult",
          "kind": "type_alias",
          "line": 8,
          "visibility": "pub",
          "doc": "Result type for libkrun operations"
        },
        {
          "name": "VmError",
          "kind": "enum",
          "line": 12,
          "visibility": "pub",
          "attributes": [
            "derive(Error, Debug)"
          ]
        },
        {
          "name": "VmError",
          "kind": "impl",
          "line": 130,
          "visibility": "private"
        },
        {
          "name": "is_retriable",
          "kind": "function",
          "line": 132,
          "visibility": "pub",
          "signature": "fn is_retriable(&self)",
          "doc": "Check if this error is retriable"
        },
        {
          "name": "requires_recreate",
          "kind": "function",
          "line": 140,
          "visibility": "pub",
          "signature": "fn requires_recreate(&self)",
          "doc": "Check if this error indicates the VM should be recreated"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 149,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_error_display",
          "kind": "function",
          "line": 153,
          "visibility": "private",
          "signature": "fn test_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_error_retriable",
          "kind": "function",
          "line": 159,
          "visibility": "private",
          "signature": "fn test_error_retriable()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_error_requires_recreate",
          "kind": "function",
          "line": 169,
          "visibility": "private",
          "signature": "fn test_error_requires_recreate()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "thiserror::Error"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/config.rs",
      "symbols": [
        {
          "name": "VmConfig",
          "kind": "struct",
          "line": 14,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for VmConfig",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 50,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "VmConfig",
          "kind": "impl",
          "line": 67,
          "visibility": "private"
        },
        {
          "name": "builder",
          "kind": "function",
          "line": 69,
          "visibility": "pub",
          "signature": "fn builder()",
          "doc": "Create a new builder for VmConfig"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn validate(&self)"
        },
        {
          "name": "VmConfigBuilder",
          "kind": "struct",
          "line": 181,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Default)"
          ]
        },
        {
          "name": "VmConfigBuilder",
          "kind": "impl",
          "line": 195,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 197,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new builder"
        },
        {
          "name": "vcpu_count",
          "kind": "function",
          "line": 205,
          "visibility": "pub",
          "signature": "fn vcpu_count(mut self, count: u32)",
          "doc": "Set the number of vCPUs"
        },
        {
          "name": "cpus",
          "kind": "function",
          "line": 211,
          "visibility": "pub",
          "signature": "fn cpus(self, count: u32)",
          "doc": "Alias for vcpu_count for convenience"
        },
        {
          "name": "memory_mib",
          "kind": "function",
          "line": 216,
          "visibility": "pub",
          "signature": "fn memory_mib(mut self, mib: u32)",
          "doc": "Set memory in MiB"
        },
        {
          "name": "root_disk",
          "kind": "function",
          "line": 222,
          "visibility": "pub",
          "signature": "fn root_disk(mut self, path: impl Into<String>)",
          "doc": "Set the root disk path"
        },
        {
          "name": "root_disk_readonly",
          "kind": "function",
          "line": 228,
          "visibility": "pub",
          "signature": "fn root_disk_readonly(mut self, readonly: bool)",
          "doc": "Set root disk as read-only"
        },
        {
          "name": "kernel_args",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn kernel_args(mut self, args: impl Into<String>)",
          "doc": "Set kernel command line arguments"
        },
        {
          "name": "kernel_image",
          "kind": "function",
          "line": 240,
          "visibility": "pub",
          "signature": "fn kernel_image(mut self, path: impl Into<String>)",
          "doc": "Set the kernel image path"
        },
        {
          "name": "initrd",
          "kind": "function",
          "line": 246,
          "visibility": "pub",
          "signature": "fn initrd(mut self, path: impl Into<String>)",
          "doc": "Set the initrd path"
        },
        {
          "name": "add_virtio_fs",
          "kind": "function",
          "line": 252,
          "visibility": "pub",
          "signature": "fn add_virtio_fs(mut self, mount: VirtioFsMount)",
          "doc": "Add a VirtioFs mount"
        },
        {
          "name": "networking",
          "kind": "function",
          "line": 258,
          "visibility": "pub",
          "signature": "fn networking(mut self, enabled: bool)",
          "doc": "Enable or disable networking"
        },
        {
          "name": "workdir",
          "kind": "function",
          "line": 264,
          "visibility": "pub",
          "signature": "fn workdir(mut self, dir: impl Into<String>)",
          "doc": "Set the working directory"
        },
        {
          "name": "env",
          "kind": "function",
          "line": 270,
          "visibility": "pub",
          "signature": "fn env(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Add an environment variable"
        },
        {
          "name": "build",
          "kind": "function",
          "line": 276,
          "visibility": "pub",
          "signature": "fn build(self)",
          "doc": "Build the configuration, validating all values"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 297,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_config_builder_defaults",
          "kind": "function",
          "line": 301,
          "visibility": "private",
          "signature": "fn test_config_builder_defaults()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_builder_full",
          "kind": "function",
          "line": 313,
          "visibility": "private",
          "signature": "fn test_config_builder_full()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_validation_no_root_disk",
          "kind": "function",
          "line": 335,
          "visibility": "private",
          "signature": "fn test_config_validation_no_root_disk()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_validation_vcpu_zero",
          "kind": "function",
          "line": 343,
          "visibility": "private",
          "signature": "fn test_config_validation_vcpu_zero()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_validation_vcpu_too_high",
          "kind": "function",
          "line": 353,
          "visibility": "private",
          "signature": "fn test_config_validation_vcpu_too_high()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_validation_memory_too_low",
          "kind": "function",
          "line": 363,
          "visibility": "private",
          "signature": "fn test_config_validation_memory_too_low()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_validation_memory_too_high",
          "kind": "function",
          "line": 373,
          "visibility": "private",
          "signature": "fn test_config_validation_memory_too_high()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::VmError"
        },
        {
          "path": "crate::error::VmResult"
        },
        {
          "path": "crate::virtio_fs::VirtioFsMount"
        },
        {
          "path": "VIRTIO_FS_MOUNT_COUNT_MAX"
        },
        {
          "path": "VM_MEMORY_MIB_DEFAULT"
        },
        {
          "path": "VM_MEMORY_MIB_MAX"
        },
        {
          "path": "VM_MEMORY_MIB_MIN"
        },
        {
          "path": "VM_ROOT_DISK_PATH_LENGTH_MAX"
        },
        {
          "path": "VM_VCPU_COUNT_DEFAULT"
        },
        {
          "path": "VM_VCPU_COUNT_MAX"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/backend.rs",
      "symbols": [
        {
          "name": "VmBackend",
          "kind": "enum",
          "line": 25,
          "visibility": "pub"
        },
        {
          "name": "VmInstance for VmBackend",
          "kind": "impl",
          "line": 39,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 40,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 50,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 60,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 70,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 80,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 90,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 100,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 110,
          "visibility": "private",
          "signature": "async fn exec(&self, cmd: &str, args: &[&str])",
          "is_async": true
        },
        {
          "name": "exec_with_options",
          "kind": "function",
          "line": 120,
          "visibility": "private",
          "signature": "async fn exec_with_options(\n        &self,\n        cmd: &str,\n        args: &[&str],\n        options: crate::traits::ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 135,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 145,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &VmSnapshot)",
          "is_async": true
        },
        {
          "name": "VmBackendKind",
          "kind": "enum",
          "line": 158,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy)"
          ]
        },
        {
          "name": "VmBackendFactory",
          "kind": "struct",
          "line": 173,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "VmBackendFactory",
          "kind": "impl",
          "line": 182,
          "visibility": "private"
        },
        {
          "name": "mock",
          "kind": "function",
          "line": 184,
          "visibility": "pub",
          "signature": "fn mock()",
          "doc": "Create a factory with MockVm backend"
        },
        {
          "name": "firecracker",
          "kind": "function",
          "line": 197,
          "visibility": "pub",
          "signature": "fn firecracker(config: FirecrackerConfig)",
          "attributes": [
            "cfg(feature = \"firecracker\")"
          ]
        },
        {
          "name": "vz",
          "kind": "function",
          "line": 209,
          "visibility": "pub",
          "signature": "fn vz(config: VzConfig)",
          "attributes": [
            "cfg(all(feature = \"vz\", target_os = \"macos\"))"
          ]
        },
        {
          "name": "for_host",
          "kind": "function",
          "line": 221,
          "visibility": "pub",
          "signature": "fn for_host()"
        },
        {
          "name": "VmFactory for VmBackendFactory",
          "kind": "impl",
          "line": 237,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "create",
          "kind": "function",
          "line": 238,
          "visibility": "private",
          "signature": "async fn create(&self, config: VmConfig)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 276,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_for_host_vz",
          "kind": "function",
          "line": 281,
          "visibility": "private",
          "signature": "fn test_for_host_vz()",
          "is_test": true,
          "attributes": [
            "cfg(all(feature = \"vz\", target_os = \"macos\"))",
            "test"
          ]
        },
        {
          "name": "test_for_host_firecracker",
          "kind": "function",
          "line": 288,
          "visibility": "private",
          "signature": "fn test_for_host_firecracker()",
          "is_test": true,
          "attributes": [
            "cfg(all(feature = \"firecracker\", target_os = \"linux\"))",
            "test"
          ]
        },
        {
          "name": "test_for_host_mock_fallback",
          "kind": "function",
          "line": 298,
          "visibility": "private",
          "signature": "fn test_for_host_mock_fallback()",
          "is_test": true,
          "attributes": [
            "cfg(not(any(\n        all(feature = \"vz\", target_os = \"macos\"),\n        all(feature = \"firecracker\", target_os = \"linux\")\n    )))",
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "crate::error::VmError"
        },
        {
          "path": "crate::error::VmResult"
        },
        {
          "path": "crate::traits::VmFactory"
        },
        {
          "path": "crate::traits::VmInstance"
        },
        {
          "path": "crate::traits::VmState"
        },
        {
          "path": "MockVm"
        },
        {
          "path": "MockVmFactory"
        },
        {
          "path": "VmConfig"
        },
        {
          "path": "VmSnapshot"
        },
        {
          "path": "crate::backends::firecracker::FirecrackerConfig"
        },
        {
          "path": "crate::backends::firecracker::FirecrackerVm"
        },
        {
          "path": "crate::backends::firecracker::FirecrackerVmFactory"
        },
        {
          "path": "crate::backends::vz::VzConfig"
        },
        {
          "path": "crate::backends::vz::VzVm"
        },
        {
          "path": "crate::backends::vz::VzVmFactory"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/lib.rs",
      "symbols": [
        {
          "name": "backend",
          "kind": "mod",
          "line": 5,
          "visibility": "private"
        },
        {
          "name": "config",
          "kind": "mod",
          "line": 6,
          "visibility": "private"
        },
        {
          "name": "error",
          "kind": "mod",
          "line": 7,
          "visibility": "private"
        },
        {
          "name": "mock",
          "kind": "mod",
          "line": 8,
          "visibility": "private"
        },
        {
          "name": "snapshot",
          "kind": "mod",
          "line": 9,
          "visibility": "private"
        },
        {
          "name": "traits",
          "kind": "mod",
          "line": 10,
          "visibility": "private"
        },
        {
          "name": "virtio_fs",
          "kind": "mod",
          "line": 11,
          "visibility": "private"
        },
        {
          "name": "backends",
          "kind": "mod",
          "line": 14,
          "visibility": "private",
          "attributes": [
            "cfg(any(feature = \"firecracker\", feature = \"vz\"))"
          ]
        },
        {
          "name": "VM_VCPU_COUNT_MAX",
          "kind": "const",
          "line": 36,
          "visibility": "pub",
          "signature": "const VM_VCPU_COUNT_MAX: u32",
          "doc": "Maximum number of vCPUs per VM"
        },
        {
          "name": "VM_MEMORY_MIB_MIN",
          "kind": "const",
          "line": 39,
          "visibility": "pub",
          "signature": "const VM_MEMORY_MIB_MIN: u32",
          "doc": "Minimum memory for a VM in MiB"
        },
        {
          "name": "VM_MEMORY_MIB_MAX",
          "kind": "const",
          "line": 42,
          "visibility": "pub",
          "signature": "const VM_MEMORY_MIB_MAX: u32",
          "doc": "Maximum memory for a VM in MiB (16 GiB)"
        },
        {
          "name": "VM_MEMORY_MIB_DEFAULT",
          "kind": "const",
          "line": 45,
          "visibility": "pub",
          "signature": "const VM_MEMORY_MIB_DEFAULT: u32",
          "doc": "Default memory for a VM in MiB"
        },
        {
          "name": "VM_VCPU_COUNT_DEFAULT",
          "kind": "const",
          "line": 48,
          "visibility": "pub",
          "signature": "const VM_VCPU_COUNT_DEFAULT: u32",
          "doc": "Default number of vCPUs"
        },
        {
          "name": "VM_BOOT_TIMEOUT_MS",
          "kind": "const",
          "line": 51,
          "visibility": "pub",
          "signature": "const VM_BOOT_TIMEOUT_MS: u64",
          "doc": "Boot timeout in milliseconds"
        },
        {
          "name": "VM_EXEC_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 54,
          "visibility": "pub",
          "signature": "const VM_EXEC_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Exec timeout in milliseconds (default)"
        },
        {
          "name": "VM_SNAPSHOT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 57,
          "visibility": "pub",
          "signature": "const VM_SNAPSHOT_SIZE_BYTES_MAX: u64",
          "doc": "Maximum snapshot size in bytes (1 GiB)"
        },
        {
          "name": "VM_ROOT_DISK_PATH_LENGTH_MAX",
          "kind": "const",
          "line": 60,
          "visibility": "pub",
          "signature": "const VM_ROOT_DISK_PATH_LENGTH_MAX: usize",
          "doc": "Maximum root disk path length"
        },
        {
          "name": "VIRTIO_FS_TAG_LENGTH_MAX",
          "kind": "const",
          "line": 63,
          "visibility": "pub",
          "signature": "const VIRTIO_FS_TAG_LENGTH_MAX: usize",
          "doc": "Maximum virtio-fs tag length"
        },
        {
          "name": "VIRTIO_FS_MOUNT_COUNT_MAX",
          "kind": "const",
          "line": 66,
          "visibility": "pub",
          "signature": "const VIRTIO_FS_MOUNT_COUNT_MAX: usize",
          "doc": "Maximum number of virtio-fs mounts per VM"
        }
      ],
      "imports": [
        {
          "path": "backend::VmBackend"
        },
        {
          "path": "backend::VmBackendFactory"
        },
        {
          "path": "backend::VmBackendKind"
        },
        {
          "path": "config::VmConfig"
        },
        {
          "path": "config::VmConfigBuilder"
        },
        {
          "path": "error::VmError"
        },
        {
          "path": "error::VmResult"
        },
        {
          "path": "mock::MockVm"
        },
        {
          "path": "mock::MockVmFactory"
        },
        {
          "path": "snapshot::VmSnapshot"
        },
        {
          "path": "snapshot::VmSnapshotMetadata"
        },
        {
          "path": "traits::ExecOptions",
          "alias": "VmExecOptions"
        },
        {
          "path": "traits::ExecOutput",
          "alias": "VmExecOutput"
        },
        {
          "path": "traits::ExecOptions"
        },
        {
          "path": "traits::ExecOutput"
        },
        {
          "path": "traits::VmFactory"
        },
        {
          "path": "traits::VmInstance"
        },
        {
          "path": "traits::VmState"
        },
        {
          "path": "virtio_fs::VirtioFsConfig"
        },
        {
          "path": "virtio_fs::VirtioFsMount"
        },
        {
          "path": "backends::firecracker::FirecrackerConfig"
        },
        {
          "path": "backends::firecracker::FirecrackerVm"
        },
        {
          "path": "backends::firecracker::FirecrackerVmFactory"
        },
        {
          "path": "backends::vz::VzConfig"
        },
        {
          "path": "backends::vz::VzVm"
        },
        {
          "path": "backends::vz::VzVmFactory"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/mock.rs",
      "symbols": [
        {
          "name": "VM_ID_COUNTER",
          "kind": "static",
          "line": 20,
          "visibility": "private",
          "signature": "static VM_ID_COUNTER: AtomicU64",
          "doc": "Counter for generating unique VM IDs"
        },
        {
          "name": "MockVm",
          "kind": "struct",
          "line": 24,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "MockVm",
          "kind": "impl",
          "line": 47,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 49,
          "visibility": "pub",
          "signature": "fn new(config: VmConfig)",
          "doc": "Create a new mock VM"
        },
        {
          "name": "with_boot_delay",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn with_boot_delay(mut self, delay_ms: u64)",
          "doc": "Set simulated boot delay"
        },
        {
          "name": "with_boot_failure",
          "kind": "function",
          "line": 72,
          "visibility": "pub",
          "signature": "fn with_boot_failure(mut self)",
          "doc": "Configure to simulate boot failure"
        },
        {
          "name": "with_exec_failure",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "fn with_exec_failure(mut self)",
          "doc": "Configure to simulate exec failure"
        },
        {
          "name": "with_architecture",
          "kind": "function",
          "line": 84,
          "visibility": "pub",
          "signature": "fn with_architecture(mut self, arch: impl Into<String>)",
          "doc": "Set the simulated architecture"
        },
        {
          "name": "architecture",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "fn architecture(&self)",
          "doc": "Get the simulated architecture"
        },
        {
          "name": "check_state",
          "kind": "function",
          "line": 95,
          "visibility": "private",
          "signature": "fn check_state(&self, required: VmState)",
          "doc": "Helper to check if VM is in a valid state for operation"
        },
        {
          "name": "VmInstance for MockVm",
          "kind": "impl",
          "line": 115,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 116,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 120,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 124,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 128,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 162,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 178,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 189,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 200,
          "visibility": "private",
          "signature": "async fn exec(&self, cmd: &str, args: &[&str])",
          "is_async": true
        },
        {
          "name": "exec_with_options",
          "kind": "function",
          "line": 205,
          "visibility": "private",
          "signature": "async fn exec_with_options(\n        &self,\n        cmd: &str,\n        args: &[&str],\n        options: ExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 280,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 314,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &VmSnapshot)",
          "is_async": true
        },
        {
          "name": "MockVmFactory",
          "kind": "struct",
          "line": 346,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "MockVmFactory",
          "kind": "impl",
          "line": 351,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 353,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new factory"
        },
        {
          "name": "with_boot_delay",
          "kind": "function",
          "line": 358,
          "visibility": "pub",
          "signature": "fn with_boot_delay(mut self, delay_ms: u64)",
          "doc": "Set default boot delay for VMs created by this factory"
        },
        {
          "name": "create_vm",
          "kind": "function",
          "line": 364,
          "visibility": "pub",
          "signature": "fn create_vm(&self, config: VmConfig)",
          "doc": "Create a new mock VM"
        },
        {
          "name": "crate::traits::VmFactory for MockVmFactory",
          "kind": "impl",
          "line": 371,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "create",
          "kind": "function",
          "line": 372,
          "visibility": "private",
          "signature": "async fn create(&self, config: VmConfig)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 379,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_config",
          "kind": "function",
          "line": 382,
          "visibility": "private",
          "signature": "fn test_config()"
        },
        {
          "name": "test_mock_vm_lifecycle",
          "kind": "function",
          "line": 392,
          "visibility": "private",
          "signature": "async fn test_mock_vm_lifecycle()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_vm_exec",
          "kind": "function",
          "line": 412,
          "visibility": "private",
          "signature": "async fn test_mock_vm_exec()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_vm_exec_not_running",
          "kind": "function",
          "line": 423,
          "visibility": "private",
          "signature": "async fn test_mock_vm_exec_not_running()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_vm_boot_failure",
          "kind": "function",
          "line": 433,
          "visibility": "private",
          "signature": "async fn test_mock_vm_boot_failure()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_vm_exec_failure",
          "kind": "function",
          "line": 443,
          "visibility": "private",
          "signature": "async fn test_mock_vm_exec_failure()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_vm_snapshot_restore",
          "kind": "function",
          "line": 454,
          "visibility": "private",
          "signature": "async fn test_mock_vm_snapshot_restore()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_vm_already_running",
          "kind": "function",
          "line": 477,
          "visibility": "private",
          "signature": "async fn test_mock_vm_already_running()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_vm_factory",
          "kind": "function",
          "line": 488,
          "visibility": "private",
          "signature": "async fn test_mock_vm_factory()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "crate::config::VmConfig"
        },
        {
          "path": "crate::error::VmError"
        },
        {
          "path": "crate::error::VmResult"
        },
        {
          "path": "crate::snapshot::VmSnapshot"
        },
        {
          "path": "crate::snapshot::VmSnapshotMetadata"
        },
        {
          "path": "crate::traits::ExecOptions"
        },
        {
          "path": "crate::traits::ExecOutput"
        },
        {
          "path": "crate::traits::VmInstance"
        },
        {
          "path": "crate::traits::VmState"
        },
        {
          "path": "crate::VM_EXEC_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/virtio_fs.rs",
      "symbols": [
        {
          "name": "VirtioFsConfig",
          "kind": "struct",
          "line": 10,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "VirtioFsConfig",
          "kind": "impl",
          "line": 19,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 21,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create default VirtioFs config"
        },
        {
          "name": "with_dax",
          "kind": "function",
          "line": 30,
          "visibility": "pub",
          "signature": "fn with_dax(mut self, window_mib: u32)",
          "doc": "Enable DAX with specified window size"
        },
        {
          "name": "VirtioFsMount",
          "kind": "struct",
          "line": 39,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "VirtioFsMount",
          "kind": "impl",
          "line": 52,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 54,
          "visibility": "pub",
          "signature": "fn new(\n        tag: impl Into<String>,\n        host_path: impl Into<String>,\n        guest_mount_point: impl Into<String>,\n    )",
          "doc": "Create a new VirtioFs mount"
        },
        {
          "name": "readonly",
          "kind": "function",
          "line": 69,
          "visibility": "pub",
          "signature": "fn readonly(\n        tag: impl Into<String>,\n        host_path: impl Into<String>,\n        guest_mount_point: impl Into<String>,\n    )",
          "doc": "Create a read-only mount"
        },
        {
          "name": "with_config",
          "kind": "function",
          "line": 84,
          "visibility": "pub",
          "signature": "fn with_config(mut self, config: VirtioFsConfig)",
          "doc": "Set the VirtioFs configuration"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "fn validate(&self)",
          "doc": "Validate the mount configuration"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 131,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_virtio_fs_mount_creation",
          "kind": "function",
          "line": 135,
          "visibility": "private",
          "signature": "fn test_virtio_fs_mount_creation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_virtio_fs_mount_readonly",
          "kind": "function",
          "line": 145,
          "visibility": "private",
          "signature": "fn test_virtio_fs_mount_readonly()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_virtio_fs_mount_validation_success",
          "kind": "function",
          "line": 152,
          "visibility": "private",
          "signature": "fn test_virtio_fs_mount_validation_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_virtio_fs_mount_validation_empty_tag",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "fn test_virtio_fs_mount_validation_empty_tag()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_virtio_fs_mount_validation_tag_too_long",
          "kind": "function",
          "line": 165,
          "visibility": "private",
          "signature": "fn test_virtio_fs_mount_validation_tag_too_long()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_virtio_fs_mount_validation_empty_host_path",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "fn test_virtio_fs_mount_validation_empty_host_path()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_virtio_fs_mount_validation_relative_guest_path",
          "kind": "function",
          "line": 180,
          "visibility": "private",
          "signature": "fn test_virtio_fs_mount_validation_relative_guest_path()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_virtio_fs_config_with_dax",
          "kind": "function",
          "line": 187,
          "visibility": "private",
          "signature": "fn test_virtio_fs_config_with_dax()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::VmError"
        },
        {
          "path": "crate::error::VmResult"
        },
        {
          "path": "crate::VIRTIO_FS_TAG_LENGTH_MAX"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/snapshot.rs",
      "symbols": [
        {
          "name": "VmSnapshotMetadata",
          "kind": "struct",
          "line": 13,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "VmSnapshotMetadata",
          "kind": "impl",
          "line": 42,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 44,
          "visibility": "pub",
          "signature": "fn new(\n        snapshot_id: String,\n        vm_id: String,\n        size_bytes: u64,\n        checksum: u32,\n        architecture: String,\n        vcpu_count: u32,\n        memory_mib: u32,\n    )",
          "doc": "Create new snapshot metadata"
        },
        {
          "name": "is_compatible_with",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn is_compatible_with(&self, target_arch: &str)",
          "doc": "Check if this snapshot can be restored to a VM with the given architecture"
        },
        {
          "name": "VmSnapshot",
          "kind": "struct",
          "line": 88,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "VmSnapshot",
          "kind": "impl",
          "line": 96,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 99,
          "visibility": "pub",
          "signature": "fn new(metadata: VmSnapshotMetadata, data: Bytes)"
        },
        {
          "name": "verify_checksum",
          "kind": "function",
          "line": 116,
          "visibility": "pub",
          "signature": "fn verify_checksum(&self)",
          "doc": "Verify the snapshot checksum"
        },
        {
          "name": "size_bytes",
          "kind": "function",
          "line": 122,
          "visibility": "pub",
          "signature": "fn size_bytes(&self)",
          "doc": "Get the snapshot size in bytes"
        },
        {
          "name": "empty",
          "kind": "function",
          "line": 128,
          "visibility": "pub",
          "signature": "fn empty(vm_id: &str)",
          "is_test": true,
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 145,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_snapshot_metadata_creation",
          "kind": "function",
          "line": 149,
          "visibility": "private",
          "signature": "fn test_snapshot_metadata_creation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_compatibility_same_arch",
          "kind": "function",
          "line": 168,
          "visibility": "private",
          "signature": "fn test_snapshot_compatibility_same_arch()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_compatibility_app_checkpoint",
          "kind": "function",
          "line": 184,
          "visibility": "private",
          "signature": "fn test_snapshot_compatibility_app_checkpoint()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_checksum_verification",
          "kind": "function",
          "line": 202,
          "visibility": "private",
          "signature": "fn test_snapshot_checksum_verification()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_checksum_invalid",
          "kind": "function",
          "line": 220,
          "visibility": "private",
          "signature": "fn test_snapshot_checksum_invalid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_snapshot_too_large",
          "kind": "function",
          "line": 238,
          "visibility": "private",
          "signature": "fn test_snapshot_too_large()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "crate::error::VmError"
        },
        {
          "path": "crate::error::VmResult"
        },
        {
          "path": "crate::VM_SNAPSHOT_SIZE_BYTES_MAX"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/traits.rs",
      "symbols": [
        {
          "name": "VmState",
          "kind": "enum",
          "line": 14,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "std::fmt::Display for VmState",
          "kind": "impl",
          "line": 29,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 30,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "ExecOutput",
          "kind": "struct",
          "line": 44,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "ExecOutput",
          "kind": "impl",
          "line": 53,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 55,
          "visibility": "pub",
          "signature": "fn new(exit_code: i32, stdout: impl Into<Bytes>, stderr: impl Into<Bytes>)",
          "doc": "Create a new ExecOutput"
        },
        {
          "name": "success",
          "kind": "function",
          "line": 64,
          "visibility": "pub",
          "signature": "fn success(&self)",
          "doc": "Check if the command succeeded (exit code 0)"
        },
        {
          "name": "stdout_str",
          "kind": "function",
          "line": 69,
          "visibility": "pub",
          "signature": "fn stdout_str(&self)",
          "doc": "Get stdout as string (lossy UTF-8 conversion)"
        },
        {
          "name": "stderr_str",
          "kind": "function",
          "line": 74,
          "visibility": "pub",
          "signature": "fn stderr_str(&self)",
          "doc": "Get stderr as string (lossy UTF-8 conversion)"
        },
        {
          "name": "ExecOptions",
          "kind": "struct",
          "line": 81,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "ExecOptions",
          "kind": "impl",
          "line": 92,
          "visibility": "private"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 94,
          "visibility": "pub",
          "signature": "fn with_timeout(timeout_ms: u64)",
          "doc": "Create new exec options with a timeout"
        },
        {
          "name": "VmInstance",
          "kind": "trait",
          "line": 109,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "VmFactory",
          "kind": "trait",
          "line": 169,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 186,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_vm_state_display",
          "kind": "function",
          "line": 190,
          "visibility": "private",
          "signature": "fn test_vm_state_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exec_output",
          "kind": "function",
          "line": 199,
          "visibility": "private",
          "signature": "fn test_exec_output()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exec_output_failure",
          "kind": "function",
          "line": 207,
          "visibility": "private",
          "signature": "fn test_exec_output_failure()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "crate::config::VmConfig"
        },
        {
          "path": "crate::error::VmResult"
        },
        {
          "path": "crate::snapshot::VmSnapshot"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/backends/vz.rs",
      "symbols": [
        {
          "name": "KelpieVzVmHandle",
          "kind": "struct",
          "line": 28,
          "visibility": "private",
          "attributes": [
            "repr(C)"
          ]
        },
        {
          "name": "VZ_VSOCK_PORT_DEFAULT",
          "kind": "const",
          "line": 75,
          "visibility": "pub",
          "signature": "const VZ_VSOCK_PORT_DEFAULT: u32",
          "doc": "Default vsock port for Kelpie guest agent (matches guest agent default)"
        },
        {
          "name": "VzConfig",
          "kind": "struct",
          "line": 79,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for VzConfig",
          "kind": "impl",
          "line": 86,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 87,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "VzVmFactory",
          "kind": "struct",
          "line": 97,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "VzVmFactory",
          "kind": "impl",
          "line": 101,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 103,
          "visibility": "pub",
          "signature": "fn new(config: VzConfig)",
          "doc": "Create a new factory"
        },
        {
          "name": "create_vm",
          "kind": "function",
          "line": 108,
          "visibility": "pub",
          "signature": "async fn create_vm(&self, config: VmConfig)",
          "doc": "Create a new VZ VM",
          "is_async": true
        },
        {
          "name": "Default for VzVmFactory",
          "kind": "impl",
          "line": 113,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 114,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "VzVm",
          "kind": "struct",
          "line": 121,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "Send for VzVm",
          "kind": "impl",
          "line": 129,
          "visibility": "private"
        },
        {
          "name": "Sync for VzVm",
          "kind": "impl",
          "line": 130,
          "visibility": "private"
        },
        {
          "name": "VzVm",
          "kind": "impl",
          "line": 132,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 133,
          "visibility": "private",
          "signature": "fn new(config: VmConfig, vz_config: VzConfig)"
        },
        {
          "name": "set_state",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "fn set_state(&self, next: VmState)"
        },
        {
          "name": "snapshot_path",
          "kind": "function",
          "line": 218,
          "visibility": "private",
          "signature": "fn snapshot_path(&self, snapshot_id: &str)"
        },
        {
          "name": "save_state_to_path",
          "kind": "function",
          "line": 224,
          "visibility": "private",
          "signature": "async fn save_state_to_path(&self, path: &Path)",
          "is_async": true
        },
        {
          "name": "restore_state_from_path",
          "kind": "function",
          "line": 249,
          "visibility": "private",
          "signature": "async fn restore_state_from_path(&self, path: &Path)",
          "is_async": true
        },
        {
          "name": "exec_via_vsock",
          "kind": "function",
          "line": 268,
          "visibility": "private",
          "signature": "async fn exec_via_vsock(\n        &self,\n        cmd: &str,\n        args: &[&str],\n        options: VmExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "Drop for VzVm",
          "kind": "impl",
          "line": 364,
          "visibility": "private"
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 365,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        },
        {
          "name": "VmFactory for VzVmFactory",
          "kind": "impl",
          "line": 373,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "create",
          "kind": "function",
          "line": 374,
          "visibility": "private",
          "signature": "async fn create(&self, config: VmConfig)",
          "is_async": true
        },
        {
          "name": "VmInstance for VzVm",
          "kind": "impl",
          "line": 381,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 382,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 386,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 393,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 397,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 420,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 441,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 461,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 481,
          "visibility": "private",
          "signature": "async fn exec(&self, cmd: &str, args: &[&str])",
          "is_async": true
        },
        {
          "name": "exec_with_options",
          "kind": "function",
          "line": 486,
          "visibility": "private",
          "signature": "async fn exec_with_options(\n        &self,\n        cmd: &str,\n        args: &[&str],\n        options: VmExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 517,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 558,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &VmSnapshot)",
          "is_async": true
        },
        {
          "name": "VzVm",
          "kind": "impl",
          "line": 594,
          "visibility": "private"
        },
        {
          "name": "pause_internal",
          "kind": "function",
          "line": 595,
          "visibility": "private",
          "signature": "async fn pause_internal(&self)",
          "is_async": true
        },
        {
          "name": "resume_internal",
          "kind": "function",
          "line": 607,
          "visibility": "private",
          "signature": "async fn resume_internal(&self)",
          "is_async": true
        },
        {
          "name": "take_error",
          "kind": "function",
          "line": 620,
          "visibility": "private",
          "signature": "fn take_error(context: &str, error_ptr: *mut c_char)"
        },
        {
          "name": "VzVsockGuard",
          "kind": "struct",
          "line": 634,
          "visibility": "private"
        },
        {
          "name": "Send for VzVsockGuard",
          "kind": "impl",
          "line": 639,
          "visibility": "private"
        },
        {
          "name": "VzVsockGuard",
          "kind": "impl",
          "line": 641,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 642,
          "visibility": "private",
          "signature": "fn new(handle: *mut KelpieVzVmHandle, fd: c_int)"
        },
        {
          "name": "Drop for VzVsockGuard",
          "kind": "impl",
          "line": 647,
          "visibility": "private"
        },
        {
          "name": "drop",
          "kind": "function",
          "line": 648,
          "visibility": "private",
          "signature": "fn drop(&mut self)"
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "libc::c_char"
        },
        {
          "path": "libc::c_int"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::ffi::CStr"
        },
        {
          "path": "std::ffi::CString"
        },
        {
          "path": "std::mem::ManuallyDrop"
        },
        {
          "path": "std::os::unix::io::FromRawFd"
        },
        {
          "path": "std::path::Path"
        },
        {
          "path": "std::path::PathBuf"
        },
        {
          "path": "std::sync::Mutex"
        },
        {
          "path": "tokio::io::AsyncReadExt"
        },
        {
          "path": "tokio::io::AsyncWriteExt"
        },
        {
          "path": "tokio::net::UnixStream"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "crate::error::VmError"
        },
        {
          "path": "crate::error::VmResult"
        },
        {
          "path": "crate::snapshot::VmSnapshot"
        },
        {
          "path": "crate::snapshot::VmSnapshotMetadata"
        },
        {
          "path": "crate::traits::ExecOptions",
          "alias": "VmExecOptions"
        },
        {
          "path": "crate::traits::ExecOutput",
          "alias": "VmExecOutput"
        },
        {
          "path": "crate::traits::VmFactory"
        },
        {
          "path": "crate::traits::VmInstance"
        },
        {
          "path": "crate::traits::VmState"
        },
        {
          "path": "VmConfig"
        },
        {
          "path": "VM_EXEC_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "kelpie_core::Runtime"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/backends/firecracker.rs",
      "symbols": [
        {
          "name": "FirecrackerVmFactory",
          "kind": "struct",
          "line": 25,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "FirecrackerVmFactory",
          "kind": "impl",
          "line": 29,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 31,
          "visibility": "pub",
          "signature": "fn new(base_config: FirecrackerConfig)",
          "doc": "Create a new factory with a base Firecracker configuration"
        },
        {
          "name": "create_vm",
          "kind": "function",
          "line": 36,
          "visibility": "pub",
          "signature": "async fn create_vm(&self, config: VmConfig)",
          "doc": "Create a Firecracker VM instance",
          "is_async": true
        },
        {
          "name": "Default for FirecrackerVmFactory",
          "kind": "impl",
          "line": 41,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 42,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "FirecrackerVm",
          "kind": "struct",
          "line": 48,
          "visibility": "pub",
          "doc": "Firecracker VM instance backed by kelpie-sandbox"
        },
        {
          "name": "std::fmt::Debug for FirecrackerVm",
          "kind": "impl",
          "line": 56,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 57,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "FirecrackerVm",
          "kind": "impl",
          "line": 67,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 68,
          "visibility": "private",
          "signature": "async fn new(config: VmConfig, base_config: &FirecrackerConfig)",
          "is_async": true
        },
        {
          "name": "set_state",
          "kind": "function",
          "line": 132,
          "visibility": "private",
          "signature": "fn set_state(&self, next: VmState)"
        },
        {
          "name": "snapshot_paths",
          "kind": "function",
          "line": 138,
          "visibility": "private",
          "signature": "fn snapshot_paths(base_path: &Path)"
        },
        {
          "name": "read_snapshot_blob",
          "kind": "function",
          "line": 145,
          "visibility": "private",
          "signature": "async fn read_snapshot_blob(&self, base_path: &Path)",
          "is_async": true
        },
        {
          "name": "write_snapshot_blob",
          "kind": "function",
          "line": 168,
          "visibility": "private",
          "signature": "async fn write_snapshot_blob(&self, snapshot: &VmSnapshot)",
          "is_async": true
        },
        {
          "name": "cleanup_snapshot_files",
          "kind": "function",
          "line": 197,
          "visibility": "private",
          "signature": "async fn cleanup_snapshot_files(&self, state_path: &Path, mem_path: &Path)",
          "is_async": true
        },
        {
          "name": "VmFactory for FirecrackerVmFactory",
          "kind": "impl",
          "line": 204,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "create",
          "kind": "function",
          "line": 205,
          "visibility": "private",
          "signature": "async fn create(&self, config: VmConfig)",
          "is_async": true
        },
        {
          "name": "VmInstance for FirecrackerVm",
          "kind": "impl",
          "line": 212,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "id",
          "kind": "function",
          "line": 213,
          "visibility": "private",
          "signature": "fn id(&self)"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 217,
          "visibility": "private",
          "signature": "fn state(&self)"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 224,
          "visibility": "private",
          "signature": "fn config(&self)"
        },
        {
          "name": "start",
          "kind": "function",
          "line": 228,
          "visibility": "private",
          "signature": "async fn start(&mut self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 251,
          "visibility": "private",
          "signature": "async fn stop(&mut self)",
          "is_async": true
        },
        {
          "name": "pause",
          "kind": "function",
          "line": 272,
          "visibility": "private",
          "signature": "async fn pause(&mut self)",
          "is_async": true
        },
        {
          "name": "resume",
          "kind": "function",
          "line": 293,
          "visibility": "private",
          "signature": "async fn resume(&mut self)",
          "is_async": true
        },
        {
          "name": "exec",
          "kind": "function",
          "line": 314,
          "visibility": "private",
          "signature": "async fn exec(&self, cmd: &str, args: &[&str])",
          "is_async": true
        },
        {
          "name": "exec_with_options",
          "kind": "function",
          "line": 319,
          "visibility": "private",
          "signature": "async fn exec_with_options(\n        &self,\n        cmd: &str,\n        args: &[&str],\n        options: VmExecOptions,\n    )",
          "is_async": true
        },
        {
          "name": "snapshot",
          "kind": "function",
          "line": 342,
          "visibility": "private",
          "signature": "async fn snapshot(&self)",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 378,
          "visibility": "private",
          "signature": "async fn restore(&mut self, snapshot: &VmSnapshot)",
          "is_async": true
        },
        {
          "name": "to_sandbox_exec_options",
          "kind": "function",
          "line": 406,
          "visibility": "private",
          "signature": "fn to_sandbox_exec_options(options: VmExecOptions)"
        },
        {
          "name": "map_exec_output",
          "kind": "function",
          "line": 416,
          "visibility": "private",
          "signature": "fn map_exec_output(output: SandboxExecOutput)"
        },
        {
          "name": "map_sandbox_error",
          "kind": "function",
          "line": 420,
          "visibility": "private",
          "signature": "fn map_sandbox_error(err: SandboxError)"
        }
      ],
      "imports": [
        {
          "path": "ExecOptions",
          "alias": "VmExecOptions"
        },
        {
          "path": "ExecOutput",
          "alias": "VmExecOutput"
        },
        {
          "path": "VmConfig"
        },
        {
          "path": "VmError"
        },
        {
          "path": "VmFactory"
        },
        {
          "path": "VmInstance"
        },
        {
          "path": "VmResult"
        },
        {
          "path": "VmSnapshot"
        },
        {
          "path": "VmSnapshotMetadata"
        },
        {
          "path": "VmState"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::teleport::VmSnapshotBlob"
        },
        {
          "path": "kelpie_sandbox::FirecrackerConfig"
        },
        {
          "path": "kelpie_sandbox::ExecOptions",
          "alias": "SandboxExecOptions"
        },
        {
          "path": "kelpie_sandbox::ExecOutput",
          "alias": "SandboxExecOutput"
        },
        {
          "path": "kelpie_sandbox::FirecrackerSandbox"
        },
        {
          "path": "kelpie_sandbox::ResourceLimits"
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "kelpie_sandbox::SandboxError"
        },
        {
          "path": "std::path::Path"
        },
        {
          "path": "std::path::PathBuf"
        },
        {
          "path": "std::sync::Mutex"
        },
        {
          "path": "tokio::sync::Mutex",
          "alias": "AsyncMutex"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "uuid::Uuid"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-vm/src/backends/mod.rs",
      "symbols": [
        {
          "name": "firecracker",
          "kind": "mod",
          "line": 2,
          "visibility": "pub",
          "attributes": [
            "cfg(feature = \"firecracker\")"
          ]
        },
        {
          "name": "vz",
          "kind": "mod",
          "line": 5,
          "visibility": "pub",
          "attributes": [
            "cfg(all(feature = \"vz\", target_os = \"macos\"))"
          ]
        }
      ],
      "imports": [],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cluster/src/error.rs",
      "symbols": [
        {
          "name": "ClusterError",
          "kind": "enum",
          "line": 10,
          "visibility": "pub",
          "attributes": [
            "derive(Error, Debug)"
          ]
        },
        {
          "name": "ClusterError",
          "kind": "impl",
          "line": 77,
          "visibility": "private"
        },
        {
          "name": "node_unreachable",
          "kind": "function",
          "line": 79,
          "visibility": "pub",
          "signature": "fn node_unreachable(node_id: &NodeId, reason: impl Into<String>)",
          "doc": "Create a node unreachable error"
        },
        {
          "name": "rpc_failed",
          "kind": "function",
          "line": 87,
          "visibility": "pub",
          "signature": "fn rpc_failed(node_id: &NodeId, reason: impl Into<String>)",
          "doc": "Create an RPC failed error"
        },
        {
          "name": "rpc_timeout",
          "kind": "function",
          "line": 95,
          "visibility": "pub",
          "signature": "fn rpc_timeout(node_id: &NodeId, timeout_ms: u64)",
          "doc": "Create an RPC timeout error"
        },
        {
          "name": "no_quorum",
          "kind": "function",
          "line": 103,
          "visibility": "pub",
          "signature": "fn no_quorum(\n        available_nodes: usize,\n        total_nodes: usize,\n        operation: impl Into<String>,\n    )",
          "doc": "Create a no quorum error"
        },
        {
          "name": "check_quorum",
          "kind": "function",
          "line": 118,
          "visibility": "pub",
          "signature": "fn check_quorum(\n        available: usize,\n        total: usize,\n        operation: impl Into<String>,\n    )",
          "doc": "Check if we have quorum (strict majority)\n\nQuorum requires > total/2 nodes (e.g., 3 of 5, 2 of 3)."
        },
        {
          "name": "is_retriable",
          "kind": "function",
          "line": 131,
          "visibility": "pub",
          "signature": "fn is_retriable(&self)",
          "doc": "Check if this error is retriable"
        },
        {
          "name": "ClusterResult",
          "kind": "type_alias",
          "line": 143,
          "visibility": "pub",
          "doc": "Result type for cluster operations"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 146,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_error_display",
          "kind": "function",
          "line": 150,
          "visibility": "private",
          "signature": "fn test_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_error_retriable",
          "kind": "function",
          "line": 156,
          "visibility": "private",
          "signature": "fn test_error_retriable()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "kelpie_registry::NodeId"
        },
        {
          "path": "kelpie_registry::RegistryError"
        },
        {
          "path": "thiserror::Error"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cluster/src/handler.rs",
      "symbols": [
        {
          "name": "ActorInvoker",
          "kind": "trait",
          "line": 17,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MigrationReceiver",
          "kind": "trait",
          "line": 29,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "PendingMigration",
          "kind": "struct",
          "line": 42,
          "visibility": "private",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "ClusterRpcHandler",
          "kind": "struct",
          "line": 56,
          "visibility": "pub",
          "doc": "Handler for incoming cluster RPC messages",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "ClusterRpcHandler<R>",
          "kind": "impl",
          "line": 69,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 71,
          "visibility": "pub",
          "signature": "fn new(\n        local_node_id: NodeId,\n        registry: Arc<R>,\n        invoker: Arc<dyn ActorInvoker>,\n        migration_receiver: Arc<dyn MigrationReceiver>,\n    )",
          "doc": "Create a new cluster RPC handler"
        },
        {
          "name": "handle_actor_invoke",
          "kind": "function",
          "line": 87,
          "visibility": "private",
          "signature": "async fn handle_actor_invoke(\n        &self,\n        request_id: u64,\n        actor_id: ActorId,\n        operation: String,\n        payload: Bytes,\n    )",
          "doc": "Handle actor invocation request",
          "is_async": true
        },
        {
          "name": "handle_migrate_prepare",
          "kind": "function",
          "line": 165,
          "visibility": "private",
          "signature": "async fn handle_migrate_prepare(\n        &self,\n        request_id: u64,\n        actor_id: ActorId,\n        from_node: NodeId,\n    )",
          "doc": "Handle migration prepare request",
          "is_async": true
        },
        {
          "name": "handle_migrate_transfer",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "async fn handle_migrate_transfer(\n        &self,\n        request_id: u64,\n        actor_id: ActorId,\n        state: Bytes,\n        from_node: NodeId,\n    )",
          "doc": "Handle migration transfer request",
          "is_async": true
        },
        {
          "name": "handle_migrate_complete",
          "kind": "function",
          "line": 275,
          "visibility": "private",
          "signature": "async fn handle_migrate_complete(&self, request_id: u64, actor_id: ActorId)",
          "doc": "Handle migration complete request",
          "is_async": true
        },
        {
          "name": "handle_heartbeat",
          "kind": "function",
          "line": 330,
          "visibility": "private",
          "signature": "async fn handle_heartbeat(&self, heartbeat: kelpie_registry::Heartbeat)",
          "doc": "Handle heartbeat (process and update registry)",
          "is_async": true
        },
        {
          "name": "handle_leave_notification",
          "kind": "function",
          "line": 350,
          "visibility": "private",
          "signature": "async fn handle_leave_notification(&self, node_id: NodeId)",
          "doc": "Handle leave notification",
          "is_async": true
        },
        {
          "name": "RpcHandler for ClusterRpcHandler<R>",
          "kind": "impl",
          "line": 367,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "handle",
          "kind": "function",
          "line": 368,
          "visibility": "private",
          "signature": "async fn handle(&self, from: &NodeId, message: RpcMessage)",
          "is_async": true
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 440,
          "visibility": "private",
          "signature": "fn now_ms()",
          "doc": "Get current time in milliseconds"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 448,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 453,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_actor_id",
          "kind": "function",
          "line": 457,
          "visibility": "private",
          "signature": "fn test_actor_id(n: u32)"
        },
        {
          "name": "MockInvoker",
          "kind": "struct",
          "line": 462,
          "visibility": "private",
          "doc": "Mock invoker for testing"
        },
        {
          "name": "MockInvoker",
          "kind": "impl",
          "line": 466,
          "visibility": "private"
        },
        {
          "name": "ActorInvoker for MockInvoker",
          "kind": "impl",
          "line": 480,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MockMigrationReceiver",
          "kind": "struct",
          "line": 496,
          "visibility": "private",
          "doc": "Mock migration receiver for testing"
        },
        {
          "name": "MockMigrationReceiver",
          "kind": "impl",
          "line": 502,
          "visibility": "private"
        },
        {
          "name": "MigrationReceiver for MockMigrationReceiver",
          "kind": "impl",
          "line": 521,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_handle_actor_invoke",
          "kind": "function",
          "line": 540,
          "visibility": "private",
          "signature": "async fn test_handle_actor_invoke()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_handle_migration_flow",
          "kind": "function",
          "line": 588,
          "visibility": "private",
          "signature": "async fn test_handle_migration_flow()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_handle_migration_prepare_rejected",
          "kind": "function",
          "line": 654,
          "visibility": "private",
          "signature": "async fn test_handle_migration_prepare_rejected()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::rpc::RpcHandler"
        },
        {
          "path": "crate::rpc::RpcMessage"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_registry::NodeId"
        },
        {
          "path": "kelpie_registry::PlacementDecision"
        },
        {
          "path": "kelpie_registry::Registry"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_registry::MemoryRegistry"
        },
        {
          "path": "std::sync::Mutex"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cluster/src/config.rs",
      "symbols": [
        {
          "name": "BOOTSTRAP_RETRY_COUNT_MAX",
          "kind": "const",
          "line": 12,
          "visibility": "pub",
          "signature": "const BOOTSTRAP_RETRY_COUNT_MAX: u32",
          "doc": "Maximum bootstrap retry count"
        },
        {
          "name": "BOOTSTRAP_RETRY_INTERVAL_MS",
          "kind": "const",
          "line": 15,
          "visibility": "pub",
          "signature": "const BOOTSTRAP_RETRY_INTERVAL_MS: u64",
          "doc": "Bootstrap retry interval in milliseconds"
        },
        {
          "name": "MIGRATION_BATCH_SIZE_DEFAULT",
          "kind": "const",
          "line": 18,
          "visibility": "pub",
          "signature": "const MIGRATION_BATCH_SIZE_DEFAULT: usize",
          "doc": "Actor migration batch size"
        },
        {
          "name": "ClusterConfig",
          "kind": "struct",
          "line": 22,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Default for ClusterConfig",
          "kind": "impl",
          "line": 41,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 42,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ClusterConfig",
          "kind": "impl",
          "line": 56,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 58,
          "visibility": "pub",
          "signature": "fn new(rpc_addr: SocketAddr)",
          "doc": "Create a new cluster configuration"
        },
        {
          "name": "single_node",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn single_node(rpc_addr: SocketAddr)",
          "doc": "Create configuration for single-node deployment"
        },
        {
          "name": "with_seed_nodes",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn with_seed_nodes(mut self, seeds: Vec<SocketAddr>)",
          "doc": "Set seed nodes"
        },
        {
          "name": "with_heartbeat_interval",
          "kind": "function",
          "line": 81,
          "visibility": "pub",
          "signature": "fn with_heartbeat_interval(mut self, interval_ms: u64)",
          "doc": "Set heartbeat interval"
        },
        {
          "name": "with_rpc_timeout",
          "kind": "function",
          "line": 87,
          "visibility": "pub",
          "signature": "fn with_rpc_timeout(mut self, timeout_ms: u64)",
          "doc": "Set RPC timeout"
        },
        {
          "name": "without_auto_migrate",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn without_auto_migrate(mut self)",
          "doc": "Disable auto-migration"
        },
        {
          "name": "without_drain",
          "kind": "function",
          "line": 99,
          "visibility": "pub",
          "signature": "fn without_drain(mut self)",
          "doc": "Disable drain on shutdown"
        },
        {
          "name": "rpc_timeout",
          "kind": "function",
          "line": 105,
          "visibility": "pub",
          "signature": "fn rpc_timeout(&self)",
          "doc": "Get RPC timeout as Duration"
        },
        {
          "name": "drain_timeout",
          "kind": "function",
          "line": 110,
          "visibility": "pub",
          "signature": "fn drain_timeout(&self)",
          "doc": "Get drain timeout as Duration"
        },
        {
          "name": "is_single_node",
          "kind": "function",
          "line": 115,
          "visibility": "pub",
          "signature": "fn is_single_node(&self)",
          "doc": "Check if this is a single-node configuration"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 120,
          "visibility": "pub",
          "signature": "fn validate(&self)",
          "doc": "Validate configuration"
        },
        {
          "name": "ClusterConfig",
          "kind": "impl",
          "line": 137,
          "visibility": "private"
        },
        {
          "name": "for_testing",
          "kind": "function",
          "line": 139,
          "visibility": "pub",
          "signature": "fn for_testing()",
          "doc": "Create configuration for testing with short timeouts"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 154,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_config_default",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "fn test_config_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_single_node",
          "kind": "function",
          "line": 166,
          "visibility": "private",
          "signature": "fn test_config_single_node()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_with_seeds",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "fn test_config_with_seeds()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_validation",
          "kind": "function",
          "line": 185,
          "visibility": "private",
          "signature": "fn test_config_validation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_config_durations",
          "kind": "function",
          "line": 197,
          "visibility": "private",
          "signature": "fn test_config_durations()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "kelpie_core::constants::RPC_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "kelpie_registry::HeartbeatConfig"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::net::SocketAddr"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cluster/src/lib.rs",
      "symbols": [
        {
          "name": "cluster",
          "kind": "mod",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "config",
          "kind": "mod",
          "line": 38,
          "visibility": "private"
        },
        {
          "name": "error",
          "kind": "mod",
          "line": 39,
          "visibility": "private"
        },
        {
          "name": "handler",
          "kind": "mod",
          "line": 40,
          "visibility": "private"
        },
        {
          "name": "migration",
          "kind": "mod",
          "line": 41,
          "visibility": "private"
        },
        {
          "name": "rpc",
          "kind": "mod",
          "line": 42,
          "visibility": "private"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 55,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_addr",
          "kind": "function",
          "line": 62,
          "visibility": "private",
          "signature": "fn test_addr()"
        },
        {
          "name": "test_runtime",
          "kind": "function",
          "line": 66,
          "visibility": "private",
          "signature": "fn test_runtime()"
        },
        {
          "name": "test_cluster_module_compiles",
          "kind": "function",
          "line": 71,
          "visibility": "private",
          "signature": "fn test_cluster_module_compiles()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_cluster_basic",
          "kind": "function",
          "line": 78,
          "visibility": "private",
          "signature": "async fn test_cluster_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "cluster::Cluster"
        },
        {
          "path": "cluster::ClusterState"
        },
        {
          "path": "config::ClusterConfig"
        },
        {
          "path": "config::BOOTSTRAP_RETRY_COUNT_MAX"
        },
        {
          "path": "config::BOOTSTRAP_RETRY_INTERVAL_MS"
        },
        {
          "path": "config::MIGRATION_BATCH_SIZE_DEFAULT"
        },
        {
          "path": "error::ClusterError"
        },
        {
          "path": "error::ClusterResult"
        },
        {
          "path": "handler::ActorInvoker"
        },
        {
          "path": "handler::ClusterRpcHandler"
        },
        {
          "path": "handler::MigrationReceiver"
        },
        {
          "path": "migration::plan_migrations"
        },
        {
          "path": "migration::MigrationCoordinator"
        },
        {
          "path": "migration::MigrationInfo"
        },
        {
          "path": "migration::MigrationState"
        },
        {
          "path": "rpc::MemoryTransport"
        },
        {
          "path": "rpc::RequestId"
        },
        {
          "path": "rpc::RpcHandler"
        },
        {
          "path": "rpc::RpcMessage"
        },
        {
          "path": "rpc::RpcTransport"
        },
        {
          "path": "rpc::TcpTransport"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_core::TokioRuntime"
        },
        {
          "path": "kelpie_registry::MemoryRegistry"
        },
        {
          "path": "kelpie_registry::NodeId"
        },
        {
          "path": "kelpie_registry::NodeInfo"
        },
        {
          "path": "kelpie_registry::NodeStatus"
        },
        {
          "path": "std::net::IpAddr"
        },
        {
          "path": "std::net::Ipv4Addr"
        },
        {
          "path": "std::net::SocketAddr"
        },
        {
          "path": "std::sync::Arc"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cluster/src/migration.rs",
      "symbols": [
        {
          "name": "MigrationState",
          "kind": "enum",
          "line": 21,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "MigrationState",
          "kind": "impl",
          "line": 36,
          "visibility": "private"
        },
        {
          "name": "is_in_progress",
          "kind": "function",
          "line": 38,
          "visibility": "pub",
          "signature": "fn is_in_progress(&self)",
          "doc": "Check if migration is in progress"
        },
        {
          "name": "is_terminal",
          "kind": "function",
          "line": 46,
          "visibility": "pub",
          "signature": "fn is_terminal(&self)",
          "doc": "Check if migration is terminal"
        },
        {
          "name": "MigrationInfo",
          "kind": "struct",
          "line": 53,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "MigrationInfo",
          "kind": "impl",
          "line": 70,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 72,
          "visibility": "pub",
          "signature": "fn new(actor_id: ActorId, from_node: NodeId, to_node: NodeId, timestamp_ms: u64)",
          "doc": "Create a new migration info"
        },
        {
          "name": "fail",
          "kind": "function",
          "line": 85,
          "visibility": "pub",
          "signature": "fn fail(&mut self, error: impl Into<String>, timestamp_ms: u64)",
          "doc": "Mark migration as failed"
        },
        {
          "name": "complete",
          "kind": "function",
          "line": 92,
          "visibility": "pub",
          "signature": "fn complete(&mut self, timestamp_ms: u64)",
          "doc": "Mark migration as completed"
        },
        {
          "name": "MigrationCoordinator",
          "kind": "struct",
          "line": 101,
          "visibility": "pub",
          "doc": "Migration coordinator\n\nHandles the migration protocol between nodes.",
          "generic_params": [
            "R",
            "T"
          ]
        },
        {
          "name": "MigrationCoordinator<R, T>",
          "kind": "impl",
          "line": 119,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 121,
          "visibility": "pub",
          "signature": "fn new(\n        local_node_id: NodeId,\n        registry: Arc<R>,\n        transport: Arc<T>,\n        rpc_timeout: Duration,\n    )",
          "doc": "Create a new migration coordinator"
        },
        {
          "name": "next_request_id",
          "kind": "function",
          "line": 139,
          "visibility": "private",
          "signature": "fn next_request_id(&self)",
          "doc": "Get next request ID"
        },
        {
          "name": "is_on_cooldown",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "async fn is_on_cooldown(&self, actor_id: &ActorId, now_ms: u64)",
          "doc": "Check if actor is on cooldown",
          "is_async": true
        },
        {
          "name": "set_cooldown",
          "kind": "function",
          "line": 154,
          "visibility": "private",
          "signature": "async fn set_cooldown(&self, actor_id: &ActorId, now_ms: u64)",
          "doc": "Set cooldown for an actor",
          "is_async": true
        },
        {
          "name": "get_migration_info",
          "kind": "function",
          "line": 160,
          "visibility": "pub",
          "signature": "async fn get_migration_info(&self, actor_id: &ActorId)",
          "doc": "Get current migration info for an actor",
          "is_async": true
        },
        {
          "name": "migrate",
          "kind": "function",
          "line": 171,
          "visibility": "pub",
          "signature": "async fn migrate(\n        &self,\n        actor_id: ActorId,\n        from_node: NodeId,\n        to_node: NodeId,\n        state: Bytes,\n        now_ms: u64,\n    )",
          "doc": "Migrate an actor from source to target node\n\nThis is a high-level migration that coordinates the full protocol:\n1. Prepare (acquire locks, check target capacity)\n2. Transfer (serialize and send state)\n3. Complete (activate on target, deactivate on source)",
          "is_async": true
        },
        {
          "name": "prepare_migration",
          "kind": "function",
          "line": 271,
          "visibility": "private",
          "signature": "async fn prepare_migration(\n        &self,\n        actor_id: &ActorId,\n        from_node: &NodeId,\n        to_node: &NodeId,\n    )",
          "doc": "Prepare migration on target node",
          "is_async": true
        },
        {
          "name": "transfer_state",
          "kind": "function",
          "line": 318,
          "visibility": "private",
          "signature": "async fn transfer_state(\n        &self,\n        actor_id: &ActorId,\n        from_node: &NodeId,\n        to_node: &NodeId,\n        state: Bytes,\n    )",
          "doc": "Transfer actor state to target node",
          "is_async": true
        },
        {
          "name": "complete_migration",
          "kind": "function",
          "line": 368,
          "visibility": "private",
          "signature": "async fn complete_migration(&self, actor_id: &ActorId, to_node: &NodeId)",
          "doc": "Complete migration on target node",
          "is_async": true
        },
        {
          "name": "update_migration",
          "kind": "function",
          "line": 408,
          "visibility": "private",
          "signature": "async fn update_migration(&self, actor_id: &ActorId, info: &MigrationInfo)",
          "doc": "Update migration info in tracking map",
          "is_async": true
        },
        {
          "name": "get_in_progress_migrations",
          "kind": "function",
          "line": 414,
          "visibility": "pub",
          "signature": "async fn get_in_progress_migrations(&self)",
          "doc": "Get all in-progress migrations",
          "is_async": true
        },
        {
          "name": "cleanup_completed",
          "kind": "function",
          "line": 424,
          "visibility": "pub",
          "signature": "async fn cleanup_completed(&self, older_than_ms: u64)",
          "doc": "Clean up completed migrations older than a threshold",
          "is_async": true
        },
        {
          "name": "plan_migrations",
          "kind": "function",
          "line": 439,
          "visibility": "pub",
          "signature": "async fn plan_migrations<R>(\n    registry: &R,\n    failed_node: &NodeId,\n    max_batch: usize,\n)",
          "doc": "Plan migrations for failed node\n\nReturns a list of (actor_id, target_node) pairs for actors that should be migrated.",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 479,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_actor_id",
          "kind": "function",
          "line": 482,
          "visibility": "private",
          "signature": "fn test_actor_id(n: u32)"
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 486,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_migration_state",
          "kind": "function",
          "line": 491,
          "visibility": "private",
          "signature": "fn test_migration_state()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_info",
          "kind": "function",
          "line": 505,
          "visibility": "private",
          "signature": "fn test_migration_info()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_migration_info_fail",
          "kind": "function",
          "line": 517,
          "visibility": "private",
          "signature": "fn test_migration_info_fail()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ClusterError"
        },
        {
          "path": "crate::error::ClusterResult"
        },
        {
          "path": "crate::rpc::RequestId"
        },
        {
          "path": "crate::rpc::RpcMessage"
        },
        {
          "path": "crate::rpc::RpcTransport"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::constants::ACTOR_MIGRATION_COOLDOWN_MS"
        },
        {
          "path": "kelpie_registry::ActorPlacement"
        },
        {
          "path": "kelpie_registry::NodeId"
        },
        {
          "path": "kelpie_registry::Registry"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cluster/src/cluster.rs",
      "symbols": [
        {
          "name": "ActorStateProvider",
          "kind": "trait",
          "line": 30,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "ClusterState",
          "kind": "enum",
          "line": 45,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "Cluster",
          "kind": "struct",
          "line": 59,
          "visibility": "pub",
          "doc": "The main cluster coordinator\n\nManages cluster membership, heartbeats, and actor placement.",
          "generic_params": [
            "R",
            "T",
            "RT"
          ]
        },
        {
          "name": "Cluster<R, T, RT>",
          "kind": "impl",
          "line": 89,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 91,
          "visibility": "pub",
          "signature": "fn new(\n        local_node: NodeInfo,\n        config: ClusterConfig,\n        registry: Arc<R>,\n        transport: Arc<T>,\n        runtime: RT,\n    )",
          "doc": "Create a new cluster instance"
        },
        {
          "name": "with_state_provider",
          "kind": "function",
          "line": 129,
          "visibility": "pub",
          "signature": "fn with_state_provider(mut self, provider: Arc<dyn ActorStateProvider>)",
          "doc": "Set the actor state provider for migration support\n\nThe state provider allows the cluster to get actor state and deactivate\nactors locally during migration. Without a state provider, drain_actors()\nwill only unregister actors without transferring state."
        },
        {
          "name": "local_node_id",
          "kind": "function",
          "line": 135,
          "visibility": "pub",
          "signature": "fn local_node_id(&self)",
          "doc": "Get the local node ID"
        },
        {
          "name": "local_node",
          "kind": "function",
          "line": 140,
          "visibility": "pub",
          "signature": "fn local_node(&self)",
          "doc": "Get the local node info"
        },
        {
          "name": "config",
          "kind": "function",
          "line": 145,
          "visibility": "pub",
          "signature": "fn config(&self)",
          "doc": "Get the cluster configuration"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 150,
          "visibility": "pub",
          "signature": "async fn state(&self)",
          "doc": "Get the current cluster state",
          "is_async": true
        },
        {
          "name": "is_running",
          "kind": "function",
          "line": 155,
          "visibility": "pub",
          "signature": "async fn is_running(&self)",
          "doc": "Check if cluster is running",
          "is_async": true
        },
        {
          "name": "start",
          "kind": "function",
          "line": 160,
          "visibility": "pub",
          "signature": "async fn start(&self)",
          "doc": "Start the cluster",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 208,
          "visibility": "pub",
          "signature": "async fn stop(&self)",
          "doc": "Stop the cluster",
          "is_async": true
        },
        {
          "name": "join_cluster",
          "kind": "function",
          "line": 286,
          "visibility": "private",
          "signature": "async fn join_cluster(&self)",
          "doc": "Join an existing cluster\n\nTODO(Phase 3): This currently does nothing. Once FdbRegistry is implemented,\ncluster membership will be managed through FDB transactions instead of gossip.\nThe seed_nodes config will be used for initial FDB cluster connection, not\nfor a separate cluster join protocol.",
          "is_async": true
        },
        {
          "name": "start_heartbeat_task",
          "kind": "function",
          "line": 300,
          "visibility": "private",
          "signature": "async fn start_heartbeat_task(&self)",
          "doc": "Start the heartbeat sending task",
          "is_async": true
        },
        {
          "name": "start_failure_detection_task",
          "kind": "function",
          "line": 359,
          "visibility": "private",
          "signature": "async fn start_failure_detection_task(&self)",
          "doc": "Start the failure detection task",
          "is_async": true
        },
        {
          "name": "drain_actors",
          "kind": "function",
          "line": 443,
          "visibility": "private",
          "signature": "async fn drain_actors(&self)",
          "doc": "Drain actors from this node (for graceful shutdown)\n\nIf a state provider is configured, actors are migrated to other nodes:\n1. Select target nodes for each actor\n2. Use MigrationCoordinator to transfer state\n3. Deactivate locally after successful migration\n\nIf no state provider, actors are simply unregistered (state is lost).",
          "is_async": true
        },
        {
          "name": "get_placement",
          "kind": "function",
          "line": 585,
          "visibility": "pub",
          "signature": "async fn get_placement(&self, actor_id: &ActorId)",
          "doc": "Get a placement decision for an actor",
          "is_async": true
        },
        {
          "name": "try_claim_local",
          "kind": "function",
          "line": 600,
          "visibility": "pub",
          "signature": "async fn try_claim_local(&self, actor_id: ActorId)",
          "doc": "Try to claim an actor for the local node",
          "is_async": true
        },
        {
          "name": "migration",
          "kind": "function",
          "line": 610,
          "visibility": "pub",
          "signature": "fn migration(&self)",
          "doc": "Get migration coordinator"
        },
        {
          "name": "list_nodes",
          "kind": "function",
          "line": 615,
          "visibility": "pub",
          "signature": "async fn list_nodes(&self)",
          "doc": "Get all nodes in the cluster",
          "is_async": true
        },
        {
          "name": "list_active_nodes",
          "kind": "function",
          "line": 620,
          "visibility": "pub",
          "signature": "async fn list_active_nodes(&self)",
          "doc": "Get active nodes in the cluster",
          "is_async": true
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 629,
          "visibility": "private",
          "signature": "fn now_ms()",
          "doc": "Get current time in milliseconds"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 637,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_addr",
          "kind": "function",
          "line": 644,
          "visibility": "private",
          "signature": "fn test_addr(port: u16)"
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 648,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_cluster_create",
          "kind": "function",
          "line": 653,
          "visibility": "private",
          "signature": "async fn test_cluster_create()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_cluster_start_stop",
          "kind": "function",
          "line": 671,
          "visibility": "private",
          "signature": "async fn test_cluster_start_stop()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_cluster_list_nodes",
          "kind": "function",
          "line": 692,
          "visibility": "private",
          "signature": "async fn test_cluster_list_nodes()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_cluster_try_claim",
          "kind": "function",
          "line": 714,
          "visibility": "private",
          "signature": "async fn test_cluster_try_claim()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::config::ClusterConfig"
        },
        {
          "path": "crate::error::ClusterError"
        },
        {
          "path": "crate::error::ClusterResult"
        },
        {
          "path": "crate::migration::plan_migrations"
        },
        {
          "path": "crate::migration::MigrationCoordinator"
        },
        {
          "path": "crate::rpc::RpcMessage"
        },
        {
          "path": "crate::rpc::RpcTransport"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::runtime::JoinHandle"
        },
        {
          "path": "kelpie_core::runtime::Runtime"
        },
        {
          "path": "kelpie_registry::Heartbeat"
        },
        {
          "path": "kelpie_registry::NodeId"
        },
        {
          "path": "kelpie_registry::NodeInfo"
        },
        {
          "path": "kelpie_registry::NodeStatus"
        },
        {
          "path": "kelpie_registry::PlacementDecision"
        },
        {
          "path": "kelpie_registry::Registry"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::sync::watch"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::rpc::MemoryTransport"
        },
        {
          "path": "kelpie_core::TokioRuntime"
        },
        {
          "path": "kelpie_registry::MemoryRegistry"
        },
        {
          "path": "std::net::IpAddr"
        },
        {
          "path": "std::net::Ipv4Addr"
        },
        {
          "path": "std::net::SocketAddr"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cluster/src/rpc.rs",
      "symbols": [
        {
          "name": "RequestId",
          "kind": "type_alias",
          "line": 17,
          "visibility": "pub",
          "doc": "RPC request ID"
        },
        {
          "name": "RpcMessage",
          "kind": "enum",
          "line": 22,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(tag = \"type\", rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "RpcMessage",
          "kind": "impl",
          "line": 123,
          "visibility": "private"
        },
        {
          "name": "request_id",
          "kind": "function",
          "line": 125,
          "visibility": "pub",
          "signature": "fn request_id(&self)",
          "doc": "Get the request ID if this message has one"
        },
        {
          "name": "is_response",
          "kind": "function",
          "line": 146,
          "visibility": "pub",
          "signature": "fn is_response(&self)",
          "doc": "Check if this is a response message"
        },
        {
          "name": "actor_id",
          "kind": "function",
          "line": 160,
          "visibility": "pub",
          "signature": "fn actor_id(&self)",
          "doc": "Get the actor ID if this message involves an actor"
        },
        {
          "name": "RpcTransport",
          "kind": "trait",
          "line": 175,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "RpcHandler",
          "kind": "trait",
          "line": 205,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MemoryTransport",
          "kind": "struct",
          "line": 215,
          "visibility": "pub",
          "doc": "In-memory RPC transport for testing\n\nMessages are delivered directly through channels, simulating network behavior.",
          "generic_params": [
            "RT"
          ]
        },
        {
          "name": "MemoryTransport<RT>",
          "kind": "impl",
          "line": 242,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 244,
          "visibility": "pub",
          "signature": "fn new(node_id: NodeId, addr: SocketAddr, runtime: RT)",
          "doc": "Create a new in-memory transport"
        },
        {
          "name": "connect",
          "kind": "function",
          "line": 269,
          "visibility": "pub",
          "signature": "async fn connect(&self, other: &MemoryTransport<RT>)",
          "is_async": true,
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "next_request_id",
          "kind": "function",
          "line": 283,
          "visibility": "pub",
          "signature": "fn next_request_id(&self)",
          "doc": "Get next request ID"
        },
        {
          "name": "process_messages",
          "kind": "function",
          "line": 289,
          "visibility": "private",
          "signature": "async fn process_messages(\n        mut receiver: tokio::sync::mpsc::Receiver<(NodeId, RpcMessage)>,\n        handler: std::sync::Arc<tokio::sync::RwLock<Option<Box<dyn RpcHandler>>>>,\n        pending: std::sync::Arc<\n            tokio::sync::RwLock<\n                std::collections::HashMap<RequestId, tokio::sync::oneshot::Sender<RpcMessage>>,\n            >,\n        >,\n        senders: std::sync::Arc<\n            tokio::sync::RwLock<\n                std::collections::HashMap<NodeId, tokio::sync::mpsc::Sender<(NodeId, RpcMessage)>>,\n            >,\n        >,\n        local_node_id: NodeId,\n    )",
          "doc": "Process incoming messages",
          "is_async": true
        },
        {
          "name": "RpcTransport for MemoryTransport<RT>",
          "kind": "impl",
          "line": 332,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "send",
          "kind": "function",
          "line": 333,
          "visibility": "private",
          "signature": "async fn send(&self, target: &NodeId, message: RpcMessage)",
          "is_async": true
        },
        {
          "name": "send_and_recv",
          "kind": "function",
          "line": 347,
          "visibility": "private",
          "signature": "async fn send_and_recv(\n        &self,\n        target: &NodeId,\n        message: RpcMessage,\n        timeout: Duration,\n    )",
          "is_async": true
        },
        {
          "name": "broadcast",
          "kind": "function",
          "line": 388,
          "visibility": "private",
          "signature": "async fn broadcast(&self, message: RpcMessage)",
          "is_async": true
        },
        {
          "name": "set_handler",
          "kind": "function",
          "line": 398,
          "visibility": "private",
          "signature": "async fn set_handler(&self, handler: Box<dyn RpcHandler>)",
          "is_async": true
        },
        {
          "name": "start",
          "kind": "function",
          "line": 404,
          "visibility": "private",
          "signature": "async fn start(&self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 444,
          "visibility": "private",
          "signature": "async fn stop(&self)",
          "is_async": true
        },
        {
          "name": "local_addr",
          "kind": "function",
          "line": 450,
          "visibility": "private",
          "signature": "fn local_addr(&self)"
        },
        {
          "name": "TcpTransport",
          "kind": "struct",
          "line": 458,
          "visibility": "pub",
          "doc": "TCP-based RPC transport for real network communication\n\nWire protocol: [4-byte big-endian length][JSON payload]",
          "generic_params": [
            "RT"
          ]
        },
        {
          "name": "TcpConnection",
          "kind": "struct",
          "line": 487,
          "visibility": "private",
          "doc": "A TCP connection to another node"
        },
        {
          "name": "TcpTransport<RT>",
          "kind": "impl",
          "line": 492,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 494,
          "visibility": "pub",
          "signature": "fn new(node_id: NodeId, local_addr: SocketAddr, runtime: RT)",
          "doc": "Create a new TCP transport"
        },
        {
          "name": "register_node",
          "kind": "function",
          "line": 516,
          "visibility": "pub",
          "signature": "async fn register_node(&self, node_id: NodeId, addr: SocketAddr)",
          "doc": "Register a node's address",
          "is_async": true
        },
        {
          "name": "next_request_id",
          "kind": "function",
          "line": 522,
          "visibility": "pub",
          "signature": "fn next_request_id(&self)",
          "doc": "Get next request ID"
        },
        {
          "name": "get_or_create_connection",
          "kind": "function",
          "line": 528,
          "visibility": "private",
          "signature": "async fn get_or_create_connection(\n        &self,\n        target: &NodeId,\n    )",
          "doc": "Get or create connection to a node",
          "is_async": true
        },
        {
          "name": "writer_task",
          "kind": "function",
          "line": 599,
          "visibility": "private",
          "signature": "async fn writer_task(\n        mut write_half: tokio::net::tcp::OwnedWriteHalf,\n        mut rx: tokio::sync::mpsc::Receiver<RpcMessage>,\n        target: NodeId,\n    )",
          "doc": "Writer task - sends messages over TCP",
          "is_async": true
        },
        {
          "name": "reader_task",
          "kind": "function",
          "line": 641,
          "visibility": "private",
          "signature": "async fn reader_task(\n        mut read_half: tokio::net::tcp::OwnedReadHalf,\n        pending: std::sync::Arc<\n            tokio::sync::RwLock<\n                std::collections::HashMap<RequestId, tokio::sync::oneshot::Sender<RpcMessage>>,\n            >,\n        >,\n        from_node: NodeId,\n        _local_node: NodeId,\n        handler: std::sync::Arc<tokio::sync::RwLock<Option<Box<dyn RpcHandler>>>>,\n        response_sender: tokio::sync::mpsc::Sender<RpcMessage>,\n    )",
          "doc": "Reader task - reads messages from TCP",
          "is_async": true
        },
        {
          "name": "accept_task",
          "kind": "function",
          "line": 719,
          "visibility": "private",
          "signature": "async fn accept_task(\n        listener: tokio::net::TcpListener,\n        connections: std::sync::Arc<\n            tokio::sync::RwLock<std::collections::HashMap<NodeId, TcpConnection>>,\n        >,\n        pending: std::sync::Arc<\n            tokio::sync::RwLock<\n                std::collections::HashMap<RequestId, tokio::sync::oneshot::Sender<RpcMessage>>,\n            >,\n        >,\n        handler: std::sync::Arc<tokio::sync::RwLock<Option<Box<dyn RpcHandler>>>>,\n        local_node: NodeId,\n        mut shutdown_rx: tokio::sync::broadcast::Receiver<()>,\n    )",
          "doc": "Accept task - handles incoming connections",
          "is_async": true
        },
        {
          "name": "RpcTransport for TcpTransport<RT>",
          "kind": "impl",
          "line": 796,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "send",
          "kind": "function",
          "line": 797,
          "visibility": "private",
          "signature": "async fn send(&self, target: &NodeId, message: RpcMessage)",
          "is_async": true
        },
        {
          "name": "send_and_recv",
          "kind": "function",
          "line": 808,
          "visibility": "private",
          "signature": "async fn send_and_recv(\n        &self,\n        target: &NodeId,\n        message: RpcMessage,\n        timeout: Duration,\n    )",
          "is_async": true
        },
        {
          "name": "broadcast",
          "kind": "function",
          "line": 851,
          "visibility": "private",
          "signature": "async fn broadcast(&self, message: RpcMessage)",
          "is_async": true
        },
        {
          "name": "set_handler",
          "kind": "function",
          "line": 861,
          "visibility": "private",
          "signature": "async fn set_handler(&self, handler: Box<dyn RpcHandler>)",
          "is_async": true
        },
        {
          "name": "start",
          "kind": "function",
          "line": 867,
          "visibility": "private",
          "signature": "async fn start(&self)",
          "is_async": true
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 908,
          "visibility": "private",
          "signature": "async fn stop(&self)",
          "is_async": true
        },
        {
          "name": "local_addr",
          "kind": "function",
          "line": 926,
          "visibility": "private",
          "signature": "fn local_addr(&self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 932,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_node_id",
          "kind": "function",
          "line": 937,
          "visibility": "private",
          "signature": "fn test_node_id(n: u32)"
        },
        {
          "name": "test_addr",
          "kind": "function",
          "line": 941,
          "visibility": "private",
          "signature": "fn test_addr(port: u16)"
        },
        {
          "name": "test_runtime",
          "kind": "function",
          "line": 946,
          "visibility": "private",
          "signature": "fn test_runtime()"
        },
        {
          "name": "test_rpc_message_request_id",
          "kind": "function",
          "line": 951,
          "visibility": "private",
          "signature": "fn test_rpc_message_request_id()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rpc_message_is_response",
          "kind": "function",
          "line": 973,
          "visibility": "private",
          "signature": "fn test_rpc_message_is_response()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_rpc_message_actor_id",
          "kind": "function",
          "line": 990,
          "visibility": "private",
          "signature": "fn test_rpc_message_actor_id()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_memory_transport_create",
          "kind": "function",
          "line": 1008,
          "visibility": "private",
          "signature": "async fn test_memory_transport_create()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_memory_transport_request_id",
          "kind": "function",
          "line": 1014,
          "visibility": "private",
          "signature": "async fn test_memory_transport_request_id()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_tcp_transport_create",
          "kind": "function",
          "line": 1022,
          "visibility": "private",
          "signature": "async fn test_tcp_transport_create()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_tcp_transport_request_id",
          "kind": "function",
          "line": 1028,
          "visibility": "private",
          "signature": "async fn test_tcp_transport_request_id()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_tcp_transport_start_stop",
          "kind": "function",
          "line": 1036,
          "visibility": "private",
          "signature": "async fn test_tcp_transport_start_stop()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_tcp_transport_two_nodes",
          "kind": "function",
          "line": 1059,
          "visibility": "private",
          "signature": "async fn test_tcp_transport_two_nodes()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ClusterError"
        },
        {
          "path": "crate::error::ClusterResult"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::runtime::Runtime"
        },
        {
          "path": "kelpie_registry::Heartbeat"
        },
        {
          "path": "kelpie_registry::NodeId"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::net::SocketAddr"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_core::TokioRuntime"
        },
        {
          "path": "kelpie_registry::NodeStatus"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/core.rs",
      "symbols": [
        {
          "name": "CORE_MEMORY_SIZE_BYTES_MAX_DEFAULT",
          "kind": "const",
          "line": 18,
          "visibility": "pub",
          "signature": "const CORE_MEMORY_SIZE_BYTES_MAX_DEFAULT: u64",
          "doc": "Default maximum core memory size (32KB)"
        },
        {
          "name": "CORE_MEMORY_SIZE_BYTES_MIN",
          "kind": "const",
          "line": 21,
          "visibility": "pub",
          "signature": "const CORE_MEMORY_SIZE_BYTES_MIN: u64",
          "doc": "Minimum core memory size (4KB)"
        },
        {
          "name": "CoreMemoryConfig",
          "kind": "struct",
          "line": 25,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "CoreMemoryConfig",
          "kind": "impl",
          "line": 30,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 32,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create with default settings"
        },
        {
          "name": "with_max_bytes",
          "kind": "function",
          "line": 39,
          "visibility": "pub",
          "signature": "fn with_max_bytes(max_bytes: u64)",
          "doc": "Create with custom max size"
        },
        {
          "name": "Default for CoreMemoryConfig",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 50,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "CoreMemory",
          "kind": "struct",
          "line": 60,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "CoreMemory",
          "kind": "impl",
          "line": 73,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn new(config: CoreMemoryConfig)",
          "doc": "Create a new empty core memory"
        },
        {
          "name": "with_defaults",
          "kind": "function",
          "line": 86,
          "visibility": "pub",
          "signature": "fn with_defaults()",
          "doc": "Create with default configuration"
        },
        {
          "name": "add_block",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn add_block(&mut self, block: MemoryBlock)",
          "doc": "Add a memory block\n\nReturns the block ID if successful."
        },
        {
          "name": "get_block",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "fn get_block(&self, id: &MemoryBlockId)",
          "doc": "Get a block by ID"
        },
        {
          "name": "get_block_mut",
          "kind": "function",
          "line": 119,
          "visibility": "pub",
          "signature": "fn get_block_mut(&mut self, id: &MemoryBlockId)",
          "doc": "Get a mutable reference to a block by ID"
        },
        {
          "name": "get_blocks_by_type",
          "kind": "function",
          "line": 124,
          "visibility": "pub",
          "signature": "fn get_blocks_by_type(&self, block_type: MemoryBlockType)",
          "doc": "Get blocks by type"
        },
        {
          "name": "get_first_by_type",
          "kind": "function",
          "line": 132,
          "visibility": "pub",
          "signature": "fn get_first_by_type(&self, block_type: MemoryBlockType)",
          "doc": "Get the first block of a given type"
        },
        {
          "name": "get_first_by_type_mut",
          "kind": "function",
          "line": 139,
          "visibility": "pub",
          "signature": "fn get_first_by_type_mut(\n        &mut self,\n        block_type: MemoryBlockType,\n    )",
          "doc": "Get mutable reference to the first block of a given type"
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 153,
          "visibility": "pub",
          "signature": "fn update_block(\n        &mut self,\n        id: &MemoryBlockId,\n        content: impl Into<String>,\n    )",
          "doc": "Update a block's content"
        },
        {
          "name": "remove_block",
          "kind": "function",
          "line": 188,
          "visibility": "pub",
          "signature": "fn remove_block(&mut self, id: &MemoryBlockId)",
          "doc": "Remove a block"
        },
        {
          "name": "clear",
          "kind": "function",
          "line": 204,
          "visibility": "pub",
          "signature": "fn clear(&mut self)",
          "doc": "Clear all blocks"
        },
        {
          "name": "blocks",
          "kind": "function",
          "line": 212,
          "visibility": "pub",
          "signature": "fn blocks(&self)",
          "doc": "Get all blocks in order"
        },
        {
          "name": "block_count",
          "kind": "function",
          "line": 219,
          "visibility": "pub",
          "signature": "fn block_count(&self)",
          "doc": "Get the number of blocks"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 224,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if empty"
        },
        {
          "name": "size_bytes",
          "kind": "function",
          "line": 229,
          "visibility": "pub",
          "signature": "fn size_bytes(&self)",
          "doc": "Get current size in bytes"
        },
        {
          "name": "max_bytes",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn max_bytes(&self)",
          "doc": "Get maximum size in bytes"
        },
        {
          "name": "available_bytes",
          "kind": "function",
          "line": 239,
          "visibility": "pub",
          "signature": "fn available_bytes(&self)",
          "doc": "Get available space in bytes"
        },
        {
          "name": "utilization",
          "kind": "function",
          "line": 244,
          "visibility": "pub",
          "signature": "fn utilization(&self)",
          "doc": "Get utilization as a percentage (0.0 - 1.0)"
        },
        {
          "name": "render",
          "kind": "function",
          "line": 264,
          "visibility": "pub",
          "signature": "fn render(&self)",
          "doc": "Render core memory as a string for LLM context\n\nFormat:\n```text\n<core_memory>\n<block label=\"system\">\nSystem content here\n</block>\n<block label=\"persona\">\nPersona content here\n</block>\n</core_memory>\n```"
        },
        {
          "name": "letta_default",
          "kind": "function",
          "line": 281,
          "visibility": "pub",
          "signature": "fn letta_default()",
          "doc": "Create core memory with standard Letta-style blocks"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 293,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_core_memory_new",
          "kind": "function",
          "line": 297,
          "visibility": "private",
          "signature": "fn test_core_memory_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_add_block",
          "kind": "function",
          "line": 305,
          "visibility": "private",
          "signature": "fn test_add_block()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_add_multiple_blocks",
          "kind": "function",
          "line": 318,
          "visibility": "private",
          "signature": "fn test_add_multiple_blocks()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_get_blocks_by_type",
          "kind": "function",
          "line": 335,
          "visibility": "private",
          "signature": "fn test_get_blocks_by_type()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_update_block",
          "kind": "function",
          "line": 350,
          "visibility": "private",
          "signature": "fn test_update_block()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_remove_block",
          "kind": "function",
          "line": 361,
          "visibility": "private",
          "signature": "fn test_remove_block()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_capacity_limit",
          "kind": "function",
          "line": 374,
          "visibility": "private",
          "signature": "fn test_capacity_limit()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_update_capacity_limit",
          "kind": "function",
          "line": 392,
          "visibility": "private",
          "signature": "fn test_update_capacity_limit()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_clear",
          "kind": "function",
          "line": 409,
          "visibility": "private",
          "signature": "fn test_clear()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_render",
          "kind": "function",
          "line": 424,
          "visibility": "private",
          "signature": "fn test_render()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_utilization",
          "kind": "function",
          "line": 443,
          "visibility": "private",
          "signature": "fn test_utilization()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_letta_default",
          "kind": "function",
          "line": 459,
          "visibility": "private",
          "signature": "fn test_letta_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_blocks_iteration_order",
          "kind": "function",
          "line": 468,
          "visibility": "private",
          "signature": "fn test_blocks_iteration_order()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::block::MemoryBlock"
        },
        {
          "path": "crate::block::MemoryBlockId"
        },
        {
          "path": "crate::block::MemoryBlockType"
        },
        {
          "path": "crate::error::MemoryError"
        },
        {
          "path": "crate::error::MemoryResult"
        },
        {
          "path": "crate::types::MemoryMetadata"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/types.rs",
      "symbols": [
        {
          "name": "Timestamp",
          "kind": "type_alias",
          "line": 11,
          "visibility": "pub",
          "doc": "Timestamp type for memory operations\n\nUses UTC to avoid timezone ambiguity."
        },
        {
          "name": "now",
          "kind": "function",
          "line": 14,
          "visibility": "pub",
          "signature": "fn now()",
          "doc": "Returns the current timestamp"
        },
        {
          "name": "MemoryMetadata",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq)"
          ]
        },
        {
          "name": "MemoryMetadata",
          "kind": "impl",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 39,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create new metadata with current timestamp"
        },
        {
          "name": "with_source",
          "kind": "function",
          "line": 53,
          "visibility": "pub",
          "signature": "fn with_source(source: impl Into<String>)",
          "doc": "Create metadata with a specific source"
        },
        {
          "name": "record_access",
          "kind": "function",
          "line": 60,
          "visibility": "pub",
          "signature": "fn record_access(&mut self)",
          "doc": "Record an access to this memory"
        },
        {
          "name": "record_modification",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn record_modification(&mut self)",
          "doc": "Record a modification to this memory"
        },
        {
          "name": "add_tag",
          "kind": "function",
          "line": 73,
          "visibility": "pub",
          "signature": "fn add_tag(&mut self, tag: impl Into<String>)",
          "doc": "Add a tag"
        },
        {
          "name": "set_importance",
          "kind": "function",
          "line": 81,
          "visibility": "pub",
          "signature": "fn set_importance(&mut self, importance: f32)",
          "doc": "Set importance score"
        },
        {
          "name": "Default for MemoryMetadata",
          "kind": "impl",
          "line": 90,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 91,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "MemoryStats",
          "kind": "struct",
          "line": 98,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MemoryStats",
          "kind": "impl",
          "line": 113,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 115,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create empty stats"
        },
        {
          "name": "total_bytes",
          "kind": "function",
          "line": 120,
          "visibility": "pub",
          "signature": "fn total_bytes(&self)",
          "doc": "Total memory usage across all tiers"
        },
        {
          "name": "total_entries",
          "kind": "function",
          "line": 125,
          "visibility": "pub",
          "signature": "fn total_entries(&self)",
          "doc": "Total entry count across all tiers"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 131,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_metadata_new",
          "kind": "function",
          "line": 135,
          "visibility": "private",
          "signature": "fn test_metadata_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_metadata_with_source",
          "kind": "function",
          "line": 143,
          "visibility": "private",
          "signature": "fn test_metadata_with_source()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_metadata_record_access",
          "kind": "function",
          "line": 149,
          "visibility": "private",
          "signature": "fn test_metadata_record_access()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_metadata_add_tag",
          "kind": "function",
          "line": 161,
          "visibility": "private",
          "signature": "fn test_metadata_add_tag()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_metadata_set_importance",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "fn test_metadata_set_importance()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_metadata_invalid_importance",
          "kind": "function",
          "line": 181,
          "visibility": "private",
          "signature": "fn test_metadata_invalid_importance()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"importance must be between 0.0 and 1.0\")"
          ]
        },
        {
          "name": "test_stats_totals",
          "kind": "function",
          "line": 187,
          "visibility": "private",
          "signature": "fn test_stats_totals()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "chrono::DateTime"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/error.rs",
      "symbols": [
        {
          "name": "MemoryResult",
          "kind": "type_alias",
          "line": 9,
          "visibility": "pub",
          "doc": "Result type for memory operations"
        },
        {
          "name": "MemoryError",
          "kind": "enum",
          "line": 13,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "fmt::Display for MemoryError",
          "kind": "impl",
          "line": 62,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 63,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for MemoryError",
          "kind": "impl",
          "line": 128,
          "visibility": "private"
        },
        {
          "name": "From<CoreError> for MemoryError",
          "kind": "impl",
          "line": 130,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 131,
          "visibility": "private",
          "signature": "fn from(err: CoreError)"
        },
        {
          "name": "From<MemoryError> for CoreError",
          "kind": "impl",
          "line": 138,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 139,
          "visibility": "private",
          "signature": "fn from(err: MemoryError)"
        },
        {
          "name": "From<serde_json::Error> for MemoryError",
          "kind": "impl",
          "line": 146,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 147,
          "visibility": "private",
          "signature": "fn from(err: serde_json::Error)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 155,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_error_display",
          "kind": "function",
          "line": 159,
          "visibility": "private",
          "signature": "fn test_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_not_found_display",
          "kind": "function",
          "line": 172,
          "visibility": "private",
          "signature": "fn test_block_not_found_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "kelpie_core::error::Error",
          "alias": "CoreError"
        },
        {
          "path": "std::fmt"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/checkpoint.rs",
      "symbols": [
        {
          "name": "CHECKPOINT_FORMAT_VERSION",
          "kind": "const",
          "line": 19,
          "visibility": "pub",
          "signature": "const CHECKPOINT_FORMAT_VERSION: u32",
          "doc": "Version of the checkpoint format"
        },
        {
          "name": "CHECKPOINT_KEY_PREFIX",
          "kind": "const",
          "line": 22,
          "visibility": "pub",
          "signature": "const CHECKPOINT_KEY_PREFIX: &str",
          "doc": "Key prefix for checkpoints in storage"
        },
        {
          "name": "Checkpoint",
          "kind": "struct",
          "line": 26,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Checkpoint",
          "kind": "impl",
          "line": 41,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 43,
          "visibility": "pub",
          "signature": "fn new(\n        actor_id: ActorId,\n        sequence: u64,\n        core: Option<&CoreMemory>,\n        working: Option<&WorkingMemory>,\n    )",
          "doc": "Create a new checkpoint from memory state"
        },
        {
          "name": "restore_core",
          "kind": "function",
          "line": 80,
          "visibility": "pub",
          "signature": "fn restore_core(&self)",
          "doc": "Restore core memory from checkpoint"
        },
        {
          "name": "restore_working",
          "kind": "function",
          "line": 95,
          "visibility": "pub",
          "signature": "fn restore_working(&self)",
          "doc": "Restore working memory from checkpoint"
        },
        {
          "name": "to_bytes",
          "kind": "function",
          "line": 110,
          "visibility": "pub",
          "signature": "fn to_bytes(&self)",
          "doc": "Serialize checkpoint to bytes"
        },
        {
          "name": "from_bytes",
          "kind": "function",
          "line": 118,
          "visibility": "pub",
          "signature": "fn from_bytes(data: &[u8])",
          "doc": "Deserialize checkpoint from bytes"
        },
        {
          "name": "storage_key",
          "kind": "function",
          "line": 125,
          "visibility": "pub",
          "signature": "fn storage_key(&self)",
          "doc": "Get the storage key for this checkpoint"
        },
        {
          "name": "latest_key",
          "kind": "function",
          "line": 134,
          "visibility": "pub",
          "signature": "fn latest_key(actor_id: &ActorId)",
          "doc": "Get the latest checkpoint key for an actor"
        },
        {
          "name": "size_bytes",
          "kind": "function",
          "line": 139,
          "visibility": "pub",
          "signature": "fn size_bytes(&self)",
          "doc": "Size of the checkpoint in bytes"
        },
        {
          "name": "CheckpointStorage",
          "kind": "trait",
          "line": 148,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "CheckpointManager",
          "kind": "struct",
          "line": 170,
          "visibility": "pub",
          "doc": "Checkpoint manager for coordinating checkpoints",
          "generic_params": [
            "S"
          ]
        },
        {
          "name": "CheckpointManager<S>",
          "kind": "impl",
          "line": 179,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 181,
          "visibility": "pub",
          "signature": "fn new(actor_id: ActorId, storage: Arc<S>)",
          "doc": "Create a new checkpoint manager"
        },
        {
          "name": "init",
          "kind": "function",
          "line": 190,
          "visibility": "pub",
          "signature": "async fn init(&mut self)",
          "doc": "Initialize from storage (loads latest sequence)",
          "is_async": true
        },
        {
          "name": "checkpoint",
          "kind": "function",
          "line": 198,
          "visibility": "pub",
          "signature": "async fn checkpoint(\n        &mut self,\n        core: Option<&CoreMemory>,\n        working: Option<&WorkingMemory>,\n    )",
          "doc": "Create and store a checkpoint",
          "is_async": true
        },
        {
          "name": "load_latest",
          "kind": "function",
          "line": 213,
          "visibility": "pub",
          "signature": "async fn load_latest(&self)",
          "doc": "Load the latest checkpoint",
          "is_async": true
        },
        {
          "name": "restore",
          "kind": "function",
          "line": 218,
          "visibility": "pub",
          "signature": "async fn restore(\n        &self,\n    )",
          "doc": "Restore memory from the latest checkpoint",
          "is_async": true
        },
        {
          "name": "sequence",
          "kind": "function",
          "line": 232,
          "visibility": "pub",
          "signature": "fn sequence(&self)",
          "doc": "Get current sequence number"
        },
        {
          "name": "prune",
          "kind": "function",
          "line": 237,
          "visibility": "pub",
          "signature": "async fn prune(&self, keep_count: usize)",
          "doc": "Prune old checkpoints",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 243,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_checkpoint_creation",
          "kind": "function",
          "line": 247,
          "visibility": "private",
          "signature": "fn test_checkpoint_creation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_checkpoint_restore_core",
          "kind": "function",
          "line": 261,
          "visibility": "private",
          "signature": "fn test_checkpoint_restore_core()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_checkpoint_restore_working",
          "kind": "function",
          "line": 276,
          "visibility": "private",
          "signature": "fn test_checkpoint_restore_working()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_checkpoint_serialization_roundtrip",
          "kind": "function",
          "line": 289,
          "visibility": "private",
          "signature": "fn test_checkpoint_serialization_roundtrip()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_checkpoint_storage_key",
          "kind": "function",
          "line": 304,
          "visibility": "private",
          "signature": "fn test_checkpoint_storage_key()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_checkpoint_latest_key",
          "kind": "function",
          "line": 314,
          "visibility": "private",
          "signature": "fn test_checkpoint_latest_key()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::core::CoreMemory"
        },
        {
          "path": "crate::error::MemoryError"
        },
        {
          "path": "crate::error::MemoryResult"
        },
        {
          "path": "crate::types::now"
        },
        {
          "path": "crate::types::Timestamp"
        },
        {
          "path": "crate::working::WorkingMemory"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/lib.rs",
      "symbols": [
        {
          "name": "block",
          "kind": "mod",
          "line": 25,
          "visibility": "private"
        },
        {
          "name": "checkpoint",
          "kind": "mod",
          "line": 26,
          "visibility": "private"
        },
        {
          "name": "core",
          "kind": "mod",
          "line": 27,
          "visibility": "private"
        },
        {
          "name": "embedder",
          "kind": "mod",
          "line": 28,
          "visibility": "private"
        },
        {
          "name": "error",
          "kind": "mod",
          "line": 29,
          "visibility": "private"
        },
        {
          "name": "search",
          "kind": "mod",
          "line": 30,
          "visibility": "private"
        },
        {
          "name": "types",
          "kind": "mod",
          "line": 31,
          "visibility": "private"
        },
        {
          "name": "working",
          "kind": "mod",
          "line": 32,
          "visibility": "private"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 56,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_memory_module_compiles",
          "kind": "function",
          "line": 60,
          "visibility": "private",
          "signature": "fn test_memory_module_compiles()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "block::MemoryBlock"
        },
        {
          "path": "block::MemoryBlockId"
        },
        {
          "path": "block::MemoryBlockType"
        },
        {
          "path": "block::MEMORY_BLOCK_CONTENT_SIZE_BYTES_MAX"
        },
        {
          "path": "checkpoint::Checkpoint"
        },
        {
          "path": "checkpoint::CheckpointManager"
        },
        {
          "path": "core::CoreMemory"
        },
        {
          "path": "core::CoreMemoryConfig"
        },
        {
          "path": "core::CORE_MEMORY_SIZE_BYTES_MAX_DEFAULT"
        },
        {
          "path": "core::CORE_MEMORY_SIZE_BYTES_MIN"
        },
        {
          "path": "embedder::Embedder"
        },
        {
          "path": "embedder::EmbedderConfig"
        },
        {
          "path": "embedder::LocalEmbedder"
        },
        {
          "path": "embedder::MockEmbedder"
        },
        {
          "path": "embedder::EMBEDDING_DIM_1024"
        },
        {
          "path": "embedder::EMBEDDING_DIM_1536"
        },
        {
          "path": "embedder::EMBEDDING_DIM_384"
        },
        {
          "path": "embedder::EMBEDDING_DIM_768"
        },
        {
          "path": "error::MemoryError"
        },
        {
          "path": "error::MemoryResult"
        },
        {
          "path": "search::cosine_similarity"
        },
        {
          "path": "search::semantic_search"
        },
        {
          "path": "search::similarity_score"
        },
        {
          "path": "search::SearchQuery"
        },
        {
          "path": "search::SearchResult"
        },
        {
          "path": "search::SearchResults"
        },
        {
          "path": "search::SemanticQuery"
        },
        {
          "path": "search::SemanticSearchResult"
        },
        {
          "path": "search::SEARCH_RESULTS_LIMIT_DEFAULT"
        },
        {
          "path": "search::SEMANTIC_SEARCH_SIMILARITY_MIN_DEFAULT"
        },
        {
          "path": "types::MemoryMetadata"
        },
        {
          "path": "types::MemoryStats"
        },
        {
          "path": "types::Timestamp"
        },
        {
          "path": "working::WorkingMemory"
        },
        {
          "path": "working::WorkingMemoryConfig"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/block.rs",
      "symbols": [
        {
          "name": "MEMORY_BLOCK_CONTENT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 10,
          "visibility": "pub",
          "signature": "const MEMORY_BLOCK_CONTENT_SIZE_BYTES_MAX: usize",
          "doc": "Maximum size for a single memory block content"
        },
        {
          "name": "MemoryBlockId",
          "kind": "struct",
          "line": 14,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, PartialEq, Eq, Hash, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MemoryBlockId",
          "kind": "impl",
          "line": 16,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 18,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new unique block ID"
        },
        {
          "name": "from_string",
          "kind": "function",
          "line": 23,
          "visibility": "pub",
          "signature": "fn from_string(id: impl Into<String>)",
          "doc": "Create from an existing string"
        },
        {
          "name": "as_str",
          "kind": "function",
          "line": 28,
          "visibility": "pub",
          "signature": "fn as_str(&self)",
          "doc": "Get the ID as a string reference"
        },
        {
          "name": "Default for MemoryBlockId",
          "kind": "impl",
          "line": 33,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 34,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "std::fmt::Display for MemoryBlockId",
          "kind": "impl",
          "line": 39,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 40,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "MemoryBlockType",
          "kind": "enum",
          "line": 48,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "MemoryBlockType",
          "kind": "impl",
          "line": 65,
          "visibility": "private"
        },
        {
          "name": "default_label",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "fn default_label(&self)",
          "doc": "Get the default label for this block type"
        },
        {
          "name": "std::fmt::Display for MemoryBlockType",
          "kind": "impl",
          "line": 80,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 81,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "MemoryBlock",
          "kind": "struct",
          "line": 91,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MemoryBlock",
          "kind": "impl",
          "line": 109,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "fn new(block_type: MemoryBlockType, content: impl Into<String>)",
          "doc": "Create a new memory block\n\n# Panics\nPanics if content exceeds MEMORY_BLOCK_CONTENT_SIZE_BYTES_MAX"
        },
        {
          "name": "with_label",
          "kind": "function",
          "line": 137,
          "visibility": "pub",
          "signature": "fn with_label(\n        block_type: MemoryBlockType,\n        label: impl Into<String>,\n        content: impl Into<String>,\n    )",
          "doc": "Create a new block with a custom label"
        },
        {
          "name": "system",
          "kind": "function",
          "line": 148,
          "visibility": "pub",
          "signature": "fn system(content: impl Into<String>)",
          "doc": "Create a system block"
        },
        {
          "name": "persona",
          "kind": "function",
          "line": 153,
          "visibility": "pub",
          "signature": "fn persona(content: impl Into<String>)",
          "doc": "Create a persona block"
        },
        {
          "name": "human",
          "kind": "function",
          "line": 158,
          "visibility": "pub",
          "signature": "fn human(content: impl Into<String>)",
          "doc": "Create a human/user info block"
        },
        {
          "name": "facts",
          "kind": "function",
          "line": 163,
          "visibility": "pub",
          "signature": "fn facts(content: impl Into<String>)",
          "doc": "Create a facts block"
        },
        {
          "name": "goals",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "fn goals(content: impl Into<String>)",
          "doc": "Create a goals block"
        },
        {
          "name": "scratch",
          "kind": "function",
          "line": 173,
          "visibility": "pub",
          "signature": "fn scratch(content: impl Into<String>)",
          "doc": "Create a scratch block"
        },
        {
          "name": "update_content",
          "kind": "function",
          "line": 181,
          "visibility": "pub",
          "signature": "fn update_content(&mut self, content: impl Into<String>)",
          "doc": "Update the content of this block\n\n# Panics\nPanics if content exceeds MEMORY_BLOCK_CONTENT_SIZE_BYTES_MAX"
        },
        {
          "name": "append_content",
          "kind": "function",
          "line": 201,
          "visibility": "pub",
          "signature": "fn append_content(&mut self, additional: &str)",
          "doc": "Append to the content of this block\n\n# Panics\nPanics if resulting content exceeds MEMORY_BLOCK_CONTENT_SIZE_BYTES_MAX"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 207,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if this block is empty"
        },
        {
          "name": "created_at",
          "kind": "function",
          "line": 212,
          "visibility": "pub",
          "signature": "fn created_at(&self)",
          "doc": "Get the creation timestamp"
        },
        {
          "name": "modified_at",
          "kind": "function",
          "line": 217,
          "visibility": "pub",
          "signature": "fn modified_at(&self)",
          "doc": "Get the last modified timestamp"
        },
        {
          "name": "record_access",
          "kind": "function",
          "line": 222,
          "visibility": "pub",
          "signature": "fn record_access(&mut self)",
          "doc": "Record an access to this block"
        },
        {
          "name": "set_embedding",
          "kind": "function",
          "line": 227,
          "visibility": "pub",
          "signature": "fn set_embedding(&mut self, embedding: Vec<f32>)",
          "doc": "Set the embedding vector for this block"
        },
        {
          "name": "with_embedding",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn with_embedding(mut self, embedding: Vec<f32>)",
          "doc": "Create a block with an embedding"
        },
        {
          "name": "has_embedding",
          "kind": "function",
          "line": 240,
          "visibility": "pub",
          "signature": "fn has_embedding(&self)",
          "doc": "Check if this block has an embedding"
        },
        {
          "name": "embedding_dim",
          "kind": "function",
          "line": 245,
          "visibility": "pub",
          "signature": "fn embedding_dim(&self)",
          "doc": "Get the embedding dimension if present"
        },
        {
          "name": "PartialEq for MemoryBlock",
          "kind": "impl",
          "line": 250,
          "visibility": "private"
        },
        {
          "name": "eq",
          "kind": "function",
          "line": 251,
          "visibility": "private",
          "signature": "fn eq(&self, other: &Self)"
        },
        {
          "name": "Eq for MemoryBlock",
          "kind": "impl",
          "line": 256,
          "visibility": "private"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 259,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_block_id_unique",
          "kind": "function",
          "line": 263,
          "visibility": "private",
          "signature": "fn test_block_id_unique()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_id_from_string",
          "kind": "function",
          "line": 270,
          "visibility": "private",
          "signature": "fn test_block_id_from_string()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_creation",
          "kind": "function",
          "line": 276,
          "visibility": "private",
          "signature": "fn test_block_creation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_with_label",
          "kind": "function",
          "line": 285,
          "visibility": "private",
          "signature": "fn test_block_with_label()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_update_content",
          "kind": "function",
          "line": 293,
          "visibility": "private",
          "signature": "fn test_block_update_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_append_content",
          "kind": "function",
          "line": 307,
          "visibility": "private",
          "signature": "fn test_block_append_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_content_too_large",
          "kind": "function",
          "line": 316,
          "visibility": "private",
          "signature": "fn test_block_content_too_large()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"block content exceeds maximum size\")"
          ]
        },
        {
          "name": "test_block_type_display",
          "kind": "function",
          "line": 322,
          "visibility": "private",
          "signature": "fn test_block_type_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_equality",
          "kind": "function",
          "line": 329,
          "visibility": "private",
          "signature": "fn test_block_equality()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_is_empty",
          "kind": "function",
          "line": 342,
          "visibility": "private",
          "signature": "fn test_block_is_empty()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::types::MemoryMetadata"
        },
        {
          "path": "crate::types::Timestamp"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/embedder.rs",
      "symbols": [
        {
          "name": "EMBEDDING_DIM_384",
          "kind": "const",
          "line": 12,
          "visibility": "pub",
          "signature": "const EMBEDDING_DIM_384: usize",
          "doc": "Common embedding dimensions for popular models"
        },
        {
          "name": "EMBEDDING_DIM_768",
          "kind": "const",
          "line": 13,
          "visibility": "pub",
          "signature": "const EMBEDDING_DIM_768: usize"
        },
        {
          "name": "EMBEDDING_DIM_1024",
          "kind": "const",
          "line": 14,
          "visibility": "pub",
          "signature": "const EMBEDDING_DIM_1024: usize"
        },
        {
          "name": "EMBEDDING_DIM_1536",
          "kind": "const",
          "line": 15,
          "visibility": "pub",
          "signature": "const EMBEDDING_DIM_1536: usize"
        },
        {
          "name": "Embedder",
          "kind": "trait",
          "line": 19,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "MockEmbedder",
          "kind": "struct",
          "line": 45,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "MockEmbedder",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 51,
          "visibility": "pub",
          "signature": "fn new(dimension: usize)",
          "doc": "Create a new mock embedder with the specified dimension"
        },
        {
          "name": "default_384",
          "kind": "function",
          "line": 57,
          "visibility": "pub",
          "signature": "fn default_384()",
          "doc": "Create a mock embedder with 384 dimensions (typical for small models)"
        },
        {
          "name": "Default for MockEmbedder",
          "kind": "impl",
          "line": 62,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 63,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "Embedder for MockEmbedder",
          "kind": "impl",
          "line": 69,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "dimension",
          "kind": "function",
          "line": 70,
          "visibility": "private",
          "signature": "fn dimension(&self)"
        },
        {
          "name": "model_name",
          "kind": "function",
          "line": 74,
          "visibility": "private",
          "signature": "fn model_name(&self)"
        },
        {
          "name": "embed",
          "kind": "function",
          "line": 78,
          "visibility": "private",
          "signature": "async fn embed(&self, text: &str)",
          "is_async": true
        },
        {
          "name": "EmbedderConfig",
          "kind": "struct",
          "line": 114,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for EmbedderConfig",
          "kind": "impl",
          "line": 125,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 126,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "EmbedderConfig",
          "kind": "impl",
          "line": 136,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 138,
          "visibility": "pub",
          "signature": "fn new(model: impl Into<String>)",
          "doc": "Create configuration for a specific model"
        },
        {
          "name": "with_gpu",
          "kind": "function",
          "line": 146,
          "visibility": "pub",
          "signature": "fn with_gpu(mut self)",
          "doc": "Enable GPU acceleration"
        },
        {
          "name": "with_batch_size",
          "kind": "function",
          "line": 152,
          "visibility": "pub",
          "signature": "fn with_batch_size(mut self, size: usize)",
          "doc": "Set maximum batch size"
        },
        {
          "name": "LocalEmbedder",
          "kind": "struct",
          "line": 164,
          "visibility": "pub",
          "attributes": [
            "cfg(feature = \"local-embeddings\")",
            "allow(dead_code)"
          ]
        },
        {
          "name": "std::fmt::Debug for LocalEmbedder",
          "kind": "impl",
          "line": 172,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"local-embeddings\")"
          ]
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "Send for LocalEmbedder",
          "kind": "impl",
          "line": 184,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"local-embeddings\")"
          ]
        },
        {
          "name": "Sync for LocalEmbedder",
          "kind": "impl",
          "line": 186,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"local-embeddings\")"
          ]
        },
        {
          "name": "LocalEmbedder",
          "kind": "impl",
          "line": 190,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"local-embeddings\")",
            "allow(dead_code)"
          ]
        },
        {
          "name": "new",
          "kind": "function",
          "line": 195,
          "visibility": "pub",
          "signature": "fn new(config: EmbedderConfig)",
          "doc": "Create a new local embedder\n\nDownloads and initializes the specified embedding model.\nModels are cached locally after first download."
        },
        {
          "name": "default_model",
          "kind": "function",
          "line": 239,
          "visibility": "pub",
          "signature": "fn default_model()",
          "doc": "Create with the default model (all-MiniLM-L6-v2)"
        },
        {
          "name": "Embedder for LocalEmbedder",
          "kind": "impl",
          "line": 246,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"local-embeddings\")",
            "async_trait"
          ]
        },
        {
          "name": "dimension",
          "kind": "function",
          "line": 247,
          "visibility": "private",
          "signature": "fn dimension(&self)"
        },
        {
          "name": "model_name",
          "kind": "function",
          "line": 251,
          "visibility": "private",
          "signature": "fn model_name(&self)"
        },
        {
          "name": "embed",
          "kind": "function",
          "line": 255,
          "visibility": "private",
          "signature": "async fn embed(&self, text: &str)",
          "is_async": true
        },
        {
          "name": "embed_batch",
          "kind": "function",
          "line": 282,
          "visibility": "private",
          "signature": "async fn embed_batch(&self, texts: &[&str])",
          "is_async": true
        },
        {
          "name": "LocalEmbedder",
          "kind": "struct",
          "line": 320,
          "visibility": "pub",
          "attributes": [
            "cfg(not(feature = \"local-embeddings\"))",
            "derive(Debug)",
            "allow(dead_code)"
          ]
        },
        {
          "name": "LocalEmbedder",
          "kind": "impl",
          "line": 326,
          "visibility": "private",
          "attributes": [
            "cfg(not(feature = \"local-embeddings\"))",
            "allow(dead_code)"
          ]
        },
        {
          "name": "new",
          "kind": "function",
          "line": 328,
          "visibility": "pub",
          "signature": "fn new(_config: EmbedderConfig)",
          "doc": "Create a new local embedder (requires local-embeddings feature)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 336,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_mock_embedder_dimension",
          "kind": "function",
          "line": 340,
          "visibility": "private",
          "signature": "async fn test_mock_embedder_dimension()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_embedder_deterministic",
          "kind": "function",
          "line": 347,
          "visibility": "private",
          "signature": "async fn test_mock_embedder_deterministic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_embedder_different_texts",
          "kind": "function",
          "line": 359,
          "visibility": "private",
          "signature": "async fn test_mock_embedder_different_texts()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_embedder_normalized",
          "kind": "function",
          "line": 372,
          "visibility": "private",
          "signature": "async fn test_mock_embedder_normalized()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mock_embedder_batch",
          "kind": "function",
          "line": 386,
          "visibility": "private",
          "signature": "async fn test_mock_embedder_batch()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_embedder_config_builder",
          "kind": "function",
          "line": 401,
          "visibility": "private",
          "signature": "fn test_embedder_config_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::MemoryError"
        },
        {
          "path": "crate::error::MemoryResult"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/search.rs",
      "symbols": [
        {
          "name": "SEARCH_RESULTS_LIMIT_DEFAULT",
          "kind": "const",
          "line": 15,
          "visibility": "pub",
          "signature": "const SEARCH_RESULTS_LIMIT_DEFAULT: usize",
          "doc": "Maximum number of search results"
        },
        {
          "name": "SearchQuery",
          "kind": "struct",
          "line": 19,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SearchQuery",
          "kind": "impl",
          "line": 42,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 44,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create an empty query (matches all)"
        },
        {
          "name": "text",
          "kind": "function",
          "line": 60,
          "visibility": "pub",
          "signature": "fn text(mut self, text: impl Into<String>)",
          "doc": "Search for text"
        },
        {
          "name": "block_types",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn block_types(mut self, types: Vec<MemoryBlockType>)",
          "doc": "Filter by block types"
        },
        {
          "name": "block_type",
          "kind": "function",
          "line": 72,
          "visibility": "pub",
          "signature": "fn block_type(mut self, block_type: MemoryBlockType)",
          "doc": "Filter by a single block type"
        },
        {
          "name": "tags",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "fn tags(mut self, tags: Vec<String>)",
          "doc": "Filter by tags"
        },
        {
          "name": "created_after",
          "kind": "function",
          "line": 84,
          "visibility": "pub",
          "signature": "fn created_after(mut self, timestamp: Timestamp)",
          "doc": "Filter created after a timestamp"
        },
        {
          "name": "created_before",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "fn created_before(mut self, timestamp: Timestamp)",
          "doc": "Filter created before a timestamp"
        },
        {
          "name": "modified_after",
          "kind": "function",
          "line": 96,
          "visibility": "pub",
          "signature": "fn modified_after(mut self, timestamp: Timestamp)",
          "doc": "Filter modified after a timestamp"
        },
        {
          "name": "modified_before",
          "kind": "function",
          "line": 102,
          "visibility": "pub",
          "signature": "fn modified_before(mut self, timestamp: Timestamp)",
          "doc": "Filter modified before a timestamp"
        },
        {
          "name": "min_importance",
          "kind": "function",
          "line": 108,
          "visibility": "pub",
          "signature": "fn min_importance(mut self, importance: f32)",
          "doc": "Filter by minimum importance"
        },
        {
          "name": "limit",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "fn limit(mut self, limit: usize)",
          "doc": "Set result limit"
        },
        {
          "name": "offset",
          "kind": "function",
          "line": 120,
          "visibility": "pub",
          "signature": "fn offset(mut self, offset: usize)",
          "doc": "Set offset for pagination"
        },
        {
          "name": "matches",
          "kind": "function",
          "line": 126,
          "visibility": "pub",
          "signature": "fn matches(&self, block: &MemoryBlock)",
          "doc": "Check if a block matches this query"
        },
        {
          "name": "Default for SearchQuery",
          "kind": "impl",
          "line": 191,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 192,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "SearchResult",
          "kind": "struct",
          "line": 199,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SearchResult",
          "kind": "impl",
          "line": 208,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 210,
          "visibility": "pub",
          "signature": "fn new(block: MemoryBlock, score: f32)",
          "doc": "Create a new search result"
        },
        {
          "name": "with_match",
          "kind": "function",
          "line": 219,
          "visibility": "pub",
          "signature": "fn with_match(block: MemoryBlock, score: f32, matched_text: impl Into<String>)",
          "doc": "Create with matched text"
        },
        {
          "name": "SearchResults",
          "kind": "struct",
          "line": 230,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SearchResults",
          "kind": "impl",
          "line": 239,
          "visibility": "private"
        },
        {
          "name": "empty",
          "kind": "function",
          "line": 241,
          "visibility": "pub",
          "signature": "fn empty()",
          "doc": "Create empty results"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 250,
          "visibility": "pub",
          "signature": "fn new(results: Vec<SearchResult>, total_count: usize, has_more: bool)",
          "doc": "Create from results"
        },
        {
          "name": "len",
          "kind": "function",
          "line": 259,
          "visibility": "pub",
          "signature": "fn len(&self)",
          "doc": "Get the number of results"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 264,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if empty"
        },
        {
          "name": "into_blocks",
          "kind": "function",
          "line": 269,
          "visibility": "pub",
          "signature": "fn into_blocks(self)",
          "doc": "Get results as blocks"
        },
        {
          "name": "SEMANTIC_SEARCH_SIMILARITY_MIN_DEFAULT",
          "kind": "const",
          "line": 279,
          "visibility": "pub",
          "signature": "const SEMANTIC_SEARCH_SIMILARITY_MIN_DEFAULT: f32",
          "doc": "Default minimum similarity threshold for semantic search"
        },
        {
          "name": "SemanticQuery",
          "kind": "struct",
          "line": 283,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SemanticQuery",
          "kind": "impl",
          "line": 294,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 296,
          "visibility": "pub",
          "signature": "fn new(embedding: Vec<f32>)",
          "doc": "Create a new semantic query with the given embedding"
        },
        {
          "name": "min_similarity",
          "kind": "function",
          "line": 308,
          "visibility": "pub",
          "signature": "fn min_similarity(mut self, threshold: f32)",
          "doc": "Set minimum similarity threshold"
        },
        {
          "name": "block_types",
          "kind": "function",
          "line": 318,
          "visibility": "pub",
          "signature": "fn block_types(mut self, types: Vec<MemoryBlockType>)",
          "doc": "Filter by block types"
        },
        {
          "name": "block_type",
          "kind": "function",
          "line": 324,
          "visibility": "pub",
          "signature": "fn block_type(mut self, block_type: MemoryBlockType)",
          "doc": "Filter by a single block type"
        },
        {
          "name": "limit",
          "kind": "function",
          "line": 330,
          "visibility": "pub",
          "signature": "fn limit(mut self, limit: usize)",
          "doc": "Set result limit"
        },
        {
          "name": "dimension",
          "kind": "function",
          "line": 336,
          "visibility": "pub",
          "signature": "fn dimension(&self)",
          "doc": "Get the dimension of the query embedding"
        },
        {
          "name": "cosine_similarity",
          "kind": "function",
          "line": 349,
          "visibility": "pub",
          "signature": "fn cosine_similarity(a: &[f32], b: &[f32])",
          "doc": "Compute cosine similarity between two vectors\n\nReturns a value between -1.0 and 1.0, where:\n- 1.0 means identical direction\n- 0.0 means orthogonal\n- -1.0 means opposite direction\n\nTigerStyle: Explicit assertions for vector validity."
        },
        {
          "name": "similarity_score",
          "kind": "function",
          "line": 378,
          "visibility": "pub",
          "signature": "fn similarity_score(a: &[f32], b: &[f32])",
          "doc": "Compute similarity and return a score in [0, 1] range\n\nThis normalizes cosine similarity from [-1, 1] to [0, 1]"
        },
        {
          "name": "SemanticSearchResult",
          "kind": "struct",
          "line": 386,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SemanticSearchResult",
          "kind": "impl",
          "line": 395,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 397,
          "visibility": "pub",
          "signature": "fn new(block: MemoryBlock, cosine_similarity: f32)",
          "doc": "Create a new semantic search result"
        },
        {
          "name": "semantic_search",
          "kind": "function",
          "line": 409,
          "visibility": "pub",
          "signature": "fn semantic_search(query: &SemanticQuery, blocks: &[MemoryBlock])",
          "doc": "Execute a semantic search over a collection of blocks\n\nReturns blocks sorted by similarity (highest first)."
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 461,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "make_test_block",
          "kind": "function",
          "line": 464,
          "visibility": "private",
          "signature": "fn make_test_block(content: &str, block_type: MemoryBlockType)"
        },
        {
          "name": "test_query_new",
          "kind": "function",
          "line": 469,
          "visibility": "private",
          "signature": "fn test_query_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_query_builder",
          "kind": "function",
          "line": 476,
          "visibility": "private",
          "signature": "fn test_query_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_query_matches_text",
          "kind": "function",
          "line": 488,
          "visibility": "private",
          "signature": "fn test_query_matches_text()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_query_matches_text_case_insensitive",
          "kind": "function",
          "line": 499,
          "visibility": "private",
          "signature": "fn test_query_matches_text_case_insensitive()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_query_matches_block_type",
          "kind": "function",
          "line": 507,
          "visibility": "private",
          "signature": "fn test_query_matches_block_type()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_query_matches_multiple_types",
          "kind": "function",
          "line": 518,
          "visibility": "private",
          "signature": "fn test_query_matches_multiple_types()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_query_matches_tags",
          "kind": "function",
          "line": 532,
          "visibility": "private",
          "signature": "fn test_query_matches_tags()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_query_empty_matches_all",
          "kind": "function",
          "line": 545,
          "visibility": "private",
          "signature": "fn test_query_empty_matches_all()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_search_results",
          "kind": "function",
          "line": 556,
          "visibility": "private",
          "signature": "fn test_search_results()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_search_results_into_blocks",
          "kind": "function",
          "line": 567,
          "visibility": "private",
          "signature": "fn test_search_results_into_blocks()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_cosine_similarity_identical",
          "kind": "function",
          "line": 589,
          "visibility": "private",
          "signature": "fn test_cosine_similarity_identical()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_cosine_similarity_orthogonal",
          "kind": "function",
          "line": 600,
          "visibility": "private",
          "signature": "fn test_cosine_similarity_orthogonal()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_cosine_similarity_opposite",
          "kind": "function",
          "line": 611,
          "visibility": "private",
          "signature": "fn test_cosine_similarity_opposite()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_cosine_similarity_scaled",
          "kind": "function",
          "line": 622,
          "visibility": "private",
          "signature": "fn test_cosine_similarity_scaled()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_cosine_similarity_zero_vector",
          "kind": "function",
          "line": 634,
          "visibility": "private",
          "signature": "fn test_cosine_similarity_zero_vector()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_similarity_score_range",
          "kind": "function",
          "line": 642,
          "visibility": "private",
          "signature": "fn test_similarity_score_range()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_semantic_query_builder",
          "kind": "function",
          "line": 657,
          "visibility": "private",
          "signature": "fn test_semantic_query_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_semantic_search_finds_similar",
          "kind": "function",
          "line": 671,
          "visibility": "private",
          "signature": "fn test_semantic_search_finds_similar()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_semantic_search_respects_threshold",
          "kind": "function",
          "line": 694,
          "visibility": "private",
          "signature": "fn test_semantic_search_respects_threshold()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_semantic_search_filters_block_types",
          "kind": "function",
          "line": 712,
          "visibility": "private",
          "signature": "fn test_semantic_search_filters_block_types()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_semantic_search_skips_no_embedding",
          "kind": "function",
          "line": 731,
          "visibility": "private",
          "signature": "fn test_semantic_search_skips_no_embedding()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_semantic_search_respects_limit",
          "kind": "function",
          "line": 747,
          "visibility": "private",
          "signature": "fn test_semantic_search_respects_limit()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_embedding_methods",
          "kind": "function",
          "line": 765,
          "visibility": "private",
          "signature": "fn test_block_embedding_methods()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_block_with_embedding_builder",
          "kind": "function",
          "line": 776,
          "visibility": "private",
          "signature": "fn test_block_with_embedding_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::block::MemoryBlock"
        },
        {
          "path": "crate::block::MemoryBlockType"
        },
        {
          "path": "crate::types::Timestamp"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-memory/src/working.rs",
      "symbols": [
        {
          "name": "WORKING_MEMORY_SIZE_BYTES_MAX_DEFAULT",
          "kind": "const",
          "line": 17,
          "visibility": "pub",
          "signature": "const WORKING_MEMORY_SIZE_BYTES_MAX_DEFAULT: u64",
          "doc": "Default maximum working memory size (1MB)"
        },
        {
          "name": "WORKING_MEMORY_ENTRY_SIZE_BYTES_MAX_DEFAULT",
          "kind": "const",
          "line": 20,
          "visibility": "pub",
          "signature": "const WORKING_MEMORY_ENTRY_SIZE_BYTES_MAX_DEFAULT: u64",
          "doc": "Default maximum entry size (64KB)"
        },
        {
          "name": "WORKING_MEMORY_TTL_SECS_DEFAULT",
          "kind": "const",
          "line": 23,
          "visibility": "pub",
          "signature": "const WORKING_MEMORY_TTL_SECS_DEFAULT: u64",
          "doc": "Default TTL for entries (1 hour)"
        },
        {
          "name": "WorkingMemoryConfig",
          "kind": "struct",
          "line": 27,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "WorkingMemoryConfig",
          "kind": "impl",
          "line": 36,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 38,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create with default settings"
        },
        {
          "name": "no_expiry",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "fn no_expiry()",
          "doc": "Create with no TTL (entries never expire)"
        },
        {
          "name": "Default for WorkingMemoryConfig",
          "kind": "impl",
          "line": 55,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 56,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "WorkingMemoryEntry",
          "kind": "struct",
          "line": 63,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "WorkingMemoryEntry",
          "kind": "impl",
          "line": 76,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "fn new(key: impl Into<String>, value: impl Into<Bytes>, ttl_secs: u64)",
          "doc": "Create a new entry"
        },
        {
          "name": "is_expired",
          "kind": "function",
          "line": 99,
          "visibility": "pub",
          "signature": "fn is_expired(&self)",
          "doc": "Check if this entry has expired"
        },
        {
          "name": "update",
          "kind": "function",
          "line": 104,
          "visibility": "pub",
          "signature": "fn update(&mut self, value: impl Into<Bytes>, ttl_secs: u64)",
          "doc": "Update the value"
        },
        {
          "name": "touch",
          "kind": "function",
          "line": 119,
          "visibility": "pub",
          "signature": "fn touch(&mut self, ttl_secs: u64)",
          "doc": "Touch to update expiration"
        },
        {
          "name": "WorkingMemory",
          "kind": "struct",
          "line": 131,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "WorkingMemory",
          "kind": "impl",
          "line": 142,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 144,
          "visibility": "pub",
          "signature": "fn new(config: WorkingMemoryConfig)",
          "doc": "Create a new empty working memory"
        },
        {
          "name": "with_defaults",
          "kind": "function",
          "line": 154,
          "visibility": "pub",
          "signature": "fn with_defaults()",
          "doc": "Create with default configuration"
        },
        {
          "name": "set",
          "kind": "function",
          "line": 159,
          "visibility": "pub",
          "signature": "fn set(&mut self, key: impl Into<String>, value: impl Into<Bytes>)",
          "doc": "Set a key-value pair"
        },
        {
          "name": "set_with_ttl",
          "kind": "function",
          "line": 164,
          "visibility": "pub",
          "signature": "fn set_with_ttl(\n        &mut self,\n        key: impl Into<String>,\n        value: impl Into<Bytes>,\n        ttl_secs: u64,\n    )",
          "doc": "Set a key-value pair with custom TTL"
        },
        {
          "name": "get",
          "kind": "function",
          "line": 217,
          "visibility": "pub",
          "signature": "fn get(&self, key: &str)",
          "doc": "Get a value by key"
        },
        {
          "name": "get_entry",
          "kind": "function",
          "line": 224,
          "visibility": "pub",
          "signature": "fn get_entry(&self, key: &str)",
          "doc": "Get an entry with metadata"
        },
        {
          "name": "get_entry_mut",
          "kind": "function",
          "line": 229,
          "visibility": "pub",
          "signature": "fn get_entry_mut(&mut self, key: &str)",
          "doc": "Get a mutable entry"
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn exists(&self, key: &str)",
          "doc": "Check if a key exists"
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 242,
          "visibility": "pub",
          "signature": "fn delete(&mut self, key: &str)",
          "doc": "Delete a key"
        },
        {
          "name": "touch",
          "kind": "function",
          "line": 253,
          "visibility": "pub",
          "signature": "fn touch(&mut self, key: &str)",
          "doc": "Touch a key to update its TTL"
        },
        {
          "name": "keys",
          "kind": "function",
          "line": 264,
          "visibility": "pub",
          "signature": "fn keys(&self)",
          "doc": "Get all keys"
        },
        {
          "name": "keys_with_prefix",
          "kind": "function",
          "line": 273,
          "visibility": "pub",
          "signature": "fn keys_with_prefix(&self, prefix: &str)",
          "doc": "Get keys matching a prefix"
        },
        {
          "name": "remove_expired",
          "kind": "function",
          "line": 282,
          "visibility": "pub",
          "signature": "fn remove_expired(&mut self)",
          "doc": "Remove all expired entries"
        },
        {
          "name": "clear",
          "kind": "function",
          "line": 305,
          "visibility": "pub",
          "signature": "fn clear(&mut self)",
          "doc": "Clear all entries"
        },
        {
          "name": "len",
          "kind": "function",
          "line": 312,
          "visibility": "pub",
          "signature": "fn len(&self)",
          "doc": "Get the number of entries (including expired)"
        },
        {
          "name": "active_len",
          "kind": "function",
          "line": 317,
          "visibility": "pub",
          "signature": "fn active_len(&self)",
          "doc": "Get the number of non-expired entries"
        },
        {
          "name": "is_empty",
          "kind": "function",
          "line": 322,
          "visibility": "pub",
          "signature": "fn is_empty(&self)",
          "doc": "Check if empty"
        },
        {
          "name": "size_bytes",
          "kind": "function",
          "line": 327,
          "visibility": "pub",
          "signature": "fn size_bytes(&self)",
          "doc": "Get current size in bytes"
        },
        {
          "name": "max_bytes",
          "kind": "function",
          "line": 332,
          "visibility": "pub",
          "signature": "fn max_bytes(&self)",
          "doc": "Get maximum size in bytes"
        },
        {
          "name": "available_bytes",
          "kind": "function",
          "line": 337,
          "visibility": "pub",
          "signature": "fn available_bytes(&self)",
          "doc": "Get available space in bytes"
        },
        {
          "name": "incr",
          "kind": "function",
          "line": 342,
          "visibility": "pub",
          "signature": "fn incr(&mut self, key: &str, delta: i64)",
          "doc": "Increment a numeric value (creates if doesn't exist)"
        },
        {
          "name": "append",
          "kind": "function",
          "line": 356,
          "visibility": "pub",
          "signature": "fn append(&mut self, key: &str, value: impl AsRef<[u8]>)",
          "doc": "Append to a value"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 370,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_working_memory_new",
          "kind": "function",
          "line": 374,
          "visibility": "private",
          "signature": "fn test_working_memory_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_set_and_get",
          "kind": "function",
          "line": 381,
          "visibility": "private",
          "signature": "fn test_set_and_get()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_set_overwrite",
          "kind": "function",
          "line": 391,
          "visibility": "private",
          "signature": "fn test_set_overwrite()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_exists",
          "kind": "function",
          "line": 402,
          "visibility": "private",
          "signature": "fn test_exists()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_delete",
          "kind": "function",
          "line": 412,
          "visibility": "private",
          "signature": "fn test_delete()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_keys",
          "kind": "function",
          "line": 424,
          "visibility": "private",
          "signature": "fn test_keys()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_capacity_limit",
          "kind": "function",
          "line": 439,
          "visibility": "private",
          "signature": "fn test_capacity_limit()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_entry_size_limit",
          "kind": "function",
          "line": 456,
          "visibility": "private",
          "signature": "fn test_entry_size_limit()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_clear",
          "kind": "function",
          "line": 469,
          "visibility": "private",
          "signature": "fn test_clear()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_incr",
          "kind": "function",
          "line": 482,
          "visibility": "private",
          "signature": "fn test_incr()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_append",
          "kind": "function",
          "line": 499,
          "visibility": "private",
          "signature": "fn test_append()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_size_tracking",
          "kind": "function",
          "line": 510,
          "visibility": "private",
          "signature": "fn test_size_tracking()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::MemoryError"
        },
        {
          "path": "crate::error::MemoryResult"
        },
        {
          "path": "crate::types::now"
        },
        {
          "path": "crate::types::MemoryMetadata"
        },
        {
          "path": "crate::types::Timestamp"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/llm.rs",
      "symbols": [
        {
          "name": "LlmConfig",
          "kind": "struct",
          "line": 16,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "LlmConfig",
          "kind": "impl",
          "line": 27,
          "visibility": "private"
        },
        {
          "name": "from_env",
          "kind": "function",
          "line": 33,
          "visibility": "pub",
          "signature": "fn from_env()",
          "doc": "Create config from environment variables\n\nSupports:\n- OPENAI_API_KEY + OPENAI_BASE_URL (default: api.openai.com)\n- ANTHROPIC_API_KEY (uses Anthropic's OpenAI-compatible endpoint)"
        },
        {
          "name": "is_anthropic",
          "kind": "function",
          "line": 60,
          "visibility": "pub",
          "signature": "fn is_anthropic(&self)",
          "doc": "Check if using Anthropic API"
        },
        {
          "name": "ChatMessage",
          "kind": "struct",
          "line": 67,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ChatCompletionRequest",
          "kind": "struct",
          "line": 74,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "ChatCompletionResponse",
          "kind": "struct",
          "line": 82,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ChatChoice",
          "kind": "struct",
          "line": 88,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ApiUsage",
          "kind": "struct",
          "line": 94,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)",
            "allow(dead_code)"
          ]
        },
        {
          "name": "AnthropicRequest",
          "kind": "struct",
          "line": 102,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "AnthropicMessage",
          "kind": "struct",
          "line": 114,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AnthropicMessageContent",
          "kind": "enum",
          "line": 121,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(untagged)"
          ]
        },
        {
          "name": "AnthropicContentBlock",
          "kind": "enum",
          "line": 128,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(tag = \"type\")"
          ]
        },
        {
          "name": "AnthropicResponse",
          "kind": "struct",
          "line": 146,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "AnthropicResponseContent",
          "kind": "struct",
          "line": 153,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "AnthropicUsage",
          "kind": "struct",
          "line": 167,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ToolDefinition",
          "kind": "struct",
          "line": 174,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "ToolDefinition",
          "kind": "impl",
          "line": 180,
          "visibility": "private"
        },
        {
          "name": "shell",
          "kind": "function",
          "line": 181,
          "visibility": "pub",
          "signature": "fn shell()"
        },
        {
          "name": "ToolCall",
          "kind": "struct",
          "line": 201,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Deserialize)"
          ]
        },
        {
          "name": "CompletionResponse",
          "kind": "struct",
          "line": 209,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "StreamDelta",
          "kind": "enum",
          "line": 219,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "LlmClient",
          "kind": "struct",
          "line": 231,
          "visibility": "pub",
          "doc": "LLM client (Phase 7.8 REDO: uses HttpClient trait for DST)"
        },
        {
          "name": "Clone for LlmClient",
          "kind": "impl",
          "line": 237,
          "visibility": "private"
        },
        {
          "name": "clone",
          "kind": "function",
          "line": 238,
          "visibility": "private",
          "signature": "fn clone(&self)"
        },
        {
          "name": "LlmClient",
          "kind": "impl",
          "line": 246,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 248,
          "visibility": "pub",
          "signature": "fn new(config: LlmConfig)",
          "doc": "Create a new LLM client with production HTTP client"
        },
        {
          "name": "with_http_client",
          "kind": "function",
          "line": 256,
          "visibility": "pub",
          "signature": "fn with_http_client(config: LlmConfig, http_client: Arc<dyn HttpClient>)",
          "doc": "Create LLM client with custom HTTP client (for DST)"
        },
        {
          "name": "from_env",
          "kind": "function",
          "line": 264,
          "visibility": "pub",
          "signature": "fn from_env()",
          "doc": "Create from environment, returns None if no API key configured"
        },
        {
          "name": "complete",
          "kind": "function",
          "line": 270,
          "visibility": "pub",
          "signature": "async fn complete(&self, messages: Vec<ChatMessage>)",
          "is_async": true,
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "complete_with_tools",
          "kind": "function",
          "line": 275,
          "visibility": "pub",
          "signature": "async fn complete_with_tools(\n        &self,\n        messages: Vec<ChatMessage>,\n        tools: Vec<ToolDefinition>,\n    )",
          "doc": "Complete a chat conversation with tool support",
          "is_async": true
        },
        {
          "name": "continue_with_tool_result",
          "kind": "function",
          "line": 288,
          "visibility": "pub",
          "signature": "async fn continue_with_tool_result(\n        &self,\n        messages: Vec<ChatMessage>,\n        tools: Vec<ToolDefinition>,\n        assistant_content: Vec<AnthropicContentBlock>,\n        tool_results: Vec<(String, String)>, // (tool_use_id, result)\n    )",
          "doc": "Continue conversation with tool result",
          "is_async": true
        },
        {
          "name": "stream_complete_with_tools",
          "kind": "function",
          "line": 329,
          "visibility": "pub",
          "signature": "async fn stream_complete_with_tools(\n        &self,\n        messages: Vec<ChatMessage>,\n        tools: Vec<ToolDefinition>,\n    )",
          "doc": "Stream a chat conversation with tool support (Phase 7.8)\n\nReturns stream of text deltas as they arrive from LLM.\nSupports both Anthropic and OpenAI APIs.",
          "is_async": true
        },
        {
          "name": "prepare_anthropic_messages",
          "kind": "function",
          "line": 344,
          "visibility": "private",
          "signature": "fn prepare_anthropic_messages(\n        &self,\n        messages: Vec<ChatMessage>,\n    )"
        },
        {
          "name": "complete_openai",
          "kind": "function",
          "line": 365,
          "visibility": "private",
          "signature": "async fn complete_openai(\n        &self,\n        messages: Vec<ChatMessage>,\n    )",
          "is_async": true
        },
        {
          "name": "complete_anthropic",
          "kind": "function",
          "line": 416,
          "visibility": "private",
          "signature": "async fn complete_anthropic(\n        &self,\n        messages: Vec<ChatMessage>,\n        tools: Vec<ToolDefinition>,\n    )",
          "is_async": true
        },
        {
          "name": "call_anthropic",
          "kind": "function",
          "line": 425,
          "visibility": "private",
          "signature": "async fn call_anthropic(\n        &self,\n        messages: Vec<AnthropicMessage>,\n        system: Option<String>,\n        tools: Vec<ToolDefinition>,\n    )",
          "is_async": true
        },
        {
          "name": "stream_anthropic",
          "kind": "function",
          "line": 492,
          "visibility": "private",
          "signature": "async fn stream_anthropic(\n        &self,\n        messages: Vec<ChatMessage>,\n        tools: Vec<ToolDefinition>,\n    )",
          "is_async": true
        },
        {
          "name": "stream_openai",
          "kind": "function",
          "line": 541,
          "visibility": "private",
          "signature": "async fn stream_openai(\n        &self,\n        messages: Vec<ChatMessage>,\n        tools: Vec<ToolDefinition>,\n    )",
          "doc": "Stream OpenAI API response (Issue #76)\n\nOpenAI SSE format differs from Anthropic:\n- Content: `{\"choices\":[{\"delta\":{\"content\":\"...\"}}]}`\n- Completion: `{\"choices\":[{\"finish_reason\":\"stop\"}]}` then `data: [DONE]`\n\nNote: Tool calling in streaming is not yet supported for OpenAI.\nTools will be logged as a warning and ignored.",
          "is_async": true
        },
        {
          "name": "parse_sse_stream",
          "kind": "function",
          "line": 587,
          "visibility": "private",
          "signature": "fn parse_sse_stream(\n    byte_stream: impl Stream<Item = Result<bytes::Bytes, String>> + Send + 'static,\n)",
          "doc": "Parse Server-Sent Events stream from Anthropic API (Phase 7.8 REDO)\n\nConverts SSE events to StreamDelta items.\nHandles events: content_block_delta, message_stop\n\nUpdated to accept Result<Bytes, String> for HttpClient trait compatibility."
        },
        {
          "name": "parse_openai_sse_stream",
          "kind": "function",
          "line": 665,
          "visibility": "private",
          "signature": "fn parse_openai_sse_stream(\n    byte_stream: impl Stream<Item = Result<bytes::Bytes, String>> + Send + 'static,\n)",
          "doc": "Parse Server-Sent Events stream from OpenAI API (Issue #76)\n\nConverts OpenAI SSE events to StreamDelta items.\nOpenAI format: `{\"choices\":[{\"index\":0,\"delta\":{\"content\":\"...\"},\"finish_reason\":null}]}`\nError format: `{\"error\":{\"message\":\"...\",\"type\":\"...\"}}`\nStream ends with: `data: [DONE]`"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 781,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_config_detection",
          "kind": "function",
          "line": 786,
          "visibility": "private",
          "signature": "fn test_config_detection()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_is_anthropic",
          "kind": "function",
          "line": 792,
          "visibility": "private",
          "signature": "fn test_is_anthropic()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_parse_openai_sse_stream_content",
          "kind": "function",
          "line": 811,
          "visibility": "private",
          "signature": "async fn test_parse_openai_sse_stream_content()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_parse_openai_sse_stream_handles_done_marker",
          "kind": "function",
          "line": 846,
          "visibility": "private",
          "signature": "async fn test_parse_openai_sse_stream_handles_done_marker()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_parse_openai_sse_stream_uses_actual_finish_reason",
          "kind": "function",
          "line": 861,
          "visibility": "private",
          "signature": "async fn test_parse_openai_sse_stream_uses_actual_finish_reason()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_parse_openai_sse_stream_handles_error_events",
          "kind": "function",
          "line": 882,
          "visibility": "private",
          "signature": "async fn test_parse_openai_sse_stream_handles_error_events()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_parse_openai_sse_stream_ignores_empty_content",
          "kind": "function",
          "line": 902,
          "visibility": "private",
          "signature": "async fn test_parse_openai_sse_stream_ignores_empty_content()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::http::HttpClient"
        },
        {
          "path": "crate::http::HttpMethod"
        },
        {
          "path": "crate::http::HttpRequest"
        },
        {
          "path": "crate::http::ReqwestHttpClient"
        },
        {
          "path": "futures::stream::Stream"
        },
        {
          "path": "futures::stream::StreamExt"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::env"
        },
        {
          "path": "std::pin::Pin"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "self::AnthropicContentBlock",
          "alias": "ContentBlock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "futures::StreamExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/lib.rs",
      "symbols": [
        {
          "name": "actor",
          "kind": "mod",
          "line": 8,
          "visibility": "pub"
        },
        {
          "name": "api",
          "kind": "mod",
          "line": 9,
          "visibility": "pub"
        },
        {
          "name": "http",
          "kind": "mod",
          "line": 10,
          "visibility": "pub"
        },
        {
          "name": "interface",
          "kind": "mod",
          "line": 11,
          "visibility": "pub"
        },
        {
          "name": "llm",
          "kind": "mod",
          "line": 12,
          "visibility": "pub"
        },
        {
          "name": "memory",
          "kind": "mod",
          "line": 13,
          "visibility": "pub"
        },
        {
          "name": "models",
          "kind": "mod",
          "line": 14,
          "visibility": "pub"
        },
        {
          "name": "security",
          "kind": "mod",
          "line": 15,
          "visibility": "pub"
        },
        {
          "name": "service",
          "kind": "mod",
          "line": 16,
          "visibility": "pub"
        },
        {
          "name": "state",
          "kind": "mod",
          "line": 17,
          "visibility": "pub"
        },
        {
          "name": "storage",
          "kind": "mod",
          "line": 18,
          "visibility": "pub"
        },
        {
          "name": "tools",
          "kind": "mod",
          "line": 19,
          "visibility": "pub"
        }
      ],
      "imports": [],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/models.rs",
      "symbols": [
        {
          "name": "AgentType",
          "kind": "enum",
          "line": 18,
          "visibility": "pub"
        },
        {
          "name": "AgentCapabilities",
          "kind": "struct",
          "line": 37,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "REACT_PROMPT",
          "kind": "const",
          "line": 49,
          "visibility": "private",
          "signature": "const REACT_PROMPT: &str",
          "doc": "ReAct-style system prompt template"
        },
        {
          "name": "AgentType",
          "kind": "impl",
          "line": 57,
          "visibility": "private"
        },
        {
          "name": "capabilities",
          "kind": "function",
          "line": 62,
          "visibility": "pub",
          "signature": "fn capabilities(&self)",
          "doc": "Get capabilities for this agent type\n\nTigerStyle: Static mapping - type determines capabilities.\nNo per-agent capability persistence needed."
        },
        {
          "name": "CreateAgentRequest",
          "kind": "struct",
          "line": 101,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_agent_name",
          "kind": "function",
          "line": 142,
          "visibility": "private",
          "signature": "fn default_agent_name()"
        },
        {
          "name": "default_embedding_model",
          "kind": "function",
          "line": 146,
          "visibility": "private",
          "signature": "fn default_embedding_model()"
        },
        {
          "name": "Default for CreateAgentRequest",
          "kind": "impl",
          "line": 153,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 154,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "UpdateAgentRequest",
          "kind": "struct",
          "line": 176,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "AgentState",
          "kind": "struct",
          "line": 195,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AgentState",
          "kind": "impl",
          "line": 232,
          "visibility": "private"
        },
        {
          "name": "from_request",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn from_request(request: CreateAgentRequest)",
          "doc": "Create a new agent state from a create request"
        },
        {
          "name": "apply_update",
          "kind": "function",
          "line": 265,
          "visibility": "pub",
          "signature": "fn apply_update(&mut self, update: UpdateAgentRequest)",
          "doc": "Apply an update to the agent state"
        },
        {
          "name": "CreateBlockRequest",
          "kind": "struct",
          "line": 297,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UpdateBlockRequest",
          "kind": "struct",
          "line": 310,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "Block",
          "kind": "struct",
          "line": 321,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Block",
          "kind": "impl",
          "line": 338,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 340,
          "visibility": "pub",
          "signature": "fn new(label: impl Into<String>, value: impl Into<String>)",
          "doc": "Create a new block with label and value"
        },
        {
          "name": "from_request",
          "kind": "function",
          "line": 354,
          "visibility": "pub",
          "signature": "fn from_request(request: CreateBlockRequest)",
          "doc": "Create a block from a create request"
        },
        {
          "name": "apply_update",
          "kind": "function",
          "line": 370,
          "visibility": "pub",
          "signature": "fn apply_update(&mut self, update: UpdateBlockRequest)",
          "doc": "Apply an update"
        },
        {
          "name": "MessageRole",
          "kind": "enum",
          "line": 391,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)",
            "serde(rename_all = \"lowercase\")"
          ]
        },
        {
          "name": "CreateMessageRequest",
          "kind": "struct",
          "line": 401,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ClientTool",
          "kind": "struct",
          "line": 429,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolApproval",
          "kind": "struct",
          "line": 439,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ApprovalMessage",
          "kind": "enum",
          "line": 451,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(tag = \"type\")"
          ]
        },
        {
          "name": "default_role",
          "kind": "function",
          "line": 456,
          "visibility": "private",
          "signature": "fn default_role()"
        },
        {
          "name": "LettaMessage",
          "kind": "struct",
          "line": 462,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "deserialize_content",
          "kind": "function",
          "line": 480,
          "visibility": "private",
          "signature": "fn deserialize_content<D>(deserializer: D)",
          "doc": "Deserialize content that can be either a string or an array of content blocks",
          "generic_params": [
            "D"
          ]
        },
        {
          "name": "LettaMessage",
          "kind": "impl",
          "line": 547,
          "visibility": "private"
        },
        {
          "name": "get_text",
          "kind": "function",
          "line": 549,
          "visibility": "pub",
          "signature": "fn get_text(&self)",
          "doc": "Get the effective text content from either content or text field"
        },
        {
          "name": "CreateMessageRequest",
          "kind": "impl",
          "line": 554,
          "visibility": "private"
        },
        {
          "name": "effective_content",
          "kind": "function",
          "line": 557,
          "visibility": "pub",
          "signature": "fn effective_content(&self)",
          "doc": "Get the effective content and role from the request\nHandles multiple formats for letta-code compatibility"
        },
        {
          "name": "Message",
          "kind": "struct",
          "line": 584,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Message",
          "kind": "impl",
          "line": 617,
          "visibility": "private"
        },
        {
          "name": "message_type_from_role",
          "kind": "function",
          "line": 619,
          "visibility": "pub",
          "signature": "fn message_type_from_role(role: &MessageRole)",
          "doc": "Get message_type from role"
        },
        {
          "name": "ToolCall",
          "kind": "struct",
          "line": 631,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "LettaToolCall",
          "kind": "struct",
          "line": 643,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ApprovalRequest",
          "kind": "struct",
          "line": 654,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MessageResponse",
          "kind": "struct",
          "line": 665,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_stop_reason",
          "kind": "function",
          "line": 678,
          "visibility": "private",
          "signature": "fn default_stop_reason()"
        },
        {
          "name": "UsageStats",
          "kind": "struct",
          "line": 684,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "BatchMessagesRequest",
          "kind": "struct",
          "line": 696,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "BatchMessageResult",
          "kind": "struct",
          "line": 702,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "BatchStatus",
          "kind": "struct",
          "line": 712,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolDefinition",
          "kind": "struct",
          "line": 729,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "allow(dead_code)"
          ]
        },
        {
          "name": "ListResponse",
          "kind": "struct",
          "line": 748,
          "visibility": "pub",
          "generic_params": [
            "T"
          ],
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ErrorResponse",
          "kind": "struct",
          "line": 759,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ErrorResponse",
          "kind": "impl",
          "line": 768,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 769,
          "visibility": "pub",
          "signature": "fn new(code: impl Into<String>, message: impl Into<String>)"
        },
        {
          "name": "not_found",
          "kind": "function",
          "line": 777,
          "visibility": "pub",
          "signature": "fn not_found(resource: &str, id: &str)"
        },
        {
          "name": "bad_request",
          "kind": "function",
          "line": 784,
          "visibility": "pub",
          "signature": "fn bad_request(message: impl Into<String>)"
        },
        {
          "name": "internal",
          "kind": "function",
          "line": 788,
          "visibility": "pub",
          "signature": "fn internal(message: impl Into<String>)"
        },
        {
          "name": "ArchivalEntry",
          "kind": "struct",
          "line": 799,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "HealthResponse",
          "kind": "struct",
          "line": 817,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ImportAgentRequest",
          "kind": "struct",
          "line": 831,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AgentImportData",
          "kind": "struct",
          "line": 841,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "BlockImportData",
          "kind": "struct",
          "line": 874,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MessageImportData",
          "kind": "struct",
          "line": 887,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ExportAgentResponse",
          "kind": "struct",
          "line": 903,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "StreamEvent",
          "kind": "enum",
          "line": 916,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(tag = \"type\", rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "StreamEvent",
          "kind": "impl",
          "line": 941,
          "visibility": "private"
        },
        {
          "name": "event_name",
          "kind": "function",
          "line": 945,
          "visibility": "pub",
          "signature": "fn event_name(&self)",
          "doc": "Get the SSE event name for this event type\n\nUsed to set the \"event:\" field in Server-Sent Events"
        },
        {
          "name": "ScheduleType",
          "kind": "enum",
          "line": 963,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "JobAction",
          "kind": "enum",
          "line": 975,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "JobStatus",
          "kind": "enum",
          "line": 991,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "CreateJobRequest",
          "kind": "struct",
          "line": 1004,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UpdateJobRequest",
          "kind": "struct",
          "line": 1022,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "Job",
          "kind": "struct",
          "line": 1035,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Job",
          "kind": "impl",
          "line": 1062,
          "visibility": "private"
        },
        {
          "name": "from_request",
          "kind": "function",
          "line": 1064,
          "visibility": "pub",
          "signature": "fn from_request(request: CreateJobRequest)",
          "doc": "Create a new job from request"
        },
        {
          "name": "apply_update",
          "kind": "function",
          "line": 1085,
          "visibility": "pub",
          "signature": "fn apply_update(&mut self, update: UpdateJobRequest)",
          "doc": "Apply an update to the job"
        },
        {
          "name": "calculate_next_run",
          "kind": "function",
          "line": 1106,
          "visibility": "private",
          "signature": "fn calculate_next_run(\n    schedule_type: &ScheduleType,\n    schedule: &str,\n    from: DateTime<Utc>,\n)",
          "doc": "Calculate next run time based on schedule\n\nTigerStyle: Deterministic calculation with explicit error handling."
        },
        {
          "name": "CreateProjectRequest",
          "kind": "struct",
          "line": 1142,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UpdateProjectRequest",
          "kind": "struct",
          "line": 1157,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "Project",
          "kind": "struct",
          "line": 1170,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Project",
          "kind": "impl",
          "line": 1187,
          "visibility": "private"
        },
        {
          "name": "from_request",
          "kind": "function",
          "line": 1189,
          "visibility": "pub",
          "signature": "fn from_request(request: CreateProjectRequest)",
          "doc": "Create a new project from request"
        },
        {
          "name": "apply_update",
          "kind": "function",
          "line": 1204,
          "visibility": "pub",
          "signature": "fn apply_update(&mut self, update: UpdateProjectRequest)",
          "doc": "Apply an update to the project"
        },
        {
          "name": "RoutingPolicy",
          "kind": "enum",
          "line": 1228,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq, Eq, Default)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "CreateAgentGroupRequest",
          "kind": "struct",
          "line": 1247,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UpdateAgentGroupRequest",
          "kind": "struct",
          "line": 1263,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "IdentityType",
          "kind": "enum",
          "line": 1283,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, Serialize, Deserialize, PartialEq, Eq, Default)",
            "serde(rename_all = \"lowercase\")"
          ]
        },
        {
          "name": "CreateIdentityRequest",
          "kind": "struct",
          "line": 1292,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UpdateIdentityRequest",
          "kind": "struct",
          "line": 1310,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "Identity",
          "kind": "struct",
          "line": 1328,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Identity",
          "kind": "impl",
          "line": 1341,
          "visibility": "private"
        },
        {
          "name": "from_request",
          "kind": "function",
          "line": 1342,
          "visibility": "pub",
          "signature": "fn from_request(request: CreateIdentityRequest)"
        },
        {
          "name": "apply_update",
          "kind": "function",
          "line": 1363,
          "visibility": "pub",
          "signature": "fn apply_update(&mut self, request: UpdateIdentityRequest)"
        },
        {
          "name": "AgentGroup",
          "kind": "struct",
          "line": 1408,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AgentGroup",
          "kind": "impl",
          "line": 1424,
          "visibility": "private"
        },
        {
          "name": "from_request",
          "kind": "function",
          "line": 1425,
          "visibility": "pub",
          "signature": "fn from_request(request: CreateAgentGroupRequest)"
        },
        {
          "name": "apply_update",
          "kind": "function",
          "line": 1447,
          "visibility": "pub",
          "signature": "fn apply_update(&mut self, update: UpdateAgentGroupRequest)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1474,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_create_agent_state",
          "kind": "function",
          "line": 1478,
          "visibility": "private",
          "signature": "fn test_create_agent_state()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_update_agent",
          "kind": "function",
          "line": 1508,
          "visibility": "private",
          "signature": "fn test_update_agent()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_error_response",
          "kind": "function",
          "line": 1544,
          "visibility": "private",
          "signature": "fn test_error_response()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_calculate_next_run_interval",
          "kind": "function",
          "line": 1551,
          "visibility": "private",
          "signature": "fn test_calculate_next_run_interval()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_calculate_next_run_interval_invalid",
          "kind": "function",
          "line": 1562,
          "visibility": "private",
          "signature": "fn test_calculate_next_run_interval_invalid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_calculate_next_run_cron",
          "kind": "function",
          "line": 1569,
          "visibility": "private",
          "signature": "fn test_calculate_next_run_cron()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_calculate_next_run_cron_hourly",
          "kind": "function",
          "line": 1585,
          "visibility": "private",
          "signature": "fn test_calculate_next_run_cron_hourly()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_calculate_next_run_cron_invalid",
          "kind": "function",
          "line": 1601,
          "visibility": "private",
          "signature": "fn test_calculate_next_run_cron_invalid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_calculate_next_run_once",
          "kind": "function",
          "line": 1608,
          "visibility": "private",
          "signature": "fn test_calculate_next_run_once()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_calculate_next_run_once_invalid",
          "kind": "function",
          "line": 1621,
          "visibility": "private",
          "signature": "fn test_calculate_next_run_once_invalid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_agent_type_letta_aliases",
          "kind": "function",
          "line": 1628,
          "visibility": "private",
          "signature": "fn test_agent_type_letta_aliases()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_create_agent_request_with_letta_alias",
          "kind": "function",
          "line": 1654,
          "visibility": "private",
          "signature": "fn test_create_agent_request_with_letta_alias()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_job_from_request_with_cron",
          "kind": "function",
          "line": 1663,
          "visibility": "private",
          "signature": "fn test_job_from_request_with_cron()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "MCPServerConfig",
          "kind": "enum",
          "line": 1689,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(tag = \"mcp_server_type\")"
          ]
        },
        {
          "name": "MCPServer",
          "kind": "struct",
          "line": 1721,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MCPServer",
          "kind": "impl",
          "line": 1735,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 1737,
          "visibility": "pub",
          "signature": "fn new(server_name: impl Into<String>, config: MCPServerConfig)",
          "doc": "Create a new MCP server"
        }
      ],
      "imports": [
        {
          "path": "chrono::DateTime"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "croner::Cron"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/invariants.rs",
      "symbols": [
        {
          "name": "SINGLE_ACTIVATION",
          "kind": "const",
          "line": 16,
          "visibility": "pub",
          "signature": "const SINGLE_ACTIVATION: &str",
          "doc": "Invariant: At most one active instance per ActorId across all nodes.\n\nFrom TLA+ spec: `SingleActivation == \\A actor \\in ActorIds: Cardinality({n : actor \\in localActors[n]}) <= 1`\n\nThis is THE core guarantee of Kelpie's virtual actor model.\nViolations indicate TOCTOU race in placement or zombie cleanup failure."
        },
        {
          "name": "PLACEMENT_CONSISTENCY",
          "kind": "const",
          "line": 23,
          "visibility": "pub",
          "signature": "const PLACEMENT_CONSISTENCY: &str",
          "doc": "Invariant: If an actor is active, its placement points to the correct node.\n\nFrom TLA+ spec: `actor \\in localActors[node] => placements[actor] = node`\n\nNote: Temporarily violated during lease expiry (zombie state) until cleanup."
        },
        {
          "name": "LEASE_VALIDITY",
          "kind": "const",
          "line": 30,
          "visibility": "pub",
          "signature": "const LEASE_VALIDITY: &str",
          "doc": "Invariant: Active actors have valid (non-expired) leases.\n\nFrom TLA+ spec: `actor \\in localActors[node] => leases[actor].expires > time`\n\nLease renewal must happen before expiry to maintain this invariant."
        },
        {
          "name": "CREATE_GET_CONSISTENCY",
          "kind": "const",
          "line": 36,
          "visibility": "pub",
          "signature": "const CREATE_GET_CONSISTENCY: &str",
          "doc": "Invariant: If create returns Ok(entity), get(entity.id) must succeed.\n\nThis is a fundamental consistency guarantee. If violated, indicates\npartial write or transaction atomicity failure."
        },
        {
          "name": "DELETE_GET_CONSISTENCY",
          "kind": "const",
          "line": 42,
          "visibility": "pub",
          "signature": "const DELETE_GET_CONSISTENCY: &str",
          "doc": "Invariant: If delete returns Ok, get must return NotFound.\n\nComplementary to CREATE_GET_CONSISTENCY. Violations indicate\nincomplete deletion or orphaned data."
        },
        {
          "name": "SINGLE_INVOCATION",
          "kind": "const",
          "line": 49,
          "visibility": "pub",
          "signature": "const SINGLE_INVOCATION: &str",
          "doc": "Invariant: At most one invocation per actor at any time.\n\nFrom TLA+ spec: `Cardinality({inv : inv.actor = a /\\ inv.phase # \"Done\"}) <= 1`\n\nEnforced by single-threaded actor mailbox processing."
        },
        {
          "name": "TRANSACTION_ATOMICITY",
          "kind": "const",
          "line": 56,
          "visibility": "pub",
          "signature": "const TRANSACTION_ATOMICITY: &str",
          "doc": "Invariant: Commit is all-or-nothing (state + KV writes).\n\nFrom TLA+ spec: `TransactionAtomicity` - either all changes visible or none.\n\nViolations indicate partial writes or transaction boundary issues."
        },
        {
          "name": "NO_ORPHANED_WRITES",
          "kind": "const",
          "line": 63,
          "visibility": "pub",
          "signature": "const NO_ORPHANED_WRITES: &str",
          "doc": "Invariant: Deactivating actors don't accept new invocations.\n\nFrom TLA+ spec: `inv.phase \\in {\"PreSnapshot\", \"Executing\"} => actorStatus[inv.actor] = \"Active\"`\n\nPrevents orphaned state writes during shutdown."
        },
        {
          "name": "CAPACITY_BOUNDS",
          "kind": "const",
          "line": 70,
          "visibility": "pub",
          "signature": "const CAPACITY_BOUNDS: &str",
          "doc": "Invariant: Actor count never exceeds node capacity.\n\nFrom TLA+ spec: `nodes[n].actor_count <= nodes[n].capacity`\n\nRegistry must enforce capacity limits during placement."
        },
        {
          "name": "CAPACITY_CONSISTENCY",
          "kind": "const",
          "line": 77,
          "visibility": "pub",
          "signature": "const CAPACITY_CONSISTENCY: &str",
          "doc": "Invariant: Sum of placements on node equals actor_count.\n\nFrom TLA+ spec: `Cardinality({a : placements[a] = n}) = nodes[n].actor_count`\n\nViolations indicate counter drift or placement tracking bug."
        },
        {
          "name": "LEASE_EXCLUSIVITY",
          "kind": "const",
          "line": 84,
          "visibility": "pub",
          "signature": "const LEASE_EXCLUSIVITY: &str",
          "doc": "Invariant: Valid lease implies placement matches lease.node.\n\nFrom TLA+ spec: `leases[a].expires > time => placements[a] = leases[a].node`\n\nEnsures lease and placement are always in sync."
        },
        {
          "name": "CORE_INVARIANTS",
          "kind": "const",
          "line": 87,
          "visibility": "pub",
          "signature": "const CORE_INVARIANTS: &[&str]",
          "doc": "All core invariants that should be checked in comprehensive tests."
        },
        {
          "name": "EVENTUALLY_CONSISTENT_INVARIANTS",
          "kind": "const",
          "line": 97,
          "visibility": "pub",
          "signature": "const EVENTUALLY_CONSISTENT_INVARIANTS: &[&str]",
          "doc": "Invariants that may be temporarily violated during normal operation.\nThese should be checked after operations complete, not during."
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 103,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "invariant_names_are_unique",
          "kind": "function",
          "line": 107,
          "visibility": "private",
          "signature": "fn invariant_names_are_unique()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "core_invariants_are_defined",
          "kind": "function",
          "line": 129,
          "visibility": "private",
          "signature": "fn core_invariants_are_defined()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/state.rs",
      "symbols": [
        {
          "name": "AGENTS_COUNT_MAX",
          "kind": "const",
          "line": 33,
          "visibility": "pub",
          "signature": "const AGENTS_COUNT_MAX: usize",
          "doc": "Maximum agents per server instance"
        },
        {
          "name": "MESSAGES_PER_AGENT_MAX",
          "kind": "const",
          "line": 36,
          "visibility": "pub",
          "signature": "const MESSAGES_PER_AGENT_MAX: usize",
          "doc": "Maximum messages per agent"
        },
        {
          "name": "ARCHIVAL_ENTRIES_PER_AGENT_MAX",
          "kind": "const",
          "line": 39,
          "visibility": "pub",
          "signature": "const ARCHIVAL_ENTRIES_PER_AGENT_MAX: usize",
          "doc": "Maximum archival entries per agent"
        },
        {
          "name": "blocks_count_max",
          "kind": "function",
          "line": 42,
          "visibility": "pub",
          "signature": "fn blocks_count_max()",
          "doc": "Maximum standalone blocks (configurable via KELPIE_BLOCKS_COUNT_MAX env var)"
        },
        {
          "name": "ToolInfo",
          "kind": "struct",
          "line": 55,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "AppState",
          "kind": "struct",
          "line": 78,
          "visibility": "pub",
          "generic_params": [
            "R"
          ],
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "AppStateInner",
          "kind": "struct",
          "line": 82,
          "visibility": "private",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "AppState<R>",
          "kind": "impl",
          "line": 136,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 138,
          "visibility": "pub",
          "signature": "fn new(runtime: R)",
          "doc": "Create new server state with runtime"
        },
        {
          "name": "with_registry",
          "kind": "function",
          "line": 144,
          "visibility": "pub",
          "signature": "fn with_registry(runtime: R, registry: Option<&prometheus::Registry>)",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "with_registry",
          "kind": "function",
          "line": 237,
          "visibility": "pub",
          "signature": "fn with_registry(runtime: R, _registry: Option<()>)",
          "attributes": [
            "cfg(not(feature = \"otel\"))"
          ]
        },
        {
          "name": "with_storage",
          "kind": "function",
          "line": 330,
          "visibility": "pub",
          "signature": "fn with_storage(runtime: R, storage: Arc<dyn AgentStorage>)",
          "doc": "Create server state with durable storage backend\n\nTigerStyle: Storage enables persistence for crash recovery."
        },
        {
          "name": "with_storage_and_registry",
          "kind": "function",
          "line": 415,
          "visibility": "pub",
          "signature": "fn with_storage_and_registry(\n        runtime: R,\n        storage: Arc<dyn AgentStorage>,\n        registry: Option<prometheus::Registry>,\n    )",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "with_llm",
          "kind": "function",
          "line": 502,
          "visibility": "pub",
          "signature": "fn with_llm(runtime: R, llm: LlmClient)",
          "doc": "Create server state with an explicit LLM client (test helper)"
        },
        {
          "name": "with_fault_injector",
          "kind": "function",
          "line": 539,
          "visibility": "pub",
          "signature": "fn with_fault_injector(runtime: R, fault_injector: Arc<FaultInjector>)",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "with_storage_and_faults",
          "kind": "function",
          "line": 575,
          "visibility": "pub",
          "signature": "fn with_storage_and_faults(\n        runtime: R,\n        storage: Arc<dyn AgentStorage>,\n        fault_injector: Arc<FaultInjector>,\n    )",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "with_agent_service",
          "kind": "function",
          "line": 624,
          "visibility": "pub",
          "signature": "fn with_agent_service(\n        runtime: R,\n        agent_service: AgentService<R>,\n        dispatcher: DispatcherHandle<R>,\n    )",
          "doc": "Create AppState with AgentService and Dispatcher integration\n\nTigerStyle: This constructor enables actor-based agent management (Phase 5).\n\n# Arguments\n* `runtime` - Runtime for spawning tasks\n* `agent_service` - Service layer for agent operations\n* `dispatcher` - Dispatcher handle for shutdown coordination\n\nNote: This constructor is used for DST testing and will eventually\nreplace the HashMap-based constructors after Phase 6 migration."
        },
        {
          "name": "agent_service",
          "kind": "function",
          "line": 669,
          "visibility": "pub",
          "signature": "fn agent_service(&self)",
          "doc": "Get reference to the agent service (if configured)\n\nReturns None if AppState was created without actor-based service.\nAfter Phase 6 migration, this will always return Some."
        },
        {
          "name": "shutdown",
          "kind": "function",
          "line": 682,
          "visibility": "pub",
          "signature": "async fn shutdown(&self, timeout: Duration)",
          "doc": "Gracefully shutdown the actor system\n\nTigerStyle: Waits for in-flight requests to complete (up to timeout).\n\n# Arguments\n* `timeout` - Maximum time to wait for in-flight requests\n\n# Errors\nReturns error if dispatcher shutdown fails",
          "is_async": true
        },
        {
          "name": "should_inject_fault",
          "kind": "function",
          "line": 701,
          "visibility": "private",
          "signature": "fn should_inject_fault(&self, operation: &str)",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "should_inject_fault",
          "kind": "function",
          "line": 710,
          "visibility": "private",
          "signature": "fn should_inject_fault(&self, _operation: &str)",
          "attributes": [
            "cfg(not(feature = \"dst\"))"
          ]
        },
        {
          "name": "llm",
          "kind": "function",
          "line": 715,
          "visibility": "pub",
          "signature": "fn llm(&self)",
          "doc": "Get reference to the LLM client (if configured)"
        },
        {
          "name": "tool_registry",
          "kind": "function",
          "line": 720,
          "visibility": "pub",
          "signature": "fn tool_registry(&self)",
          "doc": "Get reference to the unified tool registry"
        },
        {
          "name": "audit_log",
          "kind": "function",
          "line": 725,
          "visibility": "pub",
          "signature": "fn audit_log(&self)",
          "doc": "Get the audit log"
        },
        {
          "name": "uptime_seconds",
          "kind": "function",
          "line": 730,
          "visibility": "pub",
          "signature": "fn uptime_seconds(&self)",
          "doc": "Get server uptime in seconds"
        },
        {
          "name": "prometheus_registry",
          "kind": "function",
          "line": 737,
          "visibility": "pub",
          "signature": "fn prometheus_registry(&self)",
          "attributes": [
            "cfg(feature = \"otel\")"
          ]
        },
        {
          "name": "has_storage",
          "kind": "function",
          "line": 742,
          "visibility": "pub",
          "signature": "fn has_storage(&self)",
          "doc": "Check if durable storage is configured"
        },
        {
          "name": "storage",
          "kind": "function",
          "line": 747,
          "visibility": "pub",
          "signature": "fn storage(&self)",
          "doc": "Get reference to the storage backend (if configured)"
        },
        {
          "name": "dispatcher",
          "kind": "function",
          "line": 753,
          "visibility": "pub",
          "signature": "fn dispatcher(&self)",
          "doc": "Get reference to the dispatcher handle (if configured)\nTigerStyle: Needed for agent-to-agent communication (Issue #75)"
        },
        {
          "name": "get_agent_async",
          "kind": "function",
          "line": 766,
          "visibility": "pub",
          "signature": "async fn get_agent_async(&self, id: &str)",
          "doc": "Get an agent by ID\n\nSingle source of truth: Requires AgentService (actor system).",
          "is_async": true
        },
        {
          "name": "create_agent_async",
          "kind": "function",
          "line": 792,
          "visibility": "pub",
          "signature": "async fn create_agent_async(\n        &self,\n        request: crate::models::CreateAgentRequest,\n    )",
          "doc": "Create an agent (async)\n\nSingle source of truth: Requires AgentService (actor system).",
          "is_async": true
        },
        {
          "name": "update_agent_async",
          "kind": "function",
          "line": 814,
          "visibility": "pub",
          "signature": "async fn update_agent_async(\n        &self,\n        id: &str,\n        update: serde_json::Value,\n    )",
          "doc": "Update an agent\n\nSingle source of truth: Requires AgentService (actor system).",
          "is_async": true
        },
        {
          "name": "delete_agent_async",
          "kind": "function",
          "line": 837,
          "visibility": "pub",
          "signature": "async fn delete_agent_async(&self, id: &str)",
          "doc": "Delete an agent (async)\n\nSingle source of truth: Requires AgentService (actor system).",
          "is_async": true
        },
        {
          "name": "list_agents_async",
          "kind": "function",
          "line": 862,
          "visibility": "pub",
          "signature": "async fn list_agents_async(\n        &self,\n        limit: usize,\n        cursor: Option<&str>,\n        name_filter: Option<&str>,\n    )",
          "doc": "List agents from durable storage\n\nTigerStyle: Single source of truth - all data flows through storage.\nRequires storage to be configured.\n\n# Arguments\n* `limit` - Maximum number of agents to return\n* `cursor` - Pagination cursor (agent ID to start after)\n* `name_filter` - Optional exact name match filter (applied before pagination)",
          "is_async": true
        },
        {
          "name": "persist_agent",
          "kind": "function",
          "line": 957,
          "visibility": "pub",
          "signature": "async fn persist_agent(&self, agent: &AgentState)",
          "doc": "Persist agent metadata to durable storage\n\nTigerStyle: Async operation for storage backend writes.\nReturns Ok(()) if no storage configured (in-memory only mode).",
          "is_async": true
        },
        {
          "name": "persist_message",
          "kind": "function",
          "line": 990,
          "visibility": "pub",
          "signature": "async fn persist_message(\n        &self,\n        agent_id: &str,\n        message: &Message,\n    )",
          "doc": "Persist a message to durable storage",
          "is_async": true
        },
        {
          "name": "persist_block",
          "kind": "function",
          "line": 1002,
          "visibility": "pub",
          "signature": "async fn persist_block(&self, agent_id: &str, block: &Block)",
          "doc": "Persist a block update to durable storage",
          "is_async": true
        },
        {
          "name": "load_agent_from_storage",
          "kind": "function",
          "line": 1014,
          "visibility": "pub",
          "signature": "async fn load_agent_from_storage(\n        &self,\n        agent_id: &str,\n    )",
          "doc": "Load agent from storage and populate in-memory cache\n\nTigerStyle: Loads from durable storage on cache miss.",
          "is_async": true
        },
        {
          "name": "load_messages_from_storage",
          "kind": "function",
          "line": 1056,
          "visibility": "pub",
          "signature": "async fn load_messages_from_storage(\n        &self,\n        agent_id: &str,\n        limit: usize,\n    )",
          "doc": "Load messages from storage for an agent",
          "is_async": true
        },
        {
          "name": "create_agent",
          "kind": "function",
          "line": 1080,
          "visibility": "pub",
          "signature": "fn create_agent(&self, agent: AgentState)",
          "attributes": [
            "deprecated(since = \"0.1.0\", note = \"Use create_agent_async with AgentService\")"
          ]
        },
        {
          "name": "get_agent",
          "kind": "function",
          "line": 1124,
          "visibility": "pub",
          "signature": "fn get_agent(&self, id: &str)",
          "doc": "Get an agent by ID"
        },
        {
          "name": "list_agents",
          "kind": "function",
          "line": 1134,
          "visibility": "pub",
          "signature": "fn list_agents(\n        &self,\n        limit: usize,\n        cursor: Option<&str>,\n    )",
          "doc": "List all agents with pagination"
        },
        {
          "name": "update_agent",
          "kind": "function",
          "line": 1178,
          "visibility": "pub",
          "signature": "fn update_agent(\n        &self,\n        id: &str,\n        update: impl FnOnce(&mut AgentState),\n    )",
          "doc": "Update an agent"
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 1206,
          "visibility": "pub",
          "signature": "fn delete_agent(&self, id: &str)",
          "doc": "Delete an agent"
        },
        {
          "name": "agent_count",
          "kind": "function",
          "line": 1240,
          "visibility": "pub",
          "signature": "fn agent_count(&self)",
          "doc": "Get agent count"
        },
        {
          "name": "record_memory_metrics",
          "kind": "function",
          "line": 1275,
          "visibility": "pub",
          "signature": "fn record_memory_metrics(&self)",
          "doc": "Calculate and record memory usage metrics"
        },
        {
          "name": "get_block",
          "kind": "function",
          "line": 1343,
          "visibility": "pub",
          "signature": "fn get_block(&self, agent_id: &str, block_id: &str)",
          "doc": "Get a memory block by agent ID and block ID"
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 1359,
          "visibility": "pub",
          "signature": "fn update_block(\n        &self,\n        agent_id: &str,\n        block_id: &str,\n        update: impl FnOnce(&mut Block),\n    )",
          "doc": "Update a memory block"
        },
        {
          "name": "list_blocks",
          "kind": "function",
          "line": 1392,
          "visibility": "pub",
          "signature": "fn list_blocks(&self, agent_id: &str)",
          "doc": "List blocks for an agent"
        },
        {
          "name": "get_block_by_label",
          "kind": "function",
          "line": 1408,
          "visibility": "pub",
          "signature": "fn get_block_by_label(\n        &self,\n        agent_id: &str,\n        label: &str,\n    )",
          "doc": "Get a memory block by agent ID and label (for letta-code compatibility)"
        },
        {
          "name": "update_block_by_label",
          "kind": "function",
          "line": 1435,
          "visibility": "pub",
          "signature": "fn update_block_by_label(\n        &self,\n        agent_id: &str,\n        label: &str,\n        update: impl FnOnce(&mut Block),\n    )",
          "doc": "Update a memory block by label (for letta-code compatibility)"
        },
        {
          "name": "append_or_create_block_by_label",
          "kind": "function",
          "line": 1480,
          "visibility": "pub",
          "signature": "fn append_or_create_block_by_label(\n        &self,\n        agent_id: &str,\n        label: &str,\n        content: &str,\n    )",
          "doc": "Atomically append to a block or create it if it doesn't exist.\n\nBUG-001 FIX: This method eliminates the TOCTOU race condition in core_memory_append\nby holding the write lock for the entire check-and-update/create operation.\n\nTigerStyle: Atomic operation prevents race between check and modification."
        },
        {
          "name": "append_or_create_block_by_label_async",
          "kind": "function",
          "line": 1527,
          "visibility": "pub",
          "signature": "async fn append_or_create_block_by_label_async(\n        &self,\n        agent_id: &str,\n        label: &str,\n        content: &str,\n    )",
          "doc": "Atomic append or create block\n\nSingle source of truth: Requires AgentService (actor system).\n\nTigerStyle: Atomic operation prevents race between check and modification.",
          "is_async": true
        },
        {
          "name": "create_standalone_block",
          "kind": "function",
          "line": 1552,
          "visibility": "pub",
          "signature": "fn create_standalone_block(&self, block: Block)",
          "doc": "Create a standalone block"
        },
        {
          "name": "get_standalone_block",
          "kind": "function",
          "line": 1579,
          "visibility": "pub",
          "signature": "fn get_standalone_block(&self, id: &str)",
          "doc": "Get a standalone block by ID"
        },
        {
          "name": "list_standalone_blocks",
          "kind": "function",
          "line": 1589,
          "visibility": "pub",
          "signature": "fn list_standalone_blocks(\n        &self,\n        limit: usize,\n        cursor: Option<&str>,\n        label: Option<&str>,\n    )",
          "doc": "List all standalone blocks with pagination"
        },
        {
          "name": "update_standalone_block",
          "kind": "function",
          "line": 1640,
          "visibility": "pub",
          "signature": "fn update_standalone_block(\n        &self,\n        id: &str,\n        update: impl FnOnce(&mut Block),\n    )",
          "doc": "Update a standalone block"
        },
        {
          "name": "delete_standalone_block",
          "kind": "function",
          "line": 1661,
          "visibility": "pub",
          "signature": "fn delete_standalone_block(&self, id: &str)",
          "doc": "Delete a standalone block"
        },
        {
          "name": "standalone_block_count",
          "kind": "function",
          "line": 1679,
          "visibility": "pub",
          "signature": "fn standalone_block_count(&self)",
          "doc": "Get standalone block count"
        },
        {
          "name": "add_message",
          "kind": "function",
          "line": 1693,
          "visibility": "pub",
          "signature": "fn add_message(&self, agent_id: &str, message: Message)",
          "doc": "Add a message to an agent's history"
        },
        {
          "name": "add_message_async",
          "kind": "function",
          "line": 1732,
          "visibility": "pub",
          "signature": "async fn add_message_async(\n        &self,\n        agent_id: &str,\n        message: Message,\n    )",
          "doc": "Add a message to an agent's history (async version with storage persistence)\n\nNOTE: For the actor-based flow, messages are stored in actor state via\nhandle_message_full operation. This method is kept for direct storage writes.\n\nSingle source of truth: Writes to storage only. HashMap cache removed.",
          "is_async": true
        },
        {
          "name": "list_messages",
          "kind": "function",
          "line": 1760,
          "visibility": "pub",
          "signature": "fn list_messages(\n        &self,\n        agent_id: &str,\n        limit: usize,\n        before: Option<&str>,\n    )",
          "doc": "List messages for an agent with pagination"
        },
        {
          "name": "register_tool",
          "kind": "function",
          "line": 1804,
          "visibility": "pub",
          "signature": "async fn register_tool(\n        &self,\n        name: String,\n        description: String,\n        input_schema: serde_json::Value,\n        source_code: String,\n        runtime: String,\n        requirements: Vec<String>,\n    )",
          "doc": "Register a custom tool",
          "is_async": true
        },
        {
          "name": "upsert_tool",
          "kind": "function",
          "line": 1874,
          "visibility": "pub",
          "signature": "async fn upsert_tool(\n        &self,\n        id: String,\n        name: String,\n        description: String,\n        input_schema: serde_json::Value,\n        source: Option<String>,\n        default_requires_approval: bool,\n        tool_type: String,\n        tags: Option<Vec<String>>,\n        return_char_limit: Option<u32>,\n    )",
          "is_async": true,
          "attributes": [
            "allow(clippy::too_many_arguments)"
          ]
        },
        {
          "name": "get_tool",
          "kind": "function",
          "line": 1979,
          "visibility": "pub",
          "signature": "async fn get_tool(&self, name: &str)",
          "doc": "Get a tool by name",
          "is_async": true
        },
        {
          "name": "get_tool_by_id",
          "kind": "function",
          "line": 2003,
          "visibility": "pub",
          "signature": "async fn get_tool_by_id(&self, id: &str)",
          "doc": "Get a tool by ID",
          "is_async": true
        },
        {
          "name": "list_tools",
          "kind": "function",
          "line": 2036,
          "visibility": "pub",
          "signature": "async fn list_tools(&self)",
          "doc": "List all tools",
          "is_async": true
        },
        {
          "name": "tool_name_to_uuid",
          "kind": "function",
          "line": 2070,
          "visibility": "private",
          "signature": "fn tool_name_to_uuid(name: &str)",
          "doc": "Generate a deterministic UUID from a tool name\nUses UUID v5 (name-based with SHA-1) to ensure the same name always produces the same ID"
        },
        {
          "name": "delete_tool",
          "kind": "function",
          "line": 2076,
          "visibility": "pub",
          "signature": "async fn delete_tool(&self, name: &str)",
          "doc": "Delete a tool",
          "is_async": true
        },
        {
          "name": "execute_tool",
          "kind": "function",
          "line": 2106,
          "visibility": "pub",
          "signature": "async fn execute_tool(\n        &self,\n        name: &str,\n        arguments: serde_json::Value,\n    )",
          "doc": "Execute a tool via the unified registry",
          "is_async": true
        },
        {
          "name": "load_custom_tools",
          "kind": "function",
          "line": 2122,
          "visibility": "pub",
          "signature": "async fn load_custom_tools(&self)",
          "doc": "Load custom tools from storage into the registry",
          "is_async": true
        },
        {
          "name": "load_agents_from_storage",
          "kind": "function",
          "line": 2158,
          "visibility": "pub",
          "signature": "async fn load_agents_from_storage(&self)",
          "doc": "Load agents from storage into the in-memory state\n\nCalled on server startup to restore persisted agents.",
          "is_async": true
        },
        {
          "name": "load_mcp_servers_from_storage",
          "kind": "function",
          "line": 2190,
          "visibility": "pub",
          "signature": "async fn load_mcp_servers_from_storage(&self)",
          "doc": "Load MCP servers from storage into the in-memory state\n\nCalled on server startup to restore persisted MCP servers.",
          "is_async": true
        },
        {
          "name": "load_agent_groups_from_storage",
          "kind": "function",
          "line": 2218,
          "visibility": "pub",
          "signature": "async fn load_agent_groups_from_storage(&self)",
          "doc": "Load agent groups from storage into the in-memory state\n\nCalled on server startup to restore persisted agent groups.",
          "is_async": true
        },
        {
          "name": "load_identities_from_storage",
          "kind": "function",
          "line": 2246,
          "visibility": "pub",
          "signature": "async fn load_identities_from_storage(&self)",
          "doc": "Load identities from storage into the in-memory state\n\nCalled on server startup to restore persisted identities.",
          "is_async": true
        },
        {
          "name": "load_projects_from_storage",
          "kind": "function",
          "line": 2274,
          "visibility": "pub",
          "signature": "async fn load_projects_from_storage(&self)",
          "doc": "Load projects from storage into the in-memory state\n\nCalled on server startup to restore persisted projects.",
          "is_async": true
        },
        {
          "name": "load_jobs_from_storage",
          "kind": "function",
          "line": 2302,
          "visibility": "pub",
          "signature": "async fn load_jobs_from_storage(&self)",
          "doc": "Load jobs from storage into the in-memory state\n\nCalled on server startup to restore persisted jobs.",
          "is_async": true
        },
        {
          "name": "add_archival",
          "kind": "function",
          "line": 2332,
          "visibility": "pub",
          "signature": "fn add_archival(\n        &self,\n        agent_id: &str,\n        content: String,\n        metadata: Option<serde_json::Value>,\n    )",
          "doc": "Add entry to archival memory"
        },
        {
          "name": "search_archival",
          "kind": "function",
          "line": 2376,
          "visibility": "pub",
          "signature": "fn search_archival(\n        &self,\n        agent_id: &str,\n        query: Option<&str>,\n        limit: usize,\n    )",
          "doc": "Search archival memory"
        },
        {
          "name": "get_archival_entry",
          "kind": "function",
          "line": 2418,
          "visibility": "pub",
          "signature": "fn get_archival_entry(\n        &self,\n        agent_id: &str,\n        entry_id: &str,\n    )",
          "doc": "Get a specific archival entry"
        },
        {
          "name": "delete_archival_entry",
          "kind": "function",
          "line": 2438,
          "visibility": "pub",
          "signature": "fn delete_archival_entry(&self, agent_id: &str, entry_id: &str)",
          "doc": "Delete an archival entry"
        },
        {
          "name": "add_job",
          "kind": "function",
          "line": 2470,
          "visibility": "pub",
          "signature": "fn add_job(&self, job: Job)",
          "doc": "Add a scheduled job"
        },
        {
          "name": "get_job",
          "kind": "function",
          "line": 2495,
          "visibility": "pub",
          "signature": "fn get_job(&self, job_id: &str)",
          "doc": "Get a job by ID"
        },
        {
          "name": "list_jobs_for_agent",
          "kind": "function",
          "line": 2511,
          "visibility": "pub",
          "signature": "fn list_jobs_for_agent(&self, agent_id: &str)",
          "doc": "List jobs for a specific agent"
        },
        {
          "name": "list_all_jobs",
          "kind": "function",
          "line": 2534,
          "visibility": "pub",
          "signature": "fn list_all_jobs(&self, agent_id: Option<&str>)",
          "doc": "List all jobs with optional agent filter"
        },
        {
          "name": "update_job",
          "kind": "function",
          "line": 2560,
          "visibility": "pub",
          "signature": "fn update_job(&self, job: Job)",
          "doc": "Update a job"
        },
        {
          "name": "delete_job",
          "kind": "function",
          "line": 2585,
          "visibility": "pub",
          "signature": "fn delete_job(&self, job_id: &str)",
          "doc": "Delete a job"
        },
        {
          "name": "add_project",
          "kind": "function",
          "line": 2613,
          "visibility": "pub",
          "signature": "fn add_project(&self, project: Project)",
          "doc": "Add a project"
        },
        {
          "name": "get_project",
          "kind": "function",
          "line": 2638,
          "visibility": "pub",
          "signature": "fn get_project(&self, project_id: &str)",
          "doc": "Get a project by ID"
        },
        {
          "name": "list_projects",
          "kind": "function",
          "line": 2654,
          "visibility": "pub",
          "signature": "fn list_projects(\n        &self,\n        cursor: Option<&str>,\n    )",
          "doc": "List all projects with pagination"
        },
        {
          "name": "update_project",
          "kind": "function",
          "line": 2693,
          "visibility": "pub",
          "signature": "fn update_project(&self, project: Project)",
          "doc": "Update a project"
        },
        {
          "name": "delete_project",
          "kind": "function",
          "line": 2718,
          "visibility": "pub",
          "signature": "fn delete_project(&self, project_id: &str)",
          "doc": "Delete a project"
        },
        {
          "name": "list_agents_by_project",
          "kind": "function",
          "line": 2742,
          "visibility": "pub",
          "signature": "fn list_agents_by_project(&self, project_id: &str)",
          "doc": "List agents by project ID"
        },
        {
          "name": "add_batch_status",
          "kind": "function",
          "line": 2769,
          "visibility": "pub",
          "signature": "fn add_batch_status(&self, status: BatchStatus)",
          "doc": "Store a batch status"
        },
        {
          "name": "update_batch_status",
          "kind": "function",
          "line": 2786,
          "visibility": "pub",
          "signature": "fn update_batch_status(&self, status: BatchStatus)",
          "doc": "Update a batch status"
        },
        {
          "name": "get_batch_status",
          "kind": "function",
          "line": 2811,
          "visibility": "pub",
          "signature": "fn get_batch_status(&self, batch_id: &str)",
          "doc": "Get batch status by ID"
        },
        {
          "name": "add_agent_group",
          "kind": "function",
          "line": 2831,
          "visibility": "pub",
          "signature": "async fn add_agent_group(&self, group: AgentGroup)",
          "doc": "Add a new agent group",
          "is_async": true
        },
        {
          "name": "get_agent_group",
          "kind": "function",
          "line": 2870,
          "visibility": "pub",
          "signature": "fn get_agent_group(&self, group_id: &str)",
          "doc": "Get agent group by ID"
        },
        {
          "name": "list_agent_groups",
          "kind": "function",
          "line": 2886,
          "visibility": "pub",
          "signature": "fn list_agent_groups(\n        &self,\n        cursor: Option<&str>,\n    )",
          "doc": "List agent groups with pagination"
        },
        {
          "name": "update_agent_group",
          "kind": "function",
          "line": 2922,
          "visibility": "pub",
          "signature": "async fn update_agent_group(&self, group: AgentGroup)",
          "doc": "Update an agent group",
          "is_async": true
        },
        {
          "name": "delete_agent_group",
          "kind": "function",
          "line": 2961,
          "visibility": "pub",
          "signature": "async fn delete_agent_group(&self, group_id: &str)",
          "doc": "Delete an agent group",
          "is_async": true
        },
        {
          "name": "add_identity",
          "kind": "function",
          "line": 3002,
          "visibility": "pub",
          "signature": "async fn add_identity(&self, identity: crate::models::Identity)",
          "doc": "Add a new identity",
          "is_async": true
        },
        {
          "name": "get_identity",
          "kind": "function",
          "line": 3041,
          "visibility": "pub",
          "signature": "fn get_identity(\n        &self,\n        identity_id: &str,\n    )",
          "doc": "Get identity by ID"
        },
        {
          "name": "list_identities",
          "kind": "function",
          "line": 3060,
          "visibility": "pub",
          "signature": "fn list_identities(\n        &self,\n        cursor: Option<&str>,\n    )",
          "doc": "List identities with pagination"
        },
        {
          "name": "update_identity",
          "kind": "function",
          "line": 3096,
          "visibility": "pub",
          "signature": "async fn update_identity(\n        &self,\n        identity: crate::models::Identity,\n    )",
          "doc": "Update an identity",
          "is_async": true
        },
        {
          "name": "delete_identity",
          "kind": "function",
          "line": 3138,
          "visibility": "pub",
          "signature": "async fn delete_identity(&self, identity_id: &str)",
          "doc": "Delete an identity",
          "is_async": true
        },
        {
          "name": "Default for AppState<kelpie_core::TokioRuntime>",
          "kind": "impl",
          "line": 3175,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 3176,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "StateError",
          "kind": "enum",
          "line": 3183,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "std::fmt::Display for StateError",
          "kind": "impl",
          "line": 3203,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 3204,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "std::error::Error for StateError",
          "kind": "impl",
          "line": 3229,
          "visibility": "private"
        },
        {
          "name": "AppState<R>",
          "kind": "impl",
          "line": 3235,
          "visibility": "private"
        },
        {
          "name": "create_mcp_server",
          "kind": "function",
          "line": 3237,
          "visibility": "pub",
          "signature": "async fn create_mcp_server(\n        &self,\n        server_name: impl Into<String>,\n        config: crate::models::MCPServerConfig,\n    )",
          "doc": "Create a new MCP server",
          "is_async": true
        },
        {
          "name": "get_mcp_server",
          "kind": "function",
          "line": 3269,
          "visibility": "pub",
          "signature": "async fn get_mcp_server(&self, server_id: &str)",
          "doc": "Get an MCP server by ID",
          "is_async": true
        },
        {
          "name": "list_mcp_servers",
          "kind": "function",
          "line": 3274,
          "visibility": "pub",
          "signature": "async fn list_mcp_servers(&self)",
          "doc": "List all MCP servers",
          "is_async": true
        },
        {
          "name": "update_mcp_server",
          "kind": "function",
          "line": 3283,
          "visibility": "pub",
          "signature": "async fn update_mcp_server(\n        &self,\n        server_id: &str,\n        server_name: Option<String>,\n        config: Option<crate::models::MCPServerConfig>,\n    )",
          "doc": "Update an MCP server",
          "is_async": true
        },
        {
          "name": "delete_mcp_server",
          "kind": "function",
          "line": 3329,
          "visibility": "pub",
          "signature": "async fn delete_mcp_server(&self, server_id: &str)",
          "doc": "Delete an MCP server",
          "is_async": true
        },
        {
          "name": "list_mcp_server_tools",
          "kind": "function",
          "line": 3363,
          "visibility": "pub",
          "signature": "async fn list_mcp_server_tools(\n        &self,\n        server_id: &str,\n    )",
          "doc": "List tools provided by an MCP server\n\nReturns JSON Value array to avoid type conflicts from multiple compilations",
          "is_async": true
        },
        {
          "name": "execute_mcp_server_tool",
          "kind": "function",
          "line": 3439,
          "visibility": "pub",
          "signature": "async fn execute_mcp_server_tool(\n        &self,\n        server_id: &str,\n        tool_name: &str,\n        arguments: serde_json::Value,\n    )",
          "doc": "Execute a tool on an MCP server",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 3503,
          "visibility": "private",
          "attributes": [
            "cfg(test)",
            "allow(deprecated)"
          ]
        },
        {
          "name": "create_test_agent",
          "kind": "function",
          "line": 3507,
          "visibility": "private",
          "signature": "fn create_test_agent(name: &str)"
        },
        {
          "name": "test_create_and_get_agent",
          "kind": "function",
          "line": 3532,
          "visibility": "private",
          "signature": "fn test_create_and_get_agent()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_list_agents_pagination",
          "kind": "function",
          "line": 3546,
          "visibility": "private",
          "signature": "fn test_list_agents_pagination()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_delete_agent",
          "kind": "function",
          "line": 3571,
          "visibility": "private",
          "signature": "fn test_delete_agent()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_update_block",
          "kind": "function",
          "line": 3584,
          "visibility": "private",
          "signature": "fn test_update_block()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_messages",
          "kind": "function",
          "line": 3602,
          "visibility": "private",
          "signature": "fn test_messages()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_async_methods_require_agent_service",
          "kind": "function",
          "line": 3635,
          "visibility": "private",
          "signature": "async fn test_async_methods_require_agent_service()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::actor::AgentActor"
        },
        {
          "path": "crate::actor::RealLlmAdapter"
        },
        {
          "path": "crate::llm::LlmClient"
        },
        {
          "path": "crate::models::ArchivalEntry"
        },
        {
          "path": "crate::models::AgentGroup"
        },
        {
          "path": "crate::models::AgentState"
        },
        {
          "path": "crate::models::BatchStatus"
        },
        {
          "path": "crate::models::Block"
        },
        {
          "path": "crate::models::Job"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "crate::models::Project"
        },
        {
          "path": "crate::security::audit::new_shared_log"
        },
        {
          "path": "crate::security::audit::SharedAuditLog"
        },
        {
          "path": "crate::service::AgentService"
        },
        {
          "path": "crate::storage::AgentStorage"
        },
        {
          "path": "crate::storage::SimStorage"
        },
        {
          "path": "crate::storage::StorageError"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_runtime::DispatcherHandle"
        },
        {
          "path": "kelpie_storage::memory::MemoryKV"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::sync::RwLock"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "kelpie_dst::fault::FaultInjector"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::models::AgentType"
        },
        {
          "path": "crate::models::CreateAgentRequest"
        },
        {
          "path": "crate::models::CreateBlockRequest"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/main.rs",
      "symbols": [
        {
          "name": "api",
          "kind": "mod",
          "line": 5,
          "visibility": "private"
        },
        {
          "name": "Cli",
          "kind": "struct",
          "line": 34,
          "visibility": "private",
          "attributes": [
            "derive(Parser, Debug)",
            "command(name = \"kelpie-server\")",
            "command(about = \"Kelpie distributed virtual actor server with Letta-compatible API\")",
            "command(version)"
          ]
        },
        {
          "name": "StorageBackend",
          "kind": "enum",
          "line": 59,
          "visibility": "private",
          "doc": "Storage backend detection result"
        },
        {
          "name": "FDB_CLUSTER_PATHS",
          "kind": "const",
          "line": 67,
          "visibility": "private",
          "signature": "const FDB_CLUSTER_PATHS: &[&str]",
          "doc": "Standard paths to check for FDB cluster file"
        },
        {
          "name": "detect_storage_backend",
          "kind": "function",
          "line": 83,
          "visibility": "private",
          "signature": "fn detect_storage_backend(cli: &Cli)",
          "doc": "Detect the storage backend to use based on CLI flags, env vars, and auto-detection\n\nPriority order:\n1. --memory-only flag (explicit in-memory mode)\n2. --fdb-cluster-file CLI argument\n3. KELPIE_FDB_CLUSTER env var\n4. FDB_CLUSTER_FILE env var (standard FDB env var)\n5. Auto-detect from standard paths\n6. Fall back to in-memory mode"
        },
        {
          "name": "main",
          "kind": "function",
          "line": 139,
          "visibility": "private",
          "signature": "async fn main()",
          "is_async": true,
          "attributes": [
            "tokio::main"
          ]
        },
        {
          "name": "register_builtin_tools",
          "kind": "function",
          "line": 304,
          "visibility": "private",
          "signature": "async fn register_builtin_tools<R>(state: &AppState<R>)",
          "doc": "Register builtin tools with the unified registry",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "execute_shell_command",
          "kind": "function",
          "line": 335,
          "visibility": "private",
          "signature": "async fn execute_shell_command(input: &Value)",
          "doc": "Execute a shell command in a sandboxed environment",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "kelpie_core::TokioRuntime"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "kelpie_server::llm"
        },
        {
          "path": "kelpie_server::tools"
        },
        {
          "path": "tools::register_heartbeat_tools"
        },
        {
          "path": "tools::register_memory_tools"
        },
        {
          "path": "axum::extract::Request"
        },
        {
          "path": "axum::ServiceExt"
        },
        {
          "path": "clap::Parser"
        },
        {
          "path": "kelpie_sandbox::ExecOptions"
        },
        {
          "path": "kelpie_sandbox::ProcessSandbox"
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::net::SocketAddr"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tools::BuiltinToolHandler"
        },
        {
          "path": "tower_http::normalize_path::NormalizePath"
        },
        {
          "path": "kelpie_core::telemetry::init_telemetry"
        },
        {
          "path": "kelpie_core::telemetry::TelemetryConfig"
        },
        {
          "path": "tracing_subscriber::EnvFilter"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/http.rs",
      "symbols": [
        {
          "name": "HttpMethod",
          "kind": "enum",
          "line": 42,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "HttpMethod",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "as_str",
          "kind": "function",
          "line": 50,
          "visibility": "pub",
          "signature": "fn as_str(&self)"
        },
        {
          "name": "HttpRequest",
          "kind": "struct",
          "line": 62,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "HttpRequest",
          "kind": "impl",
          "line": 69,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 70,
          "visibility": "pub",
          "signature": "fn new(method: HttpMethod, url: String)"
        },
        {
          "name": "header",
          "kind": "function",
          "line": 79,
          "visibility": "pub",
          "signature": "fn header(mut self, key: impl Into<String>, value: impl Into<String>)"
        },
        {
          "name": "json",
          "kind": "function",
          "line": 84,
          "visibility": "pub",
          "signature": "fn json<T>(mut self, body: &T)",
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "body",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn body(mut self, body: Vec<u8>)"
        },
        {
          "name": "HttpResponse",
          "kind": "struct",
          "line": 101,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "HttpResponse",
          "kind": "impl",
          "line": 107,
          "visibility": "private"
        },
        {
          "name": "is_success",
          "kind": "function",
          "line": 108,
          "visibility": "pub",
          "signature": "fn is_success(&self)"
        },
        {
          "name": "text",
          "kind": "function",
          "line": 112,
          "visibility": "pub",
          "signature": "fn text(&self)"
        },
        {
          "name": "json",
          "kind": "function",
          "line": 116,
          "visibility": "pub",
          "signature": "fn json<T>(&self)",
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "HttpClient",
          "kind": "trait",
          "line": 127,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "ReqwestHttpClient",
          "kind": "struct",
          "line": 143,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "ReqwestHttpClient",
          "kind": "impl",
          "line": 147,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 148,
          "visibility": "pub",
          "signature": "fn new()"
        },
        {
          "name": "Default for ReqwestHttpClient",
          "kind": "impl",
          "line": 155,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 156,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "HttpClient for ReqwestHttpClient",
          "kind": "impl",
          "line": 162,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "send",
          "kind": "function",
          "line": 163,
          "visibility": "private",
          "signature": "async fn send(&self, request: HttpRequest)",
          "is_async": true
        },
        {
          "name": "send_streaming",
          "kind": "function",
          "line": 210,
          "visibility": "private",
          "signature": "async fn send_streaming(\n        &self,\n        request: HttpRequest,\n    )",
          "is_async": true
        },
        {
          "name": "SimHttpClient",
          "kind": "struct",
          "line": 269,
          "visibility": "pub",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "SimHttpClient",
          "kind": "impl",
          "line": 279,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "new",
          "kind": "function",
          "line": 280,
          "visibility": "pub",
          "signature": "fn new(\n        fault_injector: std::sync::Arc<kelpie_dst::FaultInjector>,\n        rng: std::sync::Arc<kelpie_dst::DeterministicRng>,\n    )"
        },
        {
          "name": "inject_network_faults",
          "kind": "function",
          "line": 292,
          "visibility": "private",
          "signature": "async fn inject_network_faults(&self)",
          "doc": "Inject network faults before HTTP operation",
          "is_async": true
        },
        {
          "name": "HttpClient for SimHttpClient",
          "kind": "impl",
          "line": 333,
          "visibility": "private",
          "attributes": [
            "cfg(feature = \"dst\")",
            "async_trait"
          ]
        },
        {
          "name": "send",
          "kind": "function",
          "line": 334,
          "visibility": "private",
          "signature": "async fn send(&self, request: HttpRequest)",
          "is_async": true
        },
        {
          "name": "send_streaming",
          "kind": "function",
          "line": 347,
          "visibility": "private",
          "signature": "async fn send_streaming(\n        &self,\n        request: HttpRequest,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 400,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_http_method_as_str",
          "kind": "function",
          "line": 404,
          "visibility": "private",
          "signature": "fn test_http_method_as_str()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_request_builder",
          "kind": "function",
          "line": 410,
          "visibility": "private",
          "signature": "fn test_http_request_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_response_is_success",
          "kind": "function",
          "line": 423,
          "visibility": "private",
          "signature": "fn test_http_response_is_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "futures::stream::Stream"
        },
        {
          "path": "futures::StreamExt"
        },
        {
          "path": "kelpie_core::RngProvider"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::pin::Pin"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/interface/mod.rs",
      "symbols": [],
      "imports": [],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/code_execution.rs",
      "symbols": [
        {
          "name": "CODE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 20,
          "visibility": "private",
          "signature": "const CODE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum code size in bytes (1 MiB)"
        },
        {
          "name": "OUTPUT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 23,
          "visibility": "private",
          "signature": "const OUTPUT_SIZE_BYTES_MAX: u64",
          "doc": "Maximum output size in bytes (1 MiB)"
        },
        {
          "name": "EXECUTION_TIMEOUT_SECONDS_DEFAULT",
          "kind": "const",
          "line": 26,
          "visibility": "private",
          "signature": "const EXECUTION_TIMEOUT_SECONDS_DEFAULT: u64",
          "doc": "Default execution timeout in seconds"
        },
        {
          "name": "EXECUTION_TIMEOUT_SECONDS_MAX",
          "kind": "const",
          "line": 29,
          "visibility": "private",
          "signature": "const EXECUTION_TIMEOUT_SECONDS_MAX: u64",
          "doc": "Maximum execution timeout in seconds"
        },
        {
          "name": "EXECUTION_TIMEOUT_SECONDS_MIN",
          "kind": "const",
          "line": 32,
          "visibility": "private",
          "signature": "const EXECUTION_TIMEOUT_SECONDS_MIN: u64",
          "doc": "Minimum execution timeout in seconds"
        },
        {
          "name": "SUPPORTED_LANGUAGES",
          "kind": "const",
          "line": 39,
          "visibility": "private",
          "signature": "const SUPPORTED_LANGUAGES: &[&str]",
          "doc": "Supported programming languages"
        },
        {
          "name": "get_execution_command",
          "kind": "function",
          "line": 42,
          "visibility": "private",
          "signature": "fn get_execution_command(language: &str, code: &str)",
          "doc": "Get command and args for executing code in a given language"
        },
        {
          "name": "register_run_code_tool",
          "kind": "function",
          "line": 77,
          "visibility": "pub",
          "signature": "async fn register_run_code_tool(registry: &UnifiedToolRegistry)",
          "doc": "Register run_code tool with the unified registry",
          "is_async": true
        },
        {
          "name": "execute_code",
          "kind": "function",
          "line": 121,
          "visibility": "private",
          "signature": "async fn execute_code(input: &Value)",
          "doc": "Execute code in a sandboxed environment",
          "is_async": true
        },
        {
          "name": "ExecutionResult",
          "kind": "struct",
          "line": 184,
          "visibility": "private",
          "doc": "Execution result"
        },
        {
          "name": "execute_in_sandbox",
          "kind": "function",
          "line": 193,
          "visibility": "private",
          "signature": "async fn execute_in_sandbox(\n    command: &str,\n    args: &[String],\n    timeout_seconds: u64,\n)",
          "doc": "Execute command in ProcessSandbox",
          "is_async": true
        },
        {
          "name": "format_execution_result",
          "kind": "function",
          "line": 236,
          "visibility": "private",
          "signature": "fn format_execution_result(result: &ExecutionResult)",
          "doc": "Format execution result for display"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 254,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_constants_valid",
          "kind": "function",
          "line": 259,
          "visibility": "private",
          "signature": "fn test_constants_valid()"
        },
        {
          "name": "test_run_code_missing_language",
          "kind": "function",
          "line": 267,
          "visibility": "private",
          "signature": "async fn test_run_code_missing_language()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_run_code_empty_language",
          "kind": "function",
          "line": 276,
          "visibility": "private",
          "signature": "async fn test_run_code_empty_language()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_run_code_missing_code",
          "kind": "function",
          "line": 286,
          "visibility": "private",
          "signature": "async fn test_run_code_missing_code()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_run_code_empty_code",
          "kind": "function",
          "line": 295,
          "visibility": "private",
          "signature": "async fn test_run_code_empty_code()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_run_code_code_too_large",
          "kind": "function",
          "line": 305,
          "visibility": "private",
          "signature": "async fn test_run_code_code_too_large()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_run_code_timeout_too_large",
          "kind": "function",
          "line": 316,
          "visibility": "private",
          "signature": "async fn test_run_code_timeout_too_large()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_run_code_timeout_too_small",
          "kind": "function",
          "line": 327,
          "visibility": "private",
          "signature": "async fn test_run_code_timeout_too_small()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_run_code_unsupported_language",
          "kind": "function",
          "line": 338,
          "visibility": "private",
          "signature": "async fn test_run_code_unsupported_language()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_execution_command_python",
          "kind": "function",
          "line": 348,
          "visibility": "private",
          "signature": "fn test_get_execution_command_python()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_get_execution_command_javascript",
          "kind": "function",
          "line": 357,
          "visibility": "private",
          "signature": "fn test_get_execution_command_javascript()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_get_execution_command_js_alias",
          "kind": "function",
          "line": 366,
          "visibility": "private",
          "signature": "fn test_get_execution_command_js_alias()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_get_execution_command_typescript",
          "kind": "function",
          "line": 372,
          "visibility": "private",
          "signature": "fn test_get_execution_command_typescript()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_get_execution_command_r",
          "kind": "function",
          "line": 379,
          "visibility": "private",
          "signature": "fn test_get_execution_command_r()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_get_execution_command_java_not_supported",
          "kind": "function",
          "line": 387,
          "visibility": "private",
          "signature": "fn test_get_execution_command_java_not_supported()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_get_execution_command_case_insensitive",
          "kind": "function",
          "line": 396,
          "visibility": "private",
          "signature": "fn test_get_execution_command_case_insensitive()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_run_code_python_success",
          "kind": "function",
          "line": 404,
          "visibility": "private",
          "signature": "async fn test_run_code_python_success()",
          "is_async": true
        },
        {
          "name": "test_run_code_python_stderr",
          "kind": "function",
          "line": 416,
          "visibility": "private",
          "signature": "async fn test_run_code_python_stderr()",
          "is_async": true
        },
        {
          "name": "test_run_code_javascript_success",
          "kind": "function",
          "line": 427,
          "visibility": "private",
          "signature": "async fn test_run_code_javascript_success()",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "crate::tools::BuiltinToolHandler"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "kelpie_sandbox::ExecOptions"
        },
        {
          "path": "kelpie_sandbox::ProcessSandbox"
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "serde_json::json"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/registry.rs",
      "symbols": [
        {
          "name": "elapsed_ms",
          "kind": "function",
          "line": 25,
          "visibility": "private",
          "signature": "fn elapsed_ms(start_ms: u64)",
          "attributes": [
            "inline"
          ]
        },
        {
          "name": "HEARTBEAT_PAUSE_MINUTES_MIN",
          "kind": "const",
          "line": 34,
          "visibility": "pub",
          "signature": "const HEARTBEAT_PAUSE_MINUTES_MIN: u64",
          "doc": "Minimum pause duration in minutes"
        },
        {
          "name": "HEARTBEAT_PAUSE_MINUTES_MAX",
          "kind": "const",
          "line": 37,
          "visibility": "pub",
          "signature": "const HEARTBEAT_PAUSE_MINUTES_MAX: u64",
          "doc": "Maximum pause duration in minutes"
        },
        {
          "name": "HEARTBEAT_PAUSE_MINUTES_DEFAULT",
          "kind": "const",
          "line": 40,
          "visibility": "pub",
          "signature": "const HEARTBEAT_PAUSE_MINUTES_DEFAULT: u64",
          "doc": "Default pause duration in minutes"
        },
        {
          "name": "AGENT_LOOP_ITERATIONS_MAX",
          "kind": "const",
          "line": 43,
          "visibility": "pub",
          "signature": "const AGENT_LOOP_ITERATIONS_MAX: u32",
          "doc": "Maximum agent loop iterations before forced stop"
        },
        {
          "name": "MS_PER_MINUTE",
          "kind": "const",
          "line": 46,
          "visibility": "pub",
          "signature": "const MS_PER_MINUTE: u64",
          "doc": "Milliseconds per minute"
        },
        {
          "name": "ToolSource",
          "kind": "enum",
          "line": 50,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, PartialEq, Eq, Hash, Serialize, Deserialize)"
          ]
        },
        {
          "name": "std::fmt::Display for ToolSource",
          "kind": "impl",
          "line": 59,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 60,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "RegisteredTool",
          "kind": "struct",
          "line": 71,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "AgentDispatcher",
          "kind": "trait",
          "line": 84,
          "visibility": "pub",
          "attributes": [
            "async_trait::async_trait"
          ]
        },
        {
          "name": "ToolExecutionContext",
          "kind": "struct",
          "line": 108,
          "visibility": "pub",
          "attributes": [
            "derive(Clone, Default)"
          ]
        },
        {
          "name": "std::fmt::Debug for ToolExecutionContext",
          "kind": "impl",
          "line": 125,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 126,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "CustomToolDefinition",
          "kind": "struct",
          "line": 140,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "ToolSignal",
          "kind": "enum",
          "line": 151,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, PartialEq, Default)"
          ]
        },
        {
          "name": "ToolExecutionResult",
          "kind": "struct",
          "line": 166,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "ToolExecutionResult",
          "kind": "impl",
          "line": 179,
          "visibility": "private"
        },
        {
          "name": "success",
          "kind": "function",
          "line": 181,
          "visibility": "pub",
          "signature": "fn success(output: impl Into<String>, duration_ms: u64)",
          "doc": "Create a successful result"
        },
        {
          "name": "failure",
          "kind": "function",
          "line": 192,
          "visibility": "pub",
          "signature": "fn failure(error: impl Into<String>, duration_ms: u64)",
          "doc": "Create a failed result"
        },
        {
          "name": "with_pause_signal",
          "kind": "function",
          "line": 204,
          "visibility": "pub",
          "signature": "fn with_pause_signal(mut self, pause_until_ms: u64, minutes: u64)",
          "doc": "Add a pause heartbeats signal to this result"
        },
        {
          "name": "BuiltinToolHandler",
          "kind": "type_alias",
          "line": 214,
          "visibility": "pub",
          "doc": "Handler function type for builtin tools"
        },
        {
          "name": "ContextAwareToolHandler",
          "kind": "type_alias",
          "line": 224,
          "visibility": "pub",
          "doc": "Handler function type for context-aware builtin tools (Issue #75)\n\nTigerStyle: Separate type for tools that need execution context (e.g., call_agent).\nThese handlers receive the full ToolExecutionContext for dispatcher access."
        },
        {
          "name": "UnifiedToolRegistry",
          "kind": "struct",
          "line": 235,
          "visibility": "pub",
          "doc": "Unified tool registry combining all tool sources"
        },
        {
          "name": "UnifiedToolRegistry",
          "kind": "impl",
          "line": 257,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 259,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty registry"
        },
        {
          "name": "set_fault_injector",
          "kind": "function",
          "line": 279,
          "visibility": "pub",
          "signature": "async fn set_fault_injector(&self, injector: Arc<FaultInjector>)",
          "is_async": true,
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 286,
          "visibility": "private",
          "signature": "async fn check_fault(&self, operation: &str)",
          "is_async": true,
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 294,
          "visibility": "private",
          "signature": "async fn check_fault(&self, _operation: &str)",
          "is_async": true,
          "attributes": [
            "cfg(not(feature = \"dst\"))",
            "allow(dead_code)"
          ]
        },
        {
          "name": "with_sandbox_pool",
          "kind": "function",
          "line": 302,
          "visibility": "pub",
          "signature": "fn with_sandbox_pool(\n        self,\n        pool: Arc<kelpie_sandbox::SandboxPool<kelpie_sandbox::ProcessSandboxFactory>>,\n    )",
          "doc": "Set a sandbox pool for custom tool execution (builder pattern)\n\nWhen set, custom tools will use sandboxes from the pool for better performance\n(avoiding sandbox startup overhead on each execution)."
        },
        {
          "name": "set_sandbox_pool",
          "kind": "function",
          "line": 315,
          "visibility": "pub",
          "signature": "async fn set_sandbox_pool(\n        &self,\n        pool: Arc<kelpie_sandbox::SandboxPool<kelpie_sandbox::ProcessSandboxFactory>>,\n    )",
          "doc": "Set a sandbox pool after construction\n\nThis allows setting the sandbox pool on an existing registry instance,\nwhich is useful when the registry is created by AppState.",
          "is_async": true
        },
        {
          "name": "register_builtin",
          "kind": "function",
          "line": 324,
          "visibility": "pub",
          "signature": "async fn register_builtin(\n        &self,\n        name: impl Into<String>,\n        description: impl Into<String>,\n        input_schema: Value,\n        handler: BuiltinToolHandler,\n    )",
          "doc": "Register a builtin tool",
          "is_async": true
        },
        {
          "name": "register_context_aware_builtin",
          "kind": "function",
          "line": 361,
          "visibility": "pub",
          "signature": "async fn register_context_aware_builtin(\n        &self,\n        name: impl Into<String>,\n        description: impl Into<String>,\n        input_schema: Value,\n        handler: ContextAwareToolHandler,\n    )",
          "doc": "Register a context-aware builtin tool (Issue #75)\n\nContext-aware tools receive the full ToolExecutionContext, enabling:\n- Agent-to-agent calls via dispatcher\n- Call chain tracking for cycle detection\n- Call depth enforcement\n\nTigerStyle: Separate registration method for context-aware tools.",
          "is_async": true
        },
        {
          "name": "register_mcp_tool",
          "kind": "function",
          "line": 394,
          "visibility": "pub",
          "signature": "async fn register_mcp_tool(\n        &self,\n        name: impl Into<String>,\n        description: impl Into<String>,\n        input_schema: Value,\n        server_name: impl Into<String>,\n    )",
          "doc": "Register an MCP tool",
          "is_async": true
        },
        {
          "name": "register_custom_tool",
          "kind": "function",
          "line": 433,
          "visibility": "pub",
          "signature": "async fn register_custom_tool(\n        &self,\n        name: impl Into<String>,\n        description: impl Into<String>,\n        input_schema: Value,\n        source_code: String,\n        runtime: impl Into<String>,\n        requirements: Vec<String>,\n    )",
          "doc": "Register a custom tool with source code",
          "is_async": true
        },
        {
          "name": "unregister_tool",
          "kind": "function",
          "line": 478,
          "visibility": "pub",
          "signature": "async fn unregister_tool(&self, name: &str)",
          "doc": "Unregister a tool from the registry\n\nTigerStyle: Cleanup operation for MCP server deletion or custom tool removal",
          "is_async": true
        },
        {
          "name": "set_sim_mcp_client",
          "kind": "function",
          "line": 493,
          "visibility": "pub",
          "signature": "async fn set_sim_mcp_client(&self, client: Arc<kelpie_tools::SimMcpClient>)",
          "is_async": true,
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "connect_mcp_server",
          "kind": "function",
          "line": 505,
          "visibility": "pub",
          "signature": "async fn connect_mcp_server(\n        &self,\n        server_name: impl Into<String>,\n        config: kelpie_tools::McpConfig,\n    )",
          "doc": "Connect to an MCP server and auto-discover its tools\n\n# Arguments\n* `server_name` - Unique name for this MCP server connection\n* `config` - MCP configuration (transport, timeouts, env vars)\n\n# Returns\nNumber of tools discovered and registered",
          "is_async": true
        },
        {
          "name": "disconnect_mcp_server",
          "kind": "function",
          "line": 551,
          "visibility": "pub",
          "signature": "async fn disconnect_mcp_server(&self, server_name: &str)",
          "doc": "Disconnect from an MCP server and unregister its tools",
          "is_async": true
        },
        {
          "name": "list_mcp_servers",
          "kind": "function",
          "line": 575,
          "visibility": "pub",
          "signature": "async fn list_mcp_servers(&self)",
          "doc": "Get all connected MCP server names",
          "is_async": true
        },
        {
          "name": "get_tool_definitions",
          "kind": "function",
          "line": 580,
          "visibility": "pub",
          "signature": "async fn get_tool_definitions(&self)",
          "doc": "Get all tool definitions for LLM",
          "is_async": true
        },
        {
          "name": "get_tool",
          "kind": "function",
          "line": 590,
          "visibility": "pub",
          "signature": "async fn get_tool(&self, name: &str)",
          "doc": "Get a specific tool by name",
          "is_async": true
        },
        {
          "name": "has_tool",
          "kind": "function",
          "line": 595,
          "visibility": "pub",
          "signature": "async fn has_tool(&self, name: &str)",
          "doc": "Check if a tool exists",
          "is_async": true
        },
        {
          "name": "get_tool_source",
          "kind": "function",
          "line": 600,
          "visibility": "pub",
          "signature": "async fn get_tool_source(&self, name: &str)",
          "doc": "Get tool source",
          "is_async": true
        },
        {
          "name": "list_tools",
          "kind": "function",
          "line": 605,
          "visibility": "pub",
          "signature": "async fn list_tools(&self)",
          "doc": "List all tool names",
          "is_async": true
        },
        {
          "name": "list_registered_tools",
          "kind": "function",
          "line": 610,
          "visibility": "pub",
          "signature": "async fn list_registered_tools(&self)",
          "doc": "List registered tools with metadata",
          "is_async": true
        },
        {
          "name": "get_custom_tool",
          "kind": "function",
          "line": 615,
          "visibility": "pub",
          "signature": "async fn get_custom_tool(&self, name: &str)",
          "doc": "Get a custom tool definition",
          "is_async": true
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 620,
          "visibility": "pub",
          "signature": "async fn execute(&self, name: &str, input: &Value)",
          "doc": "Execute a tool by name",
          "is_async": true
        },
        {
          "name": "execute_with_context",
          "kind": "function",
          "line": 625,
          "visibility": "pub",
          "signature": "async fn execute_with_context(\n        &self,\n        name: &str,\n        input: &Value,\n        context: Option<&ToolExecutionContext>,\n    )",
          "doc": "Execute a tool by name with optional context",
          "is_async": true
        },
        {
          "name": "execute_builtin",
          "kind": "function",
          "line": 683,
          "visibility": "private",
          "signature": "async fn execute_builtin(\n        &self,\n        name: &str,\n        input: &Value,\n        context: Option<&ToolExecutionContext>,\n        start_ms: u64,\n    )",
          "doc": "Execute a builtin tool\n\nTigerStyle (Issue #75): Checks for context-aware handlers first.\nContext-aware tools (like call_agent) need dispatcher access for inter-agent calls.",
          "is_async": true
        },
        {
          "name": "execute_mcp",
          "kind": "function",
          "line": 723,
          "visibility": "private",
          "signature": "async fn execute_mcp(\n        &self,\n        name: &str,\n        server: &str,\n        input: &Value,\n        start_ms: u64,\n    )",
          "doc": "Execute an MCP tool",
          "is_async": true
        },
        {
          "name": "execute_custom",
          "kind": "function",
          "line": 806,
          "visibility": "private",
          "signature": "async fn execute_custom(\n        &self,\n        name: &str,\n        input: &Value,\n        context: Option<&ToolExecutionContext>,\n        start_ms: u64,\n    )",
          "doc": "Execute a custom tool in a sandboxed runtime\n\nSupports Python, JavaScript (Node.js), and Shell (Bash) runtimes.\n\nDST-Compliant: When the `dst` feature is enabled, checks for fault injection\nbefore sandbox acquisition and execution.",
          "is_async": true
        },
        {
          "name": "run_in_sandbox",
          "kind": "function",
          "line": 940,
          "visibility": "private",
          "signature": "async fn run_in_sandbox(\n        &self,\n        sandbox: &ProcessSandbox,\n        command: &str,\n        args: &[String],\n        input: &Value,\n        context: Option<&ToolExecutionContext>,\n        custom_tool: &CustomToolDefinition,\n        start_ms: u64,\n    )",
          "doc": "Run a command in a sandbox",
          "is_async": true
        },
        {
          "name": "build_python_wrapper",
          "kind": "function",
          "line": 1021,
          "visibility": "private",
          "signature": "fn build_python_wrapper(name: &str, source_code: &str)",
          "doc": "Build Python wrapper script"
        },
        {
          "name": "build_javascript_wrapper",
          "kind": "function",
          "line": 1055,
          "visibility": "private",
          "signature": "fn build_javascript_wrapper(name: &str, source_code: &str)",
          "doc": "Build JavaScript wrapper script"
        },
        {
          "name": "build_shell_wrapper",
          "kind": "function",
          "line": 1086,
          "visibility": "private",
          "signature": "fn build_shell_wrapper(input: &Value, source_code: &str)",
          "doc": "Build Shell wrapper script"
        },
        {
          "name": "unregister",
          "kind": "function",
          "line": 1114,
          "visibility": "pub",
          "signature": "async fn unregister(&self, name: &str)",
          "doc": "Unregister a tool",
          "is_async": true
        },
        {
          "name": "clear",
          "kind": "function",
          "line": 1122,
          "visibility": "pub",
          "signature": "async fn clear(&self)",
          "doc": "Clear all tools",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 1129,
          "visibility": "pub",
          "signature": "async fn stats(&self)",
          "doc": "Get statistics about registered tools",
          "is_async": true
        },
        {
          "name": "Default for UnifiedToolRegistry",
          "kind": "impl",
          "line": 1152,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 1153,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "RegistryStats",
          "kind": "struct",
          "line": 1160,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1168,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_register_builtin_tool",
          "kind": "function",
          "line": 1173,
          "visibility": "private",
          "signature": "async fn test_register_builtin_tool()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_register_mcp_tool",
          "kind": "function",
          "line": 1210,
          "visibility": "private",
          "signature": "async fn test_register_mcp_tool()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_execute_builtin_tool",
          "kind": "function",
          "line": 1232,
          "visibility": "private",
          "signature": "async fn test_execute_builtin_tool()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_tool_definitions",
          "kind": "function",
          "line": 1257,
          "visibility": "private",
          "signature": "async fn test_get_tool_definitions()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_stats",
          "kind": "function",
          "line": 1281,
          "visibility": "private",
          "signature": "async fn test_registry_stats()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_tool_not_found",
          "kind": "function",
          "line": 1307,
          "visibility": "private",
          "signature": "async fn test_tool_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mcp_server_not_connected",
          "kind": "function",
          "line": 1318,
          "visibility": "private",
          "signature": "async fn test_mcp_server_not_connected()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_mcp_servers",
          "kind": "function",
          "line": 1336,
          "visibility": "private",
          "signature": "async fn test_list_mcp_servers()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mcp_execute_with_text_content",
          "kind": "function",
          "line": 1348,
          "visibility": "private",
          "signature": "async fn test_mcp_execute_with_text_content()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::llm::ToolDefinition"
        },
        {
          "path": "crate::security::audit::SharedAuditLog"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "kelpie_sandbox::ExecOptions"
        },
        {
          "path": "kelpie_sandbox::ProcessSandbox"
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "kelpie_dst::fault::FaultInjector"
        },
        {
          "path": "kelpie_dst::fault::FaultType"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "serde_json::json"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/memory.rs",
      "symbols": [
        {
          "name": "elapsed_ms",
          "kind": "function",
          "line": 27,
          "visibility": "private",
          "signature": "fn elapsed_ms(start_ms: u64)",
          "attributes": [
            "inline"
          ]
        },
        {
          "name": "get_agent_id",
          "kind": "function",
          "line": 32,
          "visibility": "private",
          "signature": "fn get_agent_id(context: &ToolExecutionContext, input: &Value)",
          "doc": "Extract agent_id from context, falling back to input for backwards compatibility"
        },
        {
          "name": "register_memory_tools",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "async fn register_memory_tools<R>(\n    registry: &UnifiedToolRegistry,\n    state: AppState<R>,\n)",
          "doc": "Register all memory tools with the unified registry",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "register_core_memory_append",
          "kind": "function",
          "line": 74,
          "visibility": "private",
          "signature": "async fn register_core_memory_append<R>(\n    registry: &UnifiedToolRegistry,\n    state: AppState<R>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "register_core_memory_replace",
          "kind": "function",
          "line": 152,
          "visibility": "private",
          "signature": "async fn register_core_memory_replace<R>(\n    registry: &UnifiedToolRegistry,\n    state: AppState<R>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "register_archival_memory_insert",
          "kind": "function",
          "line": 250,
          "visibility": "private",
          "signature": "async fn register_archival_memory_insert<R>(\n    registry: &UnifiedToolRegistry,\n    state: AppState<R>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "register_archival_memory_search",
          "kind": "function",
          "line": 324,
          "visibility": "private",
          "signature": "async fn register_archival_memory_search<R>(\n    registry: &UnifiedToolRegistry,\n    state: AppState<R>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "register_conversation_search",
          "kind": "function",
          "line": 434,
          "visibility": "private",
          "signature": "async fn register_conversation_search<R>(\n    registry: &UnifiedToolRegistry,\n    state: AppState<R>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "register_conversation_search_date",
          "kind": "function",
          "line": 544,
          "visibility": "private",
          "signature": "async fn register_conversation_search_date<R>(\n    registry: &UnifiedToolRegistry,\n    state: AppState<R>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "parse_date_param",
          "kind": "function",
          "line": 726,
          "visibility": "private",
          "signature": "fn parse_date_param(val: &Value)",
          "doc": "Parse date parameter from JSON value\n\nSupports:\n- ISO 8601: \"2024-01-15T10:00:00Z\"\n- RFC 3339: \"2024-01-15T10:00:00+00:00\"\n- Unix timestamp: 1705315200 (seconds since epoch)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 774,
          "visibility": "private",
          "attributes": [
            "cfg(test)",
            "allow(deprecated)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 787,
          "visibility": "private",
          "doc": "Mock LLM client for testing that returns simple responses"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 790,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "create_test_state_with_service",
          "kind": "function",
          "line": 823,
          "visibility": "private",
          "signature": "async fn create_test_state_with_service()",
          "doc": "Create a test AppState with AgentService (single source of truth)",
          "is_async": true
        },
        {
          "name": "create_test_agent_request",
          "kind": "function",
          "line": 851,
          "visibility": "private",
          "signature": "fn create_test_agent_request(name: &str)"
        },
        {
          "name": "test_memory_tools_registration",
          "kind": "function",
          "line": 876,
          "visibility": "private",
          "signature": "async fn test_memory_tools_registration()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_core_memory_append_integration",
          "kind": "function",
          "line": 891,
          "visibility": "private",
          "signature": "async fn test_core_memory_append_integration()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_core_memory_replace_integration",
          "kind": "function",
          "line": 935,
          "visibility": "private",
          "signature": "async fn test_core_memory_replace_integration()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_archival_memory_integration",
          "kind": "function",
          "line": 980,
          "visibility": "private",
          "signature": "async fn test_archival_memory_integration()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_parse_date_iso8601",
          "kind": "function",
          "line": 1028,
          "visibility": "private",
          "signature": "fn test_parse_date_iso8601()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_parse_date_unix_timestamp",
          "kind": "function",
          "line": 1041,
          "visibility": "private",
          "signature": "fn test_parse_date_unix_timestamp()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_parse_date_date_only",
          "kind": "function",
          "line": 1052,
          "visibility": "private",
          "signature": "fn test_parse_date_date_only()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_parse_date_invalid",
          "kind": "function",
          "line": 1065,
          "visibility": "private",
          "signature": "fn test_parse_date_invalid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_conversation_search_date",
          "kind": "function",
          "line": 1080,
          "visibility": "private",
          "signature": "async fn test_conversation_search_date()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_conversation_search_date_unix_timestamp",
          "kind": "function",
          "line": 1121,
          "visibility": "private",
          "signature": "async fn test_conversation_search_date_unix_timestamp()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_conversation_search_date_invalid_range",
          "kind": "function",
          "line": 1156,
          "visibility": "private",
          "signature": "async fn test_conversation_search_date_invalid_range()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_conversation_search_date_invalid_format",
          "kind": "function",
          "line": 1194,
          "visibility": "private",
          "signature": "async fn test_conversation_search_date_invalid_format()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_conversation_search_date_missing_params",
          "kind": "function",
          "line": 1229,
          "visibility": "private",
          "signature": "async fn test_conversation_search_date_missing_params()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::state::AppState"
        },
        {
          "path": "crate::tools::ContextAwareToolHandler"
        },
        {
          "path": "crate::tools::ToolExecutionContext"
        },
        {
          "path": "crate::tools::ToolExecutionResult"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "serde_json::json"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::actor::AgentActor"
        },
        {
          "path": "crate::actor::AgentActorState"
        },
        {
          "path": "crate::actor::LlmClient"
        },
        {
          "path": "crate::actor::LlmMessage"
        },
        {
          "path": "crate::actor::LlmResponse"
        },
        {
          "path": "crate::models::AgentType"
        },
        {
          "path": "crate::models::CreateAgentRequest"
        },
        {
          "path": "crate::models::CreateBlockRequest"
        },
        {
          "path": "crate::service::AgentService"
        },
        {
          "path": "crate::tools::ToolExecutionContext"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "std::sync::Arc"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/agent_call.rs",
      "symbols": [
        {
          "name": "AGENT_CALL_DEPTH_MAX",
          "kind": "const",
          "line": 32,
          "visibility": "pub",
          "signature": "const AGENT_CALL_DEPTH_MAX: u32",
          "doc": "Maximum depth for nested agent calls\nTLA+ invariant: DepthBounded ensures `Len(callStack[a]) <= MAX_DEPTH`"
        },
        {
          "name": "AGENT_CALL_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 35,
          "visibility": "pub",
          "signature": "const AGENT_CALL_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default timeout for agent calls in milliseconds (30 seconds)"
        },
        {
          "name": "AGENT_CALL_TIMEOUT_MS_MAX",
          "kind": "const",
          "line": 38,
          "visibility": "pub",
          "signature": "const AGENT_CALL_TIMEOUT_MS_MAX: u64",
          "doc": "Maximum timeout for agent calls in milliseconds (5 minutes)"
        },
        {
          "name": "AGENT_CONCURRENT_CALLS_MAX",
          "kind": "const",
          "line": 41,
          "visibility": "pub",
          "signature": "const AGENT_CONCURRENT_CALLS_MAX: usize",
          "doc": "Maximum concurrent calls an agent can have pending"
        },
        {
          "name": "AGENT_CALL_MESSAGE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 44,
          "visibility": "pub",
          "signature": "const AGENT_CALL_MESSAGE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum message size in bytes for agent-to-agent calls (100 KiB)"
        },
        {
          "name": "AGENT_CALL_RESPONSE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 47,
          "visibility": "pub",
          "signature": "const AGENT_CALL_RESPONSE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum response size in bytes (1 MiB)"
        },
        {
          "name": "register_call_agent_tool",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "async fn register_call_agent_tool(registry: &UnifiedToolRegistry)",
          "doc": "Register the call_agent tool with the unified registry\n\nThis tool enables agent-to-agent communication with safety guarantees.\n\nTLA+ Safety Invariants Enforced:\n- NoDeadlock: Cycle detection prevents A\u2192B\u2192A deadlock\n- DepthBounded: Call depth limited to AGENT_CALL_DEPTH_MAX\n- SingleActivationDuringCall: Dispatcher ensures single activation",
          "is_async": true
        },
        {
          "name": "execute_call_agent",
          "kind": "function",
          "line": 100,
          "visibility": "private",
          "signature": "async fn execute_call_agent(input: &Value, ctx: &ToolExecutionContext)",
          "doc": "Execute the call_agent tool\n\nTigerStyle: 2+ assertions, explicit error handling.",
          "is_async": true
        },
        {
          "name": "elapsed_ms",
          "kind": "function",
          "line": 284,
          "visibility": "private",
          "signature": "fn elapsed_ms(start_ms: u64)",
          "attributes": [
            "inline"
          ]
        },
        {
          "name": "validate_call_context",
          "kind": "function",
          "line": 297,
          "visibility": "pub",
          "signature": "fn validate_call_context(\n    target_id: &str,\n    context: &ToolExecutionContext,\n)",
          "doc": "Validate call context for cycle detection and depth limiting\n\nTLA+ Invariants:\n- NoDeadlock: target_id must not be in call_chain\n- DepthBounded: call_depth must be < AGENT_CALL_DEPTH_MAX\n\nReturns Ok(()) if valid, Err(reason) if invalid."
        },
        {
          "name": "create_nested_context",
          "kind": "function",
          "line": 338,
          "visibility": "pub",
          "signature": "fn create_nested_context(\n    parent_context: &ToolExecutionContext,\n    calling_agent_id: &str,\n)",
          "doc": "Create a new call context for a nested call\n\nAppends the calling agent to the call chain and increments depth."
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 381,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_validate_call_context_success",
          "kind": "function",
          "line": 385,
          "visibility": "private",
          "signature": "fn test_validate_call_context_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_validate_call_context_cycle_detected",
          "kind": "function",
          "line": 399,
          "visibility": "private",
          "signature": "fn test_validate_call_context_cycle_detected()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_validate_call_context_depth_exceeded",
          "kind": "function",
          "line": 415,
          "visibility": "private",
          "signature": "fn test_validate_call_context_depth_exceeded()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_create_nested_context",
          "kind": "function",
          "line": 437,
          "visibility": "private",
          "signature": "fn test_create_nested_context()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_register_call_agent_tool",
          "kind": "function",
          "line": 455,
          "visibility": "private",
          "signature": "async fn test_register_call_agent_tool()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_call_agent_missing_agent_id",
          "kind": "function",
          "line": 465,
          "visibility": "private",
          "signature": "async fn test_call_agent_missing_agent_id()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_call_agent_missing_message",
          "kind": "function",
          "line": 480,
          "visibility": "private",
          "signature": "async fn test_call_agent_missing_message()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_call_agent_empty_agent_id",
          "kind": "function",
          "line": 495,
          "visibility": "private",
          "signature": "async fn test_call_agent_empty_agent_id()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_call_agent_message_too_large",
          "kind": "function",
          "line": 509,
          "visibility": "private",
          "signature": "async fn test_call_agent_message_too_large()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_call_agent_no_dispatcher",
          "kind": "function",
          "line": 524,
          "visibility": "private",
          "signature": "async fn test_call_agent_no_dispatcher()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::actor::agent_actor::HandleMessageFullRequest"
        },
        {
          "path": "crate::actor::agent_actor::HandleMessageFullResponse"
        },
        {
          "path": "crate::tools::ContextAwareToolHandler"
        },
        {
          "path": "crate::tools::ToolExecutionContext"
        },
        {
          "path": "crate::tools::ToolExecutionResult"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "serde_json::json"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/mod.rs",
      "symbols": [
        {
          "name": "agent_call",
          "kind": "mod",
          "line": 11,
          "visibility": "private"
        },
        {
          "name": "code_execution",
          "kind": "mod",
          "line": 12,
          "visibility": "private"
        },
        {
          "name": "heartbeat",
          "kind": "mod",
          "line": 13,
          "visibility": "private"
        },
        {
          "name": "memory",
          "kind": "mod",
          "line": 14,
          "visibility": "private"
        },
        {
          "name": "messaging",
          "kind": "mod",
          "line": 15,
          "visibility": "private"
        },
        {
          "name": "registry",
          "kind": "mod",
          "line": 16,
          "visibility": "private"
        },
        {
          "name": "web_search",
          "kind": "mod",
          "line": 17,
          "visibility": "private"
        }
      ],
      "imports": [
        {
          "path": "agent_call::create_nested_context"
        },
        {
          "path": "agent_call::register_call_agent_tool"
        },
        {
          "path": "agent_call::validate_call_context"
        },
        {
          "path": "agent_call::AGENT_CALL_DEPTH_MAX"
        },
        {
          "path": "agent_call::AGENT_CALL_MESSAGE_SIZE_BYTES_MAX"
        },
        {
          "path": "agent_call::AGENT_CALL_RESPONSE_SIZE_BYTES_MAX"
        },
        {
          "path": "agent_call::AGENT_CALL_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "agent_call::AGENT_CALL_TIMEOUT_MS_MAX"
        },
        {
          "path": "agent_call::AGENT_CONCURRENT_CALLS_MAX"
        },
        {
          "path": "code_execution::register_run_code_tool"
        },
        {
          "path": "heartbeat::parse_pause_signal"
        },
        {
          "path": "heartbeat::register_heartbeat_tools"
        },
        {
          "path": "heartbeat::register_pause_heartbeats_with_clock"
        },
        {
          "path": "heartbeat::ClockSource"
        },
        {
          "path": "memory::register_memory_tools"
        },
        {
          "path": "messaging::register_messaging_tools"
        },
        {
          "path": "registry::AgentDispatcher"
        },
        {
          "path": "registry::BuiltinToolHandler"
        },
        {
          "path": "registry::ContextAwareToolHandler"
        },
        {
          "path": "registry::CustomToolDefinition"
        },
        {
          "path": "registry::RegisteredTool"
        },
        {
          "path": "registry::RegistryStats"
        },
        {
          "path": "registry::ToolExecutionContext"
        },
        {
          "path": "registry::ToolExecutionResult"
        },
        {
          "path": "registry::ToolSignal"
        },
        {
          "path": "registry::ToolSource"
        },
        {
          "path": "registry::UnifiedToolRegistry"
        },
        {
          "path": "registry::AGENT_LOOP_ITERATIONS_MAX"
        },
        {
          "path": "registry::HEARTBEAT_PAUSE_MINUTES_DEFAULT"
        },
        {
          "path": "registry::HEARTBEAT_PAUSE_MINUTES_MAX"
        },
        {
          "path": "registry::HEARTBEAT_PAUSE_MINUTES_MIN"
        },
        {
          "path": "registry::MS_PER_MINUTE"
        },
        {
          "path": "web_search::register_web_search_tool"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/messaging.rs",
      "symbols": [
        {
          "name": "MESSAGE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 24,
          "visibility": "private",
          "signature": "const MESSAGE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum message size in bytes (100 KiB)"
        },
        {
          "name": "register_messaging_tools",
          "kind": "function",
          "line": 27,
          "visibility": "pub",
          "signature": "async fn register_messaging_tools(registry: &UnifiedToolRegistry)",
          "doc": "Register messaging tools with the unified registry",
          "is_async": true
        },
        {
          "name": "register_send_message",
          "kind": "function",
          "line": 42,
          "visibility": "private",
          "signature": "async fn register_send_message(registry: &UnifiedToolRegistry)",
          "doc": "Register the send_message tool\n\nThis tool allows agents to explicitly send messages to users.\nIn Letta, agents call this tool to communicate with users.\n\nDual-mode operation (implemented in AgentActor):\n- Agent calls send_message(\"text\") -> extract_send_message_content() uses that text\n- Agent doesn't call send_message -> falls back to direct LLM response\n- Multiple send_message calls -> concatenated with newlines",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 92,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_send_message_success",
          "kind": "function",
          "line": 97,
          "visibility": "private",
          "signature": "async fn test_send_message_success()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_send_message_empty",
          "kind": "function",
          "line": 111,
          "visibility": "private",
          "signature": "async fn test_send_message_empty()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_send_message_too_large",
          "kind": "function",
          "line": 125,
          "visibility": "private",
          "signature": "async fn test_send_message_too_large()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_send_message_missing_parameter",
          "kind": "function",
          "line": 140,
          "visibility": "private",
          "signature": "async fn test_send_message_missing_parameter()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::tools::BuiltinToolHandler"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "serde_json::json"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::tools::registry::UnifiedToolRegistry"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/heartbeat.rs",
      "symbols": [
        {
          "name": "ClockSource",
          "kind": "enum",
          "line": 24,
          "visibility": "pub",
          "attributes": [
            "derive(Clone, Default)"
          ]
        },
        {
          "name": "ClockSource",
          "kind": "impl",
          "line": 32,
          "visibility": "private"
        },
        {
          "name": "now_ms",
          "kind": "function",
          "line": 34,
          "visibility": "pub",
          "signature": "fn now_ms(&self)",
          "doc": "Get current time in milliseconds since epoch"
        },
        {
          "name": "register_heartbeat_tools",
          "kind": "function",
          "line": 51,
          "visibility": "pub",
          "signature": "async fn register_heartbeat_tools(registry: &UnifiedToolRegistry)",
          "doc": "Register the pause_heartbeats tool with the unified registry\n\nThis tool allows agents to pause their autonomous loop for a specified duration.\nWhen called, it returns a ToolSignal::PauseHeartbeats that the agent loop\nshould check and act upon.",
          "is_async": true
        },
        {
          "name": "register_pause_heartbeats_with_clock",
          "kind": "function",
          "line": 58,
          "visibility": "pub",
          "signature": "async fn register_pause_heartbeats_with_clock(\n    registry: &UnifiedToolRegistry,\n    clock: ClockSource,\n)",
          "doc": "Register pause_heartbeats with a custom clock source (for DST testing)",
          "is_async": true
        },
        {
          "name": "register_pause_heartbeats",
          "kind": "function",
          "line": 65,
          "visibility": "private",
          "signature": "async fn register_pause_heartbeats(registry: &UnifiedToolRegistry, clock: ClockSource)",
          "is_async": true
        },
        {
          "name": "parse_pause_signal",
          "kind": "function",
          "line": 131,
          "visibility": "pub",
          "signature": "fn parse_pause_signal(output: &str)",
          "doc": "Parse a pause heartbeats response from tool output\n\nReturns (minutes, pause_until_ms) if the output contains a pause signal."
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 144,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_parse_pause_signal",
          "kind": "function",
          "line": 148,
          "visibility": "private",
          "signature": "fn test_parse_pause_signal()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_parse_pause_signal_invalid",
          "kind": "function",
          "line": 155,
          "visibility": "private",
          "signature": "fn test_parse_pause_signal_invalid()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_clock_source_real",
          "kind": "function",
          "line": 164,
          "visibility": "private",
          "signature": "fn test_clock_source_real()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_clock_source_sim",
          "kind": "function",
          "line": 172,
          "visibility": "private",
          "signature": "fn test_clock_source_sim()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_register_pause_heartbeats",
          "kind": "function",
          "line": 178,
          "visibility": "private",
          "signature": "async fn test_register_pause_heartbeats()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pause_heartbeats_execution",
          "kind": "function",
          "line": 189,
          "visibility": "private",
          "signature": "async fn test_pause_heartbeats_execution()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pause_heartbeats_custom_duration",
          "kind": "function",
          "line": 208,
          "visibility": "private",
          "signature": "async fn test_pause_heartbeats_custom_duration()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_pause_heartbeats_clamping",
          "kind": "function",
          "line": 225,
          "visibility": "private",
          "signature": "async fn test_pause_heartbeats_clamping()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::tools::BuiltinToolHandler"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "crate::tools::HEARTBEAT_PAUSE_MINUTES_DEFAULT"
        },
        {
          "path": "crate::tools::HEARTBEAT_PAUSE_MINUTES_MAX"
        },
        {
          "path": "crate::tools::HEARTBEAT_PAUSE_MINUTES_MIN"
        },
        {
          "path": "crate::tools::MS_PER_MINUTE"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "serde_json::json"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/tools/web_search.rs",
      "symbols": [
        {
          "name": "SEARCH_RESULTS_MAX",
          "kind": "const",
          "line": 19,
          "visibility": "private",
          "signature": "const SEARCH_RESULTS_MAX: u32",
          "doc": "Maximum number of search results"
        },
        {
          "name": "SEARCH_RESULTS_DEFAULT",
          "kind": "const",
          "line": 22,
          "visibility": "private",
          "signature": "const SEARCH_RESULTS_DEFAULT: u32",
          "doc": "Default number of search results"
        },
        {
          "name": "API_TIMEOUT_SECONDS",
          "kind": "const",
          "line": 25,
          "visibility": "private",
          "signature": "const API_TIMEOUT_SECONDS: u64",
          "doc": "API request timeout in seconds"
        },
        {
          "name": "TAVILY_API_URL",
          "kind": "const",
          "line": 28,
          "visibility": "private",
          "signature": "const TAVILY_API_URL: &str",
          "doc": "Tavily API endpoint"
        },
        {
          "name": "TavilySearchRequest",
          "kind": "struct",
          "line": 36,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "TavilySearchResponse",
          "kind": "struct",
          "line": 51,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "TavilyResult",
          "kind": "struct",
          "line": 58,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize, Serialize)"
          ]
        },
        {
          "name": "register_web_search_tool",
          "kind": "function",
          "line": 74,
          "visibility": "pub",
          "signature": "async fn register_web_search_tool(registry: &UnifiedToolRegistry)",
          "doc": "Register web_search tool with the unified registry",
          "is_async": true
        },
        {
          "name": "execute_web_search",
          "kind": "function",
          "line": 119,
          "visibility": "private",
          "signature": "async fn execute_web_search(input: &Value)",
          "doc": "Execute web search",
          "is_async": true
        },
        {
          "name": "perform_tavily_search",
          "kind": "function",
          "line": 169,
          "visibility": "private",
          "signature": "async fn perform_tavily_search(\n    api_key: &str,\n    query: &str,\n    max_results: u32,\n    search_depth: Option<String>,\n)",
          "doc": "Perform Tavily API search",
          "is_async": true
        },
        {
          "name": "format_search_results",
          "kind": "function",
          "line": 235,
          "visibility": "private",
          "signature": "fn format_search_results(results: &[TavilyResult])",
          "doc": "Format search results for display"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 251,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_search_results_validation",
          "kind": "function",
          "line": 256,
          "visibility": "private",
          "signature": "fn test_search_results_validation()"
        },
        {
          "name": "test_web_search_missing_query",
          "kind": "function",
          "line": 263,
          "visibility": "private",
          "signature": "async fn test_web_search_missing_query()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_web_search_empty_query",
          "kind": "function",
          "line": 270,
          "visibility": "private",
          "signature": "async fn test_web_search_empty_query()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_web_search_num_results_too_large",
          "kind": "function",
          "line": 279,
          "visibility": "private",
          "signature": "async fn test_web_search_num_results_too_large()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_web_search_num_results_zero",
          "kind": "function",
          "line": 289,
          "visibility": "private",
          "signature": "async fn test_web_search_num_results_zero()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_web_search_no_api_key",
          "kind": "function",
          "line": 299,
          "visibility": "private",
          "signature": "async fn test_web_search_no_api_key()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_format_empty_results",
          "kind": "function",
          "line": 311,
          "visibility": "private",
          "signature": "fn test_format_empty_results()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_format_single_result",
          "kind": "function",
          "line": 318,
          "visibility": "private",
          "signature": "fn test_format_single_result()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::tools::BuiltinToolHandler"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::json"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/memory/mod.rs",
      "symbols": [
        {
          "name": "umi_backend",
          "kind": "mod",
          "line": 8,
          "visibility": "private"
        }
      ],
      "imports": [
        {
          "path": "umi_backend::UmiMemoryBackend"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/memory/umi_backend.rs",
      "symbols": [
        {
          "name": "core_memory_block_size_bytes_max",
          "kind": "function",
          "line": 19,
          "visibility": "pub",
          "signature": "fn core_memory_block_size_bytes_max()",
          "doc": "Maximum core memory block size in bytes (configurable via KELPIE_core_memory_block_size_bytes_max())"
        },
        {
          "name": "ARCHIVAL_SEARCH_RESULTS_MAX",
          "kind": "const",
          "line": 31,
          "visibility": "pub",
          "signature": "const ARCHIVAL_SEARCH_RESULTS_MAX: usize",
          "doc": "Maximum number of archival search results"
        },
        {
          "name": "CONVERSATION_SEARCH_RESULTS_MAX",
          "kind": "const",
          "line": 34,
          "visibility": "pub",
          "signature": "const CONVERSATION_SEARCH_RESULTS_MAX: usize",
          "doc": "Maximum conversation search results"
        },
        {
          "name": "CoreBlock",
          "kind": "struct",
          "line": 38,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "CoreBlock",
          "kind": "impl",
          "line": 47,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 49,
          "visibility": "pub",
          "signature": "fn new(label: impl Into<String>, value: impl Into<String>)",
          "doc": "Create a new core block."
        },
        {
          "name": "UmiMemoryBackend",
          "kind": "struct",
          "line": 68,
          "visibility": "pub",
          "doc": "Agent-scoped memory backend using Umi.\n\nProvides isolated memory operations for each agent:\n- Core memory blocks (persona, human, facts, goals, scratch)\n- Archival memory with semantic search\n- Conversation history\n\nTigerStyle: Interior mutability via RwLock for thread-safe access."
        },
        {
          "name": "UmiMemoryBackend",
          "kind": "impl",
          "line": 79,
          "visibility": "private"
        },
        {
          "name": "new_sim",
          "kind": "function",
          "line": 86,
          "visibility": "pub",
          "signature": "async fn new_sim(seed: u64)",
          "doc": "Create a new memory backend for simulation/testing.\n\nUses Umi's simulation providers (deterministic, seeded).\n\n# Arguments\n* `seed` - Random seed for deterministic behavior",
          "is_async": true
        },
        {
          "name": "new_sim_with_agent",
          "kind": "function",
          "line": 98,
          "visibility": "pub",
          "signature": "async fn new_sim_with_agent(seed: u64, agent_id: String)",
          "doc": "Create a new memory backend for simulation with explicit agent ID.\n\nNOTE: This constructor does NOT support fault injection. Use `from_sim_env`\nfor DST tests that need fault injection.\n\n# Arguments\n* `seed` - Random seed for deterministic behavior\n* `agent_id` - Agent identifier for scoping",
          "is_async": true
        },
        {
          "name": "from_sim_env",
          "kind": "function",
          "line": 130,
          "visibility": "pub",
          "signature": "async fn from_sim_env(env: &SimEnvironment, agent_id: impl Into<String>)",
          "doc": "Create a new memory backend from DST simulation environment.\n\nThis constructor connects to the Simulation's fault injector, enabling\nproper fault injection testing of memory operations.\n\n# Arguments\n* `env` - DST simulation environment with fault injection\n* `agent_id` - Agent identifier for scoping\n\n# Example\n```ignore\nSimulation::new(config)\n.with_fault(FaultConfig::new(FaultType::StorageWriteFail, 0.1))\n.run(|env| async move {\nlet backend = UmiMemoryBackend::from_sim_env(&env, \"agent_001\").await?;\nbackend.append_core(\"persona\", \"test\").await?; // Faults applied!\nOk(())\n})\n```",
          "is_async": true
        },
        {
          "name": "get_core_blocks",
          "kind": "function",
          "line": 153,
          "visibility": "pub",
          "signature": "async fn get_core_blocks(&self)",
          "doc": "Get all core memory blocks.\n\nReturns blocks in render order (system, persona, human, facts, goals, scratch).",
          "is_async": true
        },
        {
          "name": "append_core",
          "kind": "function",
          "line": 182,
          "visibility": "pub",
          "signature": "async fn append_core(&self, label: &str, content: &str)",
          "doc": "Append content to a core memory block.\n\nCreates the block if it doesn't exist.\n\n# Arguments\n* `label` - Block label (persona, human, facts, goals, scratch)\n* `content` - Content to append",
          "is_async": true
        },
        {
          "name": "replace_core",
          "kind": "function",
          "line": 231,
          "visibility": "pub",
          "signature": "async fn replace_core(\n        &self,\n        label: &str,\n        old_content: &str,\n        new_content: &str,\n    )",
          "doc": "Replace content in a core memory block.\n\n# Arguments\n* `label` - Block label\n* `old_content` - Content to find and replace\n* `new_content` - Replacement content",
          "is_async": true
        },
        {
          "name": "sync_core_to_umi",
          "kind": "function",
          "line": 276,
          "visibility": "private",
          "signature": "async fn sync_core_to_umi(&self, label: &str, content: &str)",
          "doc": "Sync a core memory block to Umi storage.",
          "is_async": true
        },
        {
          "name": "insert_archival",
          "kind": "function",
          "line": 306,
          "visibility": "pub",
          "signature": "async fn insert_archival(&self, content: &str)",
          "doc": "Insert content into archival memory.\n\nContent is stored with embeddings for semantic search.\n\n# Arguments\n* `content` - Content to store\n\n# Returns\nEntity ID of the stored content",
          "is_async": true
        },
        {
          "name": "search_archival",
          "kind": "function",
          "line": 338,
          "visibility": "pub",
          "signature": "async fn search_archival(&self, query: &str, limit: usize)",
          "doc": "Search archival memory semantically.\n\n# Arguments\n* `query` - Search query\n* `limit` - Maximum number of results\n\n# Returns\nList of matching entities belonging to this agent only",
          "is_async": true
        },
        {
          "name": "store_message",
          "kind": "function",
          "line": 391,
          "visibility": "pub",
          "signature": "async fn store_message(&self, role: &str, content: &str)",
          "doc": "Store a conversation message.\n\n# Arguments\n* `role` - Message role (user, assistant, system)\n* `content` - Message content",
          "is_async": true
        },
        {
          "name": "search_conversations",
          "kind": "function",
          "line": 424,
          "visibility": "pub",
          "signature": "async fn search_conversations(&self, query: &str, limit: usize)",
          "doc": "Search conversation history.\n\n# Arguments\n* `query` - Search query\n* `limit` - Maximum number of results\n\n# Returns\nList of matching entities (conversation messages) belonging to this agent only",
          "is_async": true
        },
        {
          "name": "agent_id",
          "kind": "function",
          "line": 471,
          "visibility": "pub",
          "signature": "fn agent_id(&self)",
          "doc": "Get the agent ID this backend is scoped to."
        },
        {
          "name": "build_system_prompt",
          "kind": "function",
          "line": 478,
          "visibility": "pub",
          "signature": "async fn build_system_prompt(&self)",
          "doc": "Build system prompt from core memory blocks.\n\nFormats blocks as XML for LLM context.",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 502,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_new_sim_creates_backend",
          "kind": "function",
          "line": 506,
          "visibility": "private",
          "signature": "async fn test_new_sim_creates_backend()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_new_sim_with_agent",
          "kind": "function",
          "line": 512,
          "visibility": "private",
          "signature": "async fn test_new_sim_with_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_core_memory_append",
          "kind": "function",
          "line": 520,
          "visibility": "private",
          "signature": "async fn test_core_memory_append()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_core_memory_append_creates_and_appends",
          "kind": "function",
          "line": 535,
          "visibility": "private",
          "signature": "async fn test_core_memory_append_creates_and_appends()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_core_memory_replace",
          "kind": "function",
          "line": 548,
          "visibility": "private",
          "signature": "async fn test_core_memory_replace()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_core_memory_order",
          "kind": "function",
          "line": 566,
          "visibility": "private",
          "signature": "async fn test_core_memory_order()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_build_system_prompt",
          "kind": "function",
          "line": 583,
          "visibility": "private",
          "signature": "async fn test_build_system_prompt()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_empty_agent_id_panics",
          "kind": "function",
          "line": 606,
          "visibility": "private",
          "signature": "async fn test_empty_agent_id_panics()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "should_panic(expected = \"agent_id cannot be empty\")"
          ]
        },
        {
          "name": "test_empty_label_panics",
          "kind": "function",
          "line": 612,
          "visibility": "private",
          "signature": "async fn test_empty_label_panics()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test",
            "should_panic(expected = \"label cannot be empty\")"
          ]
        }
      ],
      "imports": [
        {
          "path": "anyhow::anyhow"
        },
        {
          "path": "anyhow::Result"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "umi_memory::dst::SimEnvironment"
        },
        {
          "path": "umi_memory::Entity"
        },
        {
          "path": "umi_memory::Memory"
        },
        {
          "path": "umi_memory::RecallOptions"
        },
        {
          "path": "umi_memory::RememberOptions"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/security/audit.rs",
      "symbols": [
        {
          "name": "AUDIT_ENTRIES_COUNT_MAX",
          "kind": "const",
          "line": 24,
          "visibility": "pub",
          "signature": "const AUDIT_ENTRIES_COUNT_MAX: usize",
          "doc": "Maximum audit entries to keep in memory"
        },
        {
          "name": "AUDIT_DATA_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 27,
          "visibility": "pub",
          "signature": "const AUDIT_DATA_SIZE_BYTES_MAX: usize",
          "doc": "Maximum input/output size in bytes to log (truncated if larger)"
        },
        {
          "name": "AuditEvent",
          "kind": "enum",
          "line": 36,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "AuditEntry",
          "kind": "struct",
          "line": 115,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AuditEntry",
          "kind": "impl",
          "line": 127,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 129,
          "visibility": "private",
          "signature": "fn new(id: u64, event: AuditEvent, context: Option<serde_json::Value>)",
          "doc": "Create a new audit entry"
        },
        {
          "name": "AuditLog",
          "kind": "struct",
          "line": 141,
          "visibility": "pub",
          "attributes": [
            "derive(Debug)"
          ]
        },
        {
          "name": "AuditLog",
          "kind": "impl",
          "line": 152,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 154,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new audit log"
        },
        {
          "name": "with_capacity",
          "kind": "function",
          "line": 159,
          "visibility": "pub",
          "signature": "fn with_capacity(max_entries: usize)",
          "doc": "Create with custom capacity"
        },
        {
          "name": "log",
          "kind": "function",
          "line": 173,
          "visibility": "pub",
          "signature": "fn log(&mut self, event: AuditEvent)",
          "doc": "Log an event"
        },
        {
          "name": "log_with_context",
          "kind": "function",
          "line": 178,
          "visibility": "pub",
          "signature": "fn log_with_context(&mut self, event: AuditEvent, context: Option<serde_json::Value>)",
          "doc": "Log an event with additional context"
        },
        {
          "name": "log_tool_execution",
          "kind": "function",
          "line": 203,
          "visibility": "pub",
          "signature": "fn log_tool_execution(\n        &mut self,\n        tool_name: &str,\n        agent_id: &str,\n        input: &str,\n        output: &str,\n        duration_ms: u64,\n        success: bool,\n        error: Option<String>,\n    )",
          "doc": "Log a tool execution"
        },
        {
          "name": "recent",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn recent(&self, count: usize)",
          "doc": "Get recent entries"
        },
        {
          "name": "since",
          "kind": "function",
          "line": 239,
          "visibility": "pub",
          "signature": "fn since(&self, id: u64)",
          "doc": "Get entries since a given ID"
        },
        {
          "name": "in_range",
          "kind": "function",
          "line": 244,
          "visibility": "pub",
          "signature": "fn in_range(&self, start: DateTime<Utc>, end: DateTime<Utc>)",
          "doc": "Get entries in a time range"
        },
        {
          "name": "tool_executions_for_agent",
          "kind": "function",
          "line": 252,
          "visibility": "pub",
          "signature": "fn tool_executions_for_agent(&self, agent_id: &str)",
          "doc": "Get tool executions for an agent"
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 260,
          "visibility": "pub",
          "signature": "fn stats(&self)",
          "doc": "Get statistics"
        },
        {
          "name": "export_jsonl",
          "kind": "function",
          "line": 290,
          "visibility": "pub",
          "signature": "fn export_jsonl(&self)",
          "doc": "Export entries as JSON lines"
        },
        {
          "name": "Default for AuditLog",
          "kind": "impl",
          "line": 299,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 300,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "AuditStats",
          "kind": "struct",
          "line": 307,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Default, Serialize)"
          ]
        },
        {
          "name": "SharedAuditLog",
          "kind": "type_alias",
          "line": 319,
          "visibility": "pub",
          "doc": "Thread-safe audit log"
        },
        {
          "name": "new_shared_log",
          "kind": "function",
          "line": 322,
          "visibility": "pub",
          "signature": "fn new_shared_log()",
          "doc": "Create a new shared audit log"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 331,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_audit_log_basic",
          "kind": "function",
          "line": 335,
          "visibility": "private",
          "signature": "fn test_audit_log_basic()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_audit_log_capacity",
          "kind": "function",
          "line": 355,
          "visibility": "private",
          "signature": "fn test_audit_log_capacity()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_audit_log_truncation",
          "kind": "function",
          "line": 376,
          "visibility": "private",
          "signature": "fn test_audit_log_truncation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "chrono::DateTime"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::collections::VecDeque"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/security/auth.rs",
      "symbols": [
        {
          "name": "AUTH_HEADER_PREFIX",
          "kind": "const",
          "line": 32,
          "visibility": "pub",
          "signature": "const AUTH_HEADER_PREFIX: &str",
          "doc": "API key header prefix"
        },
        {
          "name": "API_KEY_LENGTH_BYTES_MIN",
          "kind": "const",
          "line": 35,
          "visibility": "pub",
          "signature": "const API_KEY_LENGTH_BYTES_MIN: usize",
          "doc": "Minimum API key length in bytes"
        },
        {
          "name": "API_KEY_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 38,
          "visibility": "pub",
          "signature": "const API_KEY_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum API key length in bytes"
        },
        {
          "name": "PUBLIC_PATHS",
          "kind": "const",
          "line": 41,
          "visibility": "pub",
          "signature": "const PUBLIC_PATHS: &[&str]",
          "doc": "Paths that don't require authentication"
        },
        {
          "name": "ApiKeyAuth",
          "kind": "struct",
          "line": 49,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "ApiKeyAuth",
          "kind": "impl",
          "line": 56,
          "visibility": "private"
        },
        {
          "name": "from_env",
          "kind": "function",
          "line": 62,
          "visibility": "pub",
          "signature": "fn from_env()",
          "doc": "Create from environment variables\n\nReads:\n- KELPIE_API_KEY: The API key to require\n- KELPIE_API_KEY_REQUIRED: Whether auth is required (default: false)"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 102,
          "visibility": "pub",
          "signature": "fn new(api_key: Option<String>, required: bool)",
          "doc": "Create with explicit configuration"
        },
        {
          "name": "requires_auth",
          "kind": "function",
          "line": 107,
          "visibility": "pub",
          "signature": "fn requires_auth(&self, path: &str)",
          "doc": "Check if a path requires authentication"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 123,
          "visibility": "pub",
          "signature": "fn validate(&self, provided_key: &str)",
          "doc": "Validate an API key"
        },
        {
          "name": "is_enabled",
          "kind": "function",
          "line": 138,
          "visibility": "pub",
          "signature": "fn is_enabled(&self)",
          "doc": "Is authentication enabled?"
        },
        {
          "name": "Default for ApiKeyAuth",
          "kind": "impl",
          "line": 143,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 144,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "AuthError",
          "kind": "struct",
          "line": 155,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "AuthError",
          "kind": "impl",
          "line": 160,
          "visibility": "private"
        },
        {
          "name": "unauthorized",
          "kind": "function",
          "line": 161,
          "visibility": "pub",
          "signature": "fn unauthorized(message: impl Into<String>)"
        },
        {
          "name": "forbidden",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "fn forbidden(message: impl Into<String>)"
        },
        {
          "name": "IntoResponse for AuthError",
          "kind": "impl",
          "line": 176,
          "visibility": "private"
        },
        {
          "name": "into_response",
          "kind": "function",
          "line": 177,
          "visibility": "private",
          "signature": "fn into_response(self)"
        },
        {
          "name": "api_key_auth_middleware",
          "kind": "function",
          "line": 192,
          "visibility": "pub",
          "signature": "async fn api_key_auth_middleware(\n    auth: Arc<ApiKeyAuth>,\n    request: Request,\n    next: Next,\n)",
          "doc": "API key authentication middleware function",
          "is_async": true
        },
        {
          "name": "ApiKeyAuthLayer",
          "kind": "struct",
          "line": 241,
          "visibility": "pub",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "ApiKeyAuthLayer",
          "kind": "impl",
          "line": 245,
          "visibility": "private"
        },
        {
          "name": "from_env",
          "kind": "function",
          "line": 247,
          "visibility": "pub",
          "signature": "fn from_env()",
          "doc": "Create a new API key auth layer from environment"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 254,
          "visibility": "pub",
          "signature": "fn new(auth: ApiKeyAuth)",
          "doc": "Create with explicit configuration"
        },
        {
          "name": "auth",
          "kind": "function",
          "line": 261,
          "visibility": "pub",
          "signature": "fn auth(&self)",
          "doc": "Get the auth configuration"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 275,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_auth_public_paths",
          "kind": "function",
          "line": 279,
          "visibility": "private",
          "signature": "fn test_auth_public_paths()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_auth_validation",
          "kind": "function",
          "line": 291,
          "visibility": "private",
          "signature": "fn test_auth_validation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_auth_disabled",
          "kind": "function",
          "line": 300,
          "visibility": "private",
          "signature": "fn test_auth_disabled()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_auth_required_no_key",
          "kind": "function",
          "line": 309,
          "visibility": "private",
          "signature": "fn test_auth_required_no_key()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "axum::extract::Request"
        },
        {
          "path": "http::header"
        },
        {
          "path": "http::StatusCode"
        },
        {
          "path": "axum::middleware::Next"
        },
        {
          "path": "response::IntoResponse"
        },
        {
          "path": "response::Response"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/security/mod.rs",
      "symbols": [
        {
          "name": "audit",
          "kind": "mod",
          "line": 10,
          "visibility": "pub"
        },
        {
          "name": "auth",
          "kind": "mod",
          "line": 11,
          "visibility": "pub"
        }
      ],
      "imports": [
        {
          "path": "audit::AuditEntry"
        },
        {
          "path": "audit::AuditEvent"
        },
        {
          "path": "audit::AuditLog"
        },
        {
          "path": "auth::ApiKeyAuth"
        },
        {
          "path": "auth::ApiKeyAuthLayer"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/storage/types.rs",
      "symbols": [
        {
          "name": "AGENT_NAME_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 16,
          "visibility": "pub",
          "signature": "const AGENT_NAME_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum agent name length in bytes"
        },
        {
          "name": "SESSION_ID_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 19,
          "visibility": "pub",
          "signature": "const SESSION_ID_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum session ID length in bytes"
        },
        {
          "name": "PENDING_TOOL_CALLS_MAX",
          "kind": "const",
          "line": 22,
          "visibility": "pub",
          "signature": "const PENDING_TOOL_CALLS_MAX: usize",
          "doc": "Maximum pending tool calls per session"
        },
        {
          "name": "TOOL_INPUT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 25,
          "visibility": "pub",
          "signature": "const TOOL_INPUT_SIZE_BYTES_MAX: usize",
          "doc": "Maximum tool input size in bytes"
        },
        {
          "name": "MESSAGES_LOAD_LIMIT_DEFAULT",
          "kind": "const",
          "line": 29,
          "visibility": "pub",
          "signature": "const MESSAGES_LOAD_LIMIT_DEFAULT: usize",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "MESSAGES_LOAD_LIMIT_MAX",
          "kind": "const",
          "line": 33,
          "visibility": "pub",
          "signature": "const MESSAGES_LOAD_LIMIT_MAX: usize",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "TOOL_NAME_LENGTH_MAX",
          "kind": "const",
          "line": 40,
          "visibility": "pub",
          "signature": "const TOOL_NAME_LENGTH_MAX: usize",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "AgentMetadata",
          "kind": "struct",
          "line": 51,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq)"
          ]
        },
        {
          "name": "CustomToolRecord",
          "kind": "struct",
          "line": 95,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq)"
          ]
        },
        {
          "name": "AgentMetadata",
          "kind": "impl",
          "line": 114,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 116,
          "visibility": "pub",
          "signature": "fn new(id: String, name: String, agent_type: AgentType)",
          "doc": "Create new agent metadata with defaults"
        },
        {
          "name": "touch",
          "kind": "function",
          "line": 144,
          "visibility": "pub",
          "signature": "fn touch(&mut self)",
          "doc": "Update the updated_at timestamp"
        },
        {
          "name": "SessionState",
          "kind": "struct",
          "line": 158,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq)"
          ]
        },
        {
          "name": "SessionState",
          "kind": "impl",
          "line": 187,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 189,
          "visibility": "pub",
          "signature": "fn new(session_id: String, agent_id: String)",
          "doc": "Create a new session state"
        },
        {
          "name": "checkpoint",
          "kind": "function",
          "line": 214,
          "visibility": "pub",
          "signature": "fn checkpoint(&mut self)",
          "doc": "Checkpoint the session (update timestamp)"
        },
        {
          "name": "advance_iteration",
          "kind": "function",
          "line": 219,
          "visibility": "pub",
          "signature": "fn advance_iteration(&mut self)",
          "doc": "Increment iteration and checkpoint"
        },
        {
          "name": "is_paused",
          "kind": "function",
          "line": 225,
          "visibility": "pub",
          "signature": "fn is_paused(&self, current_time_ms: u64)",
          "doc": "Check if session is paused"
        },
        {
          "name": "set_pause",
          "kind": "function",
          "line": 232,
          "visibility": "pub",
          "signature": "fn set_pause(&mut self, until_ms: u64)",
          "doc": "Set pause duration"
        },
        {
          "name": "clear_pause",
          "kind": "function",
          "line": 238,
          "visibility": "pub",
          "signature": "fn clear_pause(&mut self)",
          "doc": "Clear pause"
        },
        {
          "name": "add_pending_tool",
          "kind": "function",
          "line": 244,
          "visibility": "pub",
          "signature": "fn add_pending_tool(&mut self, tool: PendingToolCall)",
          "doc": "Add a pending tool call"
        },
        {
          "name": "clear_pending_tools",
          "kind": "function",
          "line": 255,
          "visibility": "pub",
          "signature": "fn clear_pending_tools(&mut self)",
          "doc": "Clear pending tool calls (after completion)"
        },
        {
          "name": "stop",
          "kind": "function",
          "line": 260,
          "visibility": "pub",
          "signature": "fn stop(&mut self, reason: &str)",
          "doc": "Mark session as stopped"
        },
        {
          "name": "is_stopped",
          "kind": "function",
          "line": 266,
          "visibility": "pub",
          "signature": "fn is_stopped(&self)",
          "doc": "Check if session has stopped"
        },
        {
          "name": "PendingToolCall",
          "kind": "struct",
          "line": 279,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, PartialEq)"
          ]
        },
        {
          "name": "PendingToolCall",
          "kind": "impl",
          "line": 299,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 301,
          "visibility": "pub",
          "signature": "fn new(id: String, tool_name: String, tool_input: Value)",
          "doc": "Create a new pending tool call"
        },
        {
          "name": "complete",
          "kind": "function",
          "line": 326,
          "visibility": "pub",
          "signature": "fn complete(&mut self, result: String)",
          "doc": "Mark the tool call as completed"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 333,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_agent_metadata_new",
          "kind": "function",
          "line": 337,
          "visibility": "private",
          "signature": "fn test_agent_metadata_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_session_state_new",
          "kind": "function",
          "line": 352,
          "visibility": "private",
          "signature": "fn test_session_state_new()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_session_state_advance",
          "kind": "function",
          "line": 363,
          "visibility": "private",
          "signature": "fn test_session_state_advance()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_session_state_pause",
          "kind": "function",
          "line": 374,
          "visibility": "private",
          "signature": "fn test_session_state_pause()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_session_state_stop",
          "kind": "function",
          "line": 393,
          "visibility": "private",
          "signature": "fn test_session_state_stop()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_pending_tool_call",
          "kind": "function",
          "line": 404,
          "visibility": "private",
          "signature": "fn test_pending_tool_call()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_agent_metadata_empty_id",
          "kind": "function",
          "line": 421,
          "visibility": "private",
          "signature": "fn test_agent_metadata_empty_id()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"agent id cannot be empty\")"
          ]
        },
        {
          "name": "test_session_state_empty_id",
          "kind": "function",
          "line": 431,
          "visibility": "private",
          "signature": "fn test_session_state_empty_id()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"session id cannot be empty\")"
          ]
        }
      ],
      "imports": [
        {
          "path": "chrono::DateTime"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "crate::models::AgentType"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/storage/adapter.rs",
      "symbols": [
        {
          "name": "KEY_LENGTH_BYTES_MAX",
          "kind": "const",
          "line": 28,
          "visibility": "private",
          "signature": "const KEY_LENGTH_BYTES_MAX: usize",
          "doc": "Maximum key length in bytes"
        },
        {
          "name": "VALUE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 31,
          "visibility": "private",
          "signature": "const VALUE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum value size in bytes (10 MB)"
        },
        {
          "name": "KvAdapter",
          "kind": "struct",
          "line": 36,
          "visibility": "pub",
          "doc": "Adapter that wraps ActorKV and implements AgentStorage\n\nTigerStyle: Explicit scoping, bounded keys, JSON serialization for debuggability."
        },
        {
          "name": "KvAdapter",
          "kind": "impl",
          "line": 43,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "fn new(kv: Arc<dyn ActorKV>)",
          "doc": "Create a new KvAdapter wrapping the given ActorKV\n\nAll storage operations will be scoped under ActorId(\"kelpie\", \"server\")."
        },
        {
          "name": "with_memory",
          "kind": "function",
          "line": 57,
          "visibility": "pub",
          "signature": "fn with_memory()",
          "doc": "Create a KvAdapter backed by MemoryKV (for testing)\n\nThis is a convenience method for creating in-memory storage for unit tests."
        },
        {
          "name": "with_dst_storage",
          "kind": "function",
          "line": 72,
          "visibility": "pub",
          "signature": "fn with_dst_storage(\n        rng: kelpie_dst::DeterministicRng,\n        fault_injector: std::sync::Arc<kelpie_dst::FaultInjector>,\n    )",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "underlying_kv",
          "kind": "function",
          "line": 84,
          "visibility": "pub",
          "signature": "fn underlying_kv(&self)",
          "is_test": true,
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "agent_key",
          "kind": "function",
          "line": 93,
          "visibility": "private",
          "signature": "fn agent_key(id: &str)",
          "doc": "Generate key for agent metadata: `agents/{id}`"
        },
        {
          "name": "session_key",
          "kind": "function",
          "line": 105,
          "visibility": "private",
          "signature": "fn session_key(agent_id: &str, session_id: &str)",
          "doc": "Generate key for session state: `sessions/{agent_id}/{session_id}`"
        },
        {
          "name": "session_prefix",
          "kind": "function",
          "line": 113,
          "visibility": "private",
          "signature": "fn session_prefix(_agent_id: &str)",
          "doc": "Generate prefix for listing sessions: `sessions/{agent_id}/`"
        },
        {
          "name": "message_key",
          "kind": "function",
          "line": 119,
          "visibility": "private",
          "signature": "fn message_key(_agent_id: &str, message_id: &str)",
          "doc": "Generate key for message: `message:{message_id}`"
        },
        {
          "name": "message_prefix",
          "kind": "function",
          "line": 125,
          "visibility": "private",
          "signature": "fn message_prefix(_agent_id: &str)",
          "doc": "Generate prefix for listing messages: `message:`"
        },
        {
          "name": "blocks_key",
          "kind": "function",
          "line": 131,
          "visibility": "private",
          "signature": "fn blocks_key(_agent_id: &str)",
          "doc": "Generate key for blocks: `blocks/{agent_id}`"
        },
        {
          "name": "tool_key",
          "kind": "function",
          "line": 137,
          "visibility": "private",
          "signature": "fn tool_key(name: &str)",
          "doc": "Generate key for custom tool: `tools/{name}`"
        },
        {
          "name": "mcp_server_key",
          "kind": "function",
          "line": 149,
          "visibility": "private",
          "signature": "fn mcp_server_key(id: &str)",
          "doc": "Generate key for MCP server: `mcp_servers/{id}`"
        },
        {
          "name": "agent_group_key",
          "kind": "function",
          "line": 161,
          "visibility": "private",
          "signature": "fn agent_group_key(id: &str)",
          "doc": "Generate key for agent group: `agent_groups/{id}`"
        },
        {
          "name": "identity_key",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "fn identity_key(id: &str)",
          "doc": "Generate key for identity: `identities/{id}`"
        },
        {
          "name": "project_key",
          "kind": "function",
          "line": 185,
          "visibility": "private",
          "signature": "fn project_key(id: &str)",
          "doc": "Generate key for project: `projects/{id}`"
        },
        {
          "name": "job_key",
          "kind": "function",
          "line": 197,
          "visibility": "private",
          "signature": "fn job_key(id: &str)",
          "doc": "Generate key for job: `jobs/{id}`"
        },
        {
          "name": "archival_key",
          "kind": "function",
          "line": 209,
          "visibility": "private",
          "signature": "fn archival_key(_agent_id: &str, entry_id: &str)",
          "doc": "Generate key for archival entry: `archival:{entry_id}`"
        },
        {
          "name": "archival_prefix",
          "kind": "function",
          "line": 216,
          "visibility": "private",
          "signature": "fn archival_prefix(_agent_id: &str)",
          "doc": "Generate prefix for listing archival entries: `archival:`"
        },
        {
          "name": "serialize",
          "kind": "function",
          "line": 226,
          "visibility": "private",
          "signature": "fn serialize<T>(value: &T)",
          "doc": "Serialize a value to JSON bytes",
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "deserialize",
          "kind": "function",
          "line": 242,
          "visibility": "private",
          "signature": "fn deserialize<T>(bytes: &[u8])",
          "doc": "Deserialize JSON bytes to a value",
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "map_kv_error",
          "kind": "function",
          "line": 249,
          "visibility": "private",
          "signature": "fn map_kv_error(operation: &str, err: kelpie_core::Error)",
          "doc": "Map kelpie_core::Error to StorageError"
        },
        {
          "name": "AgentStorage for KvAdapter",
          "kind": "impl",
          "line": 295,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "save_agent",
          "kind": "function",
          "line": 300,
          "visibility": "private",
          "signature": "async fn save_agent(&self, agent: &AgentMetadata)",
          "is_async": true
        },
        {
          "name": "load_agent",
          "kind": "function",
          "line": 315,
          "visibility": "private",
          "signature": "async fn load_agent(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 336,
          "visibility": "private",
          "signature": "async fn delete_agent(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_agents",
          "kind": "function",
          "line": 423,
          "visibility": "private",
          "signature": "async fn list_agents(&self)",
          "is_async": true
        },
        {
          "name": "save_blocks",
          "kind": "function",
          "line": 444,
          "visibility": "private",
          "signature": "async fn save_blocks(&self, agent_id: &str, blocks: &[Block])",
          "is_async": true
        },
        {
          "name": "load_blocks",
          "kind": "function",
          "line": 467,
          "visibility": "private",
          "signature": "async fn load_blocks(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 488,
          "visibility": "private",
          "signature": "async fn update_block(\n        &self,\n        agent_id: &str,\n        label: &str,\n        value: &str,\n    )",
          "is_async": true
        },
        {
          "name": "append_block",
          "kind": "function",
          "line": 520,
          "visibility": "private",
          "signature": "async fn append_block(\n        &self,\n        agent_id: &str,\n        label: &str,\n        content: &str,\n    )",
          "is_async": true
        },
        {
          "name": "save_session",
          "kind": "function",
          "line": 558,
          "visibility": "private",
          "signature": "async fn save_session(&self, state: &SessionState)",
          "is_async": true
        },
        {
          "name": "load_session",
          "kind": "function",
          "line": 574,
          "visibility": "private",
          "signature": "async fn load_session(\n        &self,\n        agent_id: &str,\n        session_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_session",
          "kind": "function",
          "line": 600,
          "visibility": "private",
          "signature": "async fn delete_session(&self, agent_id: &str, session_id: &str)",
          "is_async": true
        },
        {
          "name": "list_sessions",
          "kind": "function",
          "line": 628,
          "visibility": "private",
          "signature": "async fn list_sessions(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "append_message",
          "kind": "function",
          "line": 657,
          "visibility": "private",
          "signature": "async fn append_message(&self, agent_id: &str, message: &Message)",
          "is_async": true
        },
        {
          "name": "load_messages",
          "kind": "function",
          "line": 677,
          "visibility": "private",
          "signature": "async fn load_messages(\n        &self,\n        agent_id: &str,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "load_messages_since",
          "kind": "function",
          "line": 714,
          "visibility": "private",
          "signature": "async fn load_messages_since(\n        &self,\n        agent_id: &str,\n        since_ms: u64,\n    )",
          "is_async": true
        },
        {
          "name": "count_messages",
          "kind": "function",
          "line": 748,
          "visibility": "private",
          "signature": "async fn count_messages(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "delete_messages",
          "kind": "function",
          "line": 774,
          "visibility": "private",
          "signature": "async fn delete_messages(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "save_custom_tool",
          "kind": "function",
          "line": 804,
          "visibility": "private",
          "signature": "async fn save_custom_tool(&self, tool: &CustomToolRecord)",
          "is_async": true
        },
        {
          "name": "load_custom_tool",
          "kind": "function",
          "line": 819,
          "visibility": "private",
          "signature": "async fn load_custom_tool(&self, name: &str)",
          "is_async": true
        },
        {
          "name": "delete_custom_tool",
          "kind": "function",
          "line": 840,
          "visibility": "private",
          "signature": "async fn delete_custom_tool(&self, name: &str)",
          "is_async": true
        },
        {
          "name": "list_custom_tools",
          "kind": "function",
          "line": 867,
          "visibility": "private",
          "signature": "async fn list_custom_tools(&self)",
          "is_async": true
        },
        {
          "name": "checkpoint",
          "kind": "function",
          "line": 888,
          "visibility": "private",
          "signature": "async fn checkpoint(\n        &self,\n        session: &SessionState,\n        message: Option<&Message>,\n    )",
          "is_async": true
        },
        {
          "name": "save_mcp_server",
          "kind": "function",
          "line": 946,
          "visibility": "private",
          "signature": "async fn save_mcp_server(&self, server: &crate::models::MCPServer)",
          "is_async": true
        },
        {
          "name": "load_mcp_server",
          "kind": "function",
          "line": 961,
          "visibility": "private",
          "signature": "async fn load_mcp_server(\n        &self,\n        id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_mcp_server",
          "kind": "function",
          "line": 985,
          "visibility": "private",
          "signature": "async fn delete_mcp_server(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_mcp_servers",
          "kind": "function",
          "line": 1012,
          "visibility": "private",
          "signature": "async fn list_mcp_servers(&self)",
          "is_async": true
        },
        {
          "name": "save_agent_group",
          "kind": "function",
          "line": 1033,
          "visibility": "private",
          "signature": "async fn save_agent_group(\n        &self,\n        group: &crate::models::AgentGroup,\n    )",
          "is_async": true
        },
        {
          "name": "load_agent_group",
          "kind": "function",
          "line": 1051,
          "visibility": "private",
          "signature": "async fn load_agent_group(\n        &self,\n        id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_agent_group",
          "kind": "function",
          "line": 1075,
          "visibility": "private",
          "signature": "async fn delete_agent_group(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_agent_groups",
          "kind": "function",
          "line": 1102,
          "visibility": "private",
          "signature": "async fn list_agent_groups(&self)",
          "is_async": true
        },
        {
          "name": "save_identity",
          "kind": "function",
          "line": 1123,
          "visibility": "private",
          "signature": "async fn save_identity(&self, identity: &crate::models::Identity)",
          "is_async": true
        },
        {
          "name": "load_identity",
          "kind": "function",
          "line": 1138,
          "visibility": "private",
          "signature": "async fn load_identity(\n        &self,\n        id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_identity",
          "kind": "function",
          "line": 1162,
          "visibility": "private",
          "signature": "async fn delete_identity(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_identities",
          "kind": "function",
          "line": 1189,
          "visibility": "private",
          "signature": "async fn list_identities(&self)",
          "is_async": true
        },
        {
          "name": "save_project",
          "kind": "function",
          "line": 1210,
          "visibility": "private",
          "signature": "async fn save_project(&self, project: &crate::models::Project)",
          "is_async": true
        },
        {
          "name": "load_project",
          "kind": "function",
          "line": 1225,
          "visibility": "private",
          "signature": "async fn load_project(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_project",
          "kind": "function",
          "line": 1246,
          "visibility": "private",
          "signature": "async fn delete_project(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_projects",
          "kind": "function",
          "line": 1273,
          "visibility": "private",
          "signature": "async fn list_projects(&self)",
          "is_async": true
        },
        {
          "name": "save_job",
          "kind": "function",
          "line": 1294,
          "visibility": "private",
          "signature": "async fn save_job(&self, job: &crate::models::Job)",
          "is_async": true
        },
        {
          "name": "load_job",
          "kind": "function",
          "line": 1309,
          "visibility": "private",
          "signature": "async fn load_job(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_job",
          "kind": "function",
          "line": 1330,
          "visibility": "private",
          "signature": "async fn delete_job(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_jobs",
          "kind": "function",
          "line": 1357,
          "visibility": "private",
          "signature": "async fn list_jobs(&self)",
          "is_async": true
        },
        {
          "name": "save_archival_entry",
          "kind": "function",
          "line": 1378,
          "visibility": "private",
          "signature": "async fn save_archival_entry(\n        &self,\n        agent_id: &str,\n        entry: &ArchivalEntry,\n    )",
          "is_async": true
        },
        {
          "name": "load_archival_entries",
          "kind": "function",
          "line": 1398,
          "visibility": "private",
          "signature": "async fn load_archival_entries(\n        &self,\n        agent_id: &str,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "get_archival_entry",
          "kind": "function",
          "line": 1429,
          "visibility": "private",
          "signature": "async fn get_archival_entry(\n        &self,\n        agent_id: &str,\n        entry_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_archival_entry",
          "kind": "function",
          "line": 1455,
          "visibility": "private",
          "signature": "async fn delete_archival_entry(\n        &self,\n        agent_id: &str,\n        entry_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_archival_entries",
          "kind": "function",
          "line": 1474,
          "visibility": "private",
          "signature": "async fn delete_archival_entries(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "search_archival_entries",
          "kind": "function",
          "line": 1492,
          "visibility": "private",
          "signature": "async fn search_archival_entries(\n        &self,\n        agent_id: &str,\n        query: Option<&str>,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1535,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_adapter",
          "kind": "function",
          "line": 1540,
          "visibility": "private",
          "signature": "fn test_adapter()"
        },
        {
          "name": "test_adapter_agent_crud",
          "kind": "function",
          "line": 1546,
          "visibility": "private",
          "signature": "async fn test_adapter_agent_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_session_crud",
          "kind": "function",
          "line": 1575,
          "visibility": "private",
          "signature": "async fn test_adapter_session_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_messages",
          "kind": "function",
          "line": 1616,
          "visibility": "private",
          "signature": "async fn test_adapter_messages()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_blocks",
          "kind": "function",
          "line": 1677,
          "visibility": "private",
          "signature": "async fn test_adapter_blocks()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_custom_tools",
          "kind": "function",
          "line": 1721,
          "visibility": "private",
          "signature": "async fn test_adapter_custom_tools()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_checkpoint_atomic",
          "kind": "function",
          "line": 1756,
          "visibility": "private",
          "signature": "async fn test_adapter_checkpoint_atomic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_key_assertions",
          "kind": "function",
          "line": 1796,
          "visibility": "private",
          "signature": "async fn test_adapter_key_assertions()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_mcp_server_crud",
          "kind": "function",
          "line": 1808,
          "visibility": "private",
          "signature": "async fn test_adapter_mcp_server_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_agent_group_crud",
          "kind": "function",
          "line": 1841,
          "visibility": "private",
          "signature": "async fn test_adapter_agent_group_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_identity_crud",
          "kind": "function",
          "line": 1876,
          "visibility": "private",
          "signature": "async fn test_adapter_identity_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_project_crud",
          "kind": "function",
          "line": 1913,
          "visibility": "private",
          "signature": "async fn test_adapter_project_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_adapter_job_crud",
          "kind": "function",
          "line": 1947,
          "visibility": "private",
          "signature": "async fn test_adapter_job_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_core::ActorId"
        },
        {
          "path": "kelpie_storage::ActorKV"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "crate::models::ArchivalEntry"
        },
        {
          "path": "crate::models::Block"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "super::traits::AgentStorage"
        },
        {
          "path": "super::traits::StorageError"
        },
        {
          "path": "super::types::AgentMetadata"
        },
        {
          "path": "super::types::CustomToolRecord"
        },
        {
          "path": "super::types::SessionState"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::models::AgentType"
        },
        {
          "path": "crate::models::MessageRole"
        },
        {
          "path": "kelpie_storage::memory::MemoryKV"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/storage/teleport.rs",
      "symbols": [
        {
          "name": "LocalTeleportStorage",
          "kind": "struct",
          "line": 15,
          "visibility": "pub",
          "doc": "In-memory teleport storage for local development and testing\n\nTigerStyle: Simple implementation for development without external dependencies."
        },
        {
          "name": "TELEPORT_PACKAGE_SIZE_BYTES_DEFAULT_MAX",
          "kind": "const",
          "line": 24,
          "visibility": "pub",
          "signature": "const TELEPORT_PACKAGE_SIZE_BYTES_DEFAULT_MAX: u64",
          "doc": "Maximum teleport package size in bytes (default: 10GB)"
        },
        {
          "name": "LocalTeleportStorage",
          "kind": "impl",
          "line": 26,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 28,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new local teleport storage"
        },
        {
          "name": "with_expected_image_version",
          "kind": "function",
          "line": 39,
          "visibility": "pub",
          "signature": "fn with_expected_image_version(mut self, version: impl Into<String>)",
          "doc": "Set the expected base image version"
        },
        {
          "name": "with_max_package_bytes",
          "kind": "function",
          "line": 45,
          "visibility": "pub",
          "signature": "fn with_max_package_bytes(mut self, max_bytes: u64)",
          "doc": "Set the maximum package size"
        },
        {
          "name": "Default for LocalTeleportStorage",
          "kind": "impl",
          "line": 51,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 52,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "TeleportStorage for LocalTeleportStorage",
          "kind": "impl",
          "line": 58,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "upload",
          "kind": "function",
          "line": 59,
          "visibility": "private",
          "signature": "async fn upload(&self, package: TeleportPackage)",
          "is_async": true
        },
        {
          "name": "download",
          "kind": "function",
          "line": 75,
          "visibility": "private",
          "signature": "async fn download(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "download_for_restore",
          "kind": "function",
          "line": 86,
          "visibility": "private",
          "signature": "async fn download_for_restore(\n        &self,\n        id: &str,\n        target_arch: Architecture,\n    )",
          "is_async": true
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 154,
          "visibility": "private",
          "signature": "async fn delete(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list",
          "kind": "function",
          "line": 161,
          "visibility": "private",
          "signature": "async fn list(&self)",
          "is_async": true
        },
        {
          "name": "upload_blob",
          "kind": "function",
          "line": 166,
          "visibility": "private",
          "signature": "async fn upload_blob(&self, key: &str, data: Bytes)",
          "is_async": true
        },
        {
          "name": "download_blob",
          "kind": "function",
          "line": 172,
          "visibility": "private",
          "signature": "async fn download_blob(&self, key: &str)",
          "is_async": true
        },
        {
          "name": "host_arch",
          "kind": "function",
          "line": 182,
          "visibility": "private",
          "signature": "fn host_arch(&self)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 188,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_local_teleport_storage_basic",
          "kind": "function",
          "line": 193,
          "visibility": "private",
          "signature": "async fn test_local_teleport_storage_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_local_teleport_storage_arch_validation",
          "kind": "function",
          "line": 215,
          "visibility": "private",
          "signature": "async fn test_local_teleport_storage_arch_validation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_local_teleport_storage_checkpoint_cross_arch",
          "kind": "function",
          "line": 246,
          "visibility": "private",
          "signature": "async fn test_local_teleport_storage_checkpoint_cross_arch()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_local_teleport_storage_blob_operations",
          "kind": "function",
          "line": 265,
          "visibility": "private",
          "signature": "async fn test_local_teleport_storage_blob_operations()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_teleport_package_validation",
          "kind": "function",
          "line": 278,
          "visibility": "private",
          "signature": "fn test_teleport_package_validation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::teleport::Architecture"
        },
        {
          "path": "kelpie_core::teleport::TeleportPackage"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorage"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorageError"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorageResult"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_core::teleport::SnapshotKind"
        },
        {
          "path": "kelpie_core::teleport::TeleportPackage"
        },
        {
          "path": "kelpie_core::teleport::VmSnapshotBlob"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/storage/sim.rs",
      "symbols": [
        {
          "name": "TRANSACTION_RETRY_COUNT_MAX",
          "kind": "const",
          "line": 42,
          "visibility": "private",
          "signature": "const TRANSACTION_RETRY_COUNT_MAX: u64",
          "doc": "Maximum transaction retry attempts for conflict resolution"
        },
        {
          "name": "Version",
          "kind": "type_alias",
          "line": 49,
          "visibility": "private",
          "doc": "Version number for MVCC conflict detection"
        },
        {
          "name": "StorageKey",
          "kind": "enum",
          "line": 55,
          "visibility": "pub",
          "attributes": [
            "derive(Hash, Eq, PartialEq, Clone, Debug)"
          ]
        },
        {
          "name": "SimStorage",
          "kind": "struct",
          "line": 81,
          "visibility": "pub",
          "doc": "In-memory storage implementation for testing and development\n\nTigerStyle: All fields use RwLock for thread-safe concurrent access.\nData is stored in HashMaps, providing O(1) lookups.\nTransaction semantics match FDB for realistic simulation."
        },
        {
          "name": "SimStorageInner",
          "kind": "struct",
          "line": 89,
          "visibility": "private",
          "doc": "Inner storage state with version tracking for MVCC\n\nTigerStyle: Separate inner struct for Arc sharing and version management"
        },
        {
          "name": "SimStorageInner",
          "kind": "impl",
          "line": 121,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 122,
          "visibility": "private",
          "signature": "fn new()"
        },
        {
          "name": "with_fault_injector",
          "kind": "function",
          "line": 143,
          "visibility": "private",
          "signature": "fn with_fault_injector(fault_injector: Arc<FaultInjector>)",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "current_version",
          "kind": "function",
          "line": 163,
          "visibility": "private",
          "signature": "fn current_version(&self)",
          "doc": "Get the current global version"
        },
        {
          "name": "has_conflicts",
          "kind": "function",
          "line": 168,
          "visibility": "private",
          "signature": "fn has_conflicts(&self, read_set: &HashSet<StorageKey>, since_version: Version)",
          "doc": "Check if any keys have been modified since the given version"
        },
        {
          "name": "update_key_versions",
          "kind": "function",
          "line": 182,
          "visibility": "private",
          "signature": "fn update_key_versions(&self, keys: &[StorageKey])",
          "doc": "Update key versions after a successful write"
        },
        {
          "name": "SimStorage",
          "kind": "impl",
          "line": 192,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 194,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty SimStorage"
        },
        {
          "name": "with_fault_injector",
          "kind": "function",
          "line": 202,
          "visibility": "pub",
          "signature": "fn with_fault_injector(fault_injector: Arc<FaultInjector>)",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "begin_transaction",
          "kind": "function",
          "line": 211,
          "visibility": "pub",
          "signature": "fn begin_transaction(&self)",
          "doc": "Begin a new transaction for read-modify-write operations\n\nReturns a transaction that tracks reads and detects conflicts on commit."
        },
        {
          "name": "should_inject_fault",
          "kind": "function",
          "line": 217,
          "visibility": "private",
          "signature": "fn should_inject_fault(&self, operation: &str)",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "should_inject_fault",
          "kind": "function",
          "line": 227,
          "visibility": "private",
          "signature": "fn should_inject_fault(&self, _operation: &str)",
          "attributes": [
            "cfg(not(feature = \"dst\"))",
            "allow(dead_code)"
          ]
        },
        {
          "name": "fault_error",
          "kind": "function",
          "line": 233,
          "visibility": "private",
          "signature": "fn fault_error(operation: &str)",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "lock_error",
          "kind": "function",
          "line": 240,
          "visibility": "private",
          "signature": "fn lock_error(operation: &str)",
          "doc": "Helper for read lock errors"
        },
        {
          "name": "Clone for SimStorage",
          "kind": "impl",
          "line": 247,
          "visibility": "private"
        },
        {
          "name": "clone",
          "kind": "function",
          "line": 248,
          "visibility": "private",
          "signature": "fn clone(&self)"
        },
        {
          "name": "SimStorageTransaction",
          "kind": "struct",
          "line": 267,
          "visibility": "pub",
          "doc": "Transaction for SimStorage with FDB-like semantics\n\nTracks reads and detects conflicts on commit. Provides:\n- Read tracking for conflict detection\n- Version-based conflict detection (optimistic concurrency)\n- Automatic retry support via is_retriable() on errors\n\nTigerStyle: Explicit transaction lifecycle, 2+ assertions per method"
        },
        {
          "name": "SimStorageTransaction",
          "kind": "impl",
          "line": 280,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 281,
          "visibility": "private",
          "signature": "fn new(storage: Arc<SimStorageInner>)"
        },
        {
          "name": "record_read",
          "kind": "function",
          "line": 293,
          "visibility": "pub",
          "signature": "fn record_read(&mut self, key: StorageKey)",
          "doc": "Record a read for conflict detection"
        },
        {
          "name": "record_write",
          "kind": "function",
          "line": 299,
          "visibility": "pub",
          "signature": "fn record_write(&mut self, key: StorageKey)",
          "doc": "Record a write key for version updates"
        },
        {
          "name": "check_conflicts",
          "kind": "function",
          "line": 307,
          "visibility": "pub",
          "signature": "fn check_conflicts(&self)",
          "doc": "Check for conflicts before committing\n\nReturns error if any read keys have been modified since transaction start"
        },
        {
          "name": "commit",
          "kind": "function",
          "line": 324,
          "visibility": "pub",
          "signature": "fn commit(&mut self)",
          "doc": "Commit the transaction (update versions for written keys)\n\nCall this AFTER successfully applying writes to update version tracking"
        },
        {
          "name": "abort",
          "kind": "function",
          "line": 331,
          "visibility": "pub",
          "signature": "fn abort(&mut self)",
          "doc": "Abort the transaction (discard without updating versions)"
        },
        {
          "name": "Default for SimStorage",
          "kind": "impl",
          "line": 337,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 338,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "AgentStorage for SimStorage",
          "kind": "impl",
          "line": 344,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "save_agent",
          "kind": "function",
          "line": 349,
          "visibility": "private",
          "signature": "async fn save_agent(&self, agent: &AgentMetadata)",
          "is_async": true
        },
        {
          "name": "load_agent",
          "kind": "function",
          "line": 370,
          "visibility": "private",
          "signature": "async fn load_agent(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 384,
          "visibility": "private",
          "signature": "async fn delete_agent(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_agents",
          "kind": "function",
          "line": 446,
          "visibility": "private",
          "signature": "async fn list_agents(&self)",
          "is_async": true
        },
        {
          "name": "save_blocks",
          "kind": "function",
          "line": 464,
          "visibility": "private",
          "signature": "async fn save_blocks(&self, agent_id: &str, blocks: &[Block])",
          "is_async": true
        },
        {
          "name": "load_blocks",
          "kind": "function",
          "line": 489,
          "visibility": "private",
          "signature": "async fn load_blocks(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 507,
          "visibility": "private",
          "signature": "async fn update_block(\n        &self,\n        agent_id: &str,\n        label: &str,\n        value: &str,\n    )",
          "is_async": true
        },
        {
          "name": "append_block",
          "kind": "function",
          "line": 565,
          "visibility": "private",
          "signature": "async fn append_block(\n        &self,\n        agent_id: &str,\n        label: &str,\n        content: &str,\n    )",
          "is_async": true
        },
        {
          "name": "save_session",
          "kind": "function",
          "line": 633,
          "visibility": "private",
          "signature": "async fn save_session(&self, state: &SessionState)",
          "is_async": true
        },
        {
          "name": "load_session",
          "kind": "function",
          "line": 659,
          "visibility": "private",
          "signature": "async fn load_session(\n        &self,\n        agent_id: &str,\n        session_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_session",
          "kind": "function",
          "line": 681,
          "visibility": "private",
          "signature": "async fn delete_session(&self, agent_id: &str, session_id: &str)",
          "is_async": true
        },
        {
          "name": "list_sessions",
          "kind": "function",
          "line": 708,
          "visibility": "private",
          "signature": "async fn list_sessions(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "save_custom_tool",
          "kind": "function",
          "line": 730,
          "visibility": "private",
          "signature": "async fn save_custom_tool(&self, tool: &CustomToolRecord)",
          "is_async": true
        },
        {
          "name": "load_custom_tool",
          "kind": "function",
          "line": 751,
          "visibility": "private",
          "signature": "async fn load_custom_tool(&self, name: &str)",
          "is_async": true
        },
        {
          "name": "delete_custom_tool",
          "kind": "function",
          "line": 765,
          "visibility": "private",
          "signature": "async fn delete_custom_tool(&self, name: &str)",
          "is_async": true
        },
        {
          "name": "list_custom_tools",
          "kind": "function",
          "line": 786,
          "visibility": "private",
          "signature": "async fn list_custom_tools(&self)",
          "is_async": true
        },
        {
          "name": "append_message",
          "kind": "function",
          "line": 804,
          "visibility": "private",
          "signature": "async fn append_message(&self, agent_id: &str, message: &Message)",
          "is_async": true
        },
        {
          "name": "load_messages",
          "kind": "function",
          "line": 827,
          "visibility": "private",
          "signature": "async fn load_messages(\n        &self,\n        agent_id: &str,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "load_messages_since",
          "kind": "function",
          "line": 854,
          "visibility": "private",
          "signature": "async fn load_messages_since(\n        &self,\n        agent_id: &str,\n        since_ms: u64,\n    )",
          "is_async": true
        },
        {
          "name": "count_messages",
          "kind": "function",
          "line": 883,
          "visibility": "private",
          "signature": "async fn count_messages(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "delete_messages",
          "kind": "function",
          "line": 898,
          "visibility": "private",
          "signature": "async fn delete_messages(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "save_mcp_server",
          "kind": "function",
          "line": 923,
          "visibility": "private",
          "signature": "async fn save_mcp_server(&self, server: &MCPServer)",
          "is_async": true
        },
        {
          "name": "load_mcp_server",
          "kind": "function",
          "line": 944,
          "visibility": "private",
          "signature": "async fn load_mcp_server(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_mcp_server",
          "kind": "function",
          "line": 958,
          "visibility": "private",
          "signature": "async fn delete_mcp_server(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_mcp_servers",
          "kind": "function",
          "line": 979,
          "visibility": "private",
          "signature": "async fn list_mcp_servers(&self)",
          "is_async": true
        },
        {
          "name": "save_agent_group",
          "kind": "function",
          "line": 997,
          "visibility": "private",
          "signature": "async fn save_agent_group(&self, group: &AgentGroup)",
          "is_async": true
        },
        {
          "name": "load_agent_group",
          "kind": "function",
          "line": 1018,
          "visibility": "private",
          "signature": "async fn load_agent_group(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_agent_group",
          "kind": "function",
          "line": 1032,
          "visibility": "private",
          "signature": "async fn delete_agent_group(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_agent_groups",
          "kind": "function",
          "line": 1053,
          "visibility": "private",
          "signature": "async fn list_agent_groups(&self)",
          "is_async": true
        },
        {
          "name": "save_identity",
          "kind": "function",
          "line": 1071,
          "visibility": "private",
          "signature": "async fn save_identity(&self, identity: &Identity)",
          "is_async": true
        },
        {
          "name": "load_identity",
          "kind": "function",
          "line": 1092,
          "visibility": "private",
          "signature": "async fn load_identity(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_identity",
          "kind": "function",
          "line": 1106,
          "visibility": "private",
          "signature": "async fn delete_identity(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_identities",
          "kind": "function",
          "line": 1127,
          "visibility": "private",
          "signature": "async fn list_identities(&self)",
          "is_async": true
        },
        {
          "name": "save_project",
          "kind": "function",
          "line": 1145,
          "visibility": "private",
          "signature": "async fn save_project(&self, project: &Project)",
          "is_async": true
        },
        {
          "name": "load_project",
          "kind": "function",
          "line": 1166,
          "visibility": "private",
          "signature": "async fn load_project(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_project",
          "kind": "function",
          "line": 1180,
          "visibility": "private",
          "signature": "async fn delete_project(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_projects",
          "kind": "function",
          "line": 1201,
          "visibility": "private",
          "signature": "async fn list_projects(&self)",
          "is_async": true
        },
        {
          "name": "save_job",
          "kind": "function",
          "line": 1219,
          "visibility": "private",
          "signature": "async fn save_job(&self, job: &Job)",
          "is_async": true
        },
        {
          "name": "load_job",
          "kind": "function",
          "line": 1240,
          "visibility": "private",
          "signature": "async fn load_job(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_job",
          "kind": "function",
          "line": 1254,
          "visibility": "private",
          "signature": "async fn delete_job(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_jobs",
          "kind": "function",
          "line": 1275,
          "visibility": "private",
          "signature": "async fn list_jobs(&self)",
          "is_async": true
        },
        {
          "name": "save_archival_entry",
          "kind": "function",
          "line": 1293,
          "visibility": "private",
          "signature": "async fn save_archival_entry(\n        &self,\n        agent_id: &str,\n        entry: &ArchivalEntry,\n    )",
          "is_async": true
        },
        {
          "name": "load_archival_entries",
          "kind": "function",
          "line": 1322,
          "visibility": "private",
          "signature": "async fn load_archival_entries(\n        &self,\n        agent_id: &str,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "get_archival_entry",
          "kind": "function",
          "line": 1344,
          "visibility": "private",
          "signature": "async fn get_archival_entry(\n        &self,\n        agent_id: &str,\n        entry_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_archival_entry",
          "kind": "function",
          "line": 1365,
          "visibility": "private",
          "signature": "async fn delete_archival_entry(\n        &self,\n        agent_id: &str,\n        entry_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_archival_entries",
          "kind": "function",
          "line": 1395,
          "visibility": "private",
          "signature": "async fn delete_archival_entries(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "search_archival_entries",
          "kind": "function",
          "line": 1416,
          "visibility": "private",
          "signature": "async fn search_archival_entries(\n        &self,\n        agent_id: &str,\n        query: Option<&str>,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "checkpoint",
          "kind": "function",
          "line": 1467,
          "visibility": "private",
          "signature": "async fn checkpoint(\n        &self,\n        session: &SessionState,\n        message: Option<&Message>,\n    )",
          "doc": "Atomic checkpoint: save session state + append message\n\nTigerStyle: This overrides the default non-atomic implementation to ensure\nsession and message are saved together atomically. This matches FDB semantics\nwhere checkpoint operations are transactional.\n\nImplementation acquires both locks before making changes to ensure:\n- Either both session AND message are saved, or neither\n- No partial reads can see inconsistent state\n- Fault injection at any point causes complete rollback",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1539,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sim_storage_agent_crud",
          "kind": "function",
          "line": 1543,
          "visibility": "private",
          "signature": "async fn test_sim_storage_agent_crud()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_messages",
          "kind": "function",
          "line": 1581,
          "visibility": "private",
          "signature": "async fn test_sim_storage_messages()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_cascading_delete",
          "kind": "function",
          "line": 1632,
          "visibility": "private",
          "signature": "async fn test_sim_storage_cascading_delete()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_atomic_checkpoint",
          "kind": "function",
          "line": 1698,
          "visibility": "private",
          "signature": "async fn test_sim_storage_atomic_checkpoint()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_checkpoint_without_message",
          "kind": "function",
          "line": 1737,
          "visibility": "private",
          "signature": "async fn test_sim_storage_checkpoint_without_message()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_storage_checkpoint_updates_existing_session",
          "kind": "function",
          "line": 1759,
          "visibility": "private",
          "signature": "async fn test_sim_storage_checkpoint_updates_existing_session()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::collections::HashSet"
        },
        {
          "path": "std::sync::atomic::AtomicU64"
        },
        {
          "path": "std::sync::atomic::Ordering"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::sync::RwLock"
        },
        {
          "path": "crate::models::AgentGroup"
        },
        {
          "path": "crate::models::ArchivalEntry"
        },
        {
          "path": "crate::models::Block"
        },
        {
          "path": "crate::models::Identity"
        },
        {
          "path": "crate::models::Job"
        },
        {
          "path": "crate::models::MCPServer"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "crate::models::Project"
        },
        {
          "path": "super::traits::AgentStorage"
        },
        {
          "path": "super::traits::StorageError"
        },
        {
          "path": "super::types::AgentMetadata"
        },
        {
          "path": "super::types::CustomToolRecord"
        },
        {
          "path": "super::types::SessionState"
        },
        {
          "path": "kelpie_dst::fault::FaultInjector"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/storage/mod.rs",
      "symbols": [
        {
          "name": "adapter",
          "kind": "mod",
          "line": 21,
          "visibility": "private"
        },
        {
          "name": "fdb",
          "kind": "mod",
          "line": 22,
          "visibility": "private"
        },
        {
          "name": "sim",
          "kind": "mod",
          "line": 23,
          "visibility": "private"
        },
        {
          "name": "teleport",
          "kind": "mod",
          "line": 24,
          "visibility": "private"
        },
        {
          "name": "traits",
          "kind": "mod",
          "line": 25,
          "visibility": "private"
        },
        {
          "name": "types",
          "kind": "mod",
          "line": 26,
          "visibility": "private"
        }
      ],
      "imports": [
        {
          "path": "adapter::KvAdapter"
        },
        {
          "path": "fdb::FdbAgentRegistry"
        },
        {
          "path": "kelpie_core::teleport::Architecture"
        },
        {
          "path": "kelpie_core::teleport::SnapshotKind"
        },
        {
          "path": "kelpie_core::teleport::TeleportPackage"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorage"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorageError"
        },
        {
          "path": "kelpie_core::teleport::TeleportStorageResult"
        },
        {
          "path": "kelpie_core::teleport::TELEPORT_ID_LENGTH_BYTES_MAX"
        },
        {
          "path": "sim::SimStorage"
        },
        {
          "path": "teleport::LocalTeleportStorage"
        },
        {
          "path": "teleport::TELEPORT_PACKAGE_SIZE_BYTES_DEFAULT_MAX"
        },
        {
          "path": "traits::AgentStorage"
        },
        {
          "path": "traits::StorageError"
        },
        {
          "path": "types::AgentMetadata"
        },
        {
          "path": "types::CustomToolRecord"
        },
        {
          "path": "types::PendingToolCall"
        },
        {
          "path": "types::SessionState"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/storage/traits.rs",
      "symbols": [
        {
          "name": "StorageError",
          "kind": "enum",
          "line": 22,
          "visibility": "pub",
          "attributes": [
            "derive(Error, Debug, Clone)"
          ]
        },
        {
          "name": "StorageError",
          "kind": "impl",
          "line": 72,
          "visibility": "private"
        },
        {
          "name": "is_retriable",
          "kind": "function",
          "line": 74,
          "visibility": "pub",
          "signature": "fn is_retriable(&self)",
          "doc": "Check if this error is retriable"
        },
        {
          "name": "is_not_found",
          "kind": "function",
          "line": 94,
          "visibility": "pub",
          "signature": "fn is_not_found(&self)",
          "doc": "Check if this error indicates data not found"
        },
        {
          "name": "From<StorageError> for kelpie_core::Error",
          "kind": "impl",
          "line": 100,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 101,
          "visibility": "private",
          "signature": "fn from(err: StorageError)"
        },
        {
          "name": "AgentStorage",
          "kind": "trait",
          "line": 154,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 434,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_storage_error_retriable",
          "kind": "function",
          "line": 438,
          "visibility": "private",
          "signature": "fn test_storage_error_retriable()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "thiserror::Error"
        },
        {
          "path": "crate::models::ArchivalEntry"
        },
        {
          "path": "crate::models::Block"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "super::types::AgentMetadata"
        },
        {
          "path": "super::types::CustomToolRecord"
        },
        {
          "path": "super::types::SessionState"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/storage/fdb.rs",
      "symbols": [
        {
          "name": "REGISTRY_NAMESPACE",
          "kind": "const",
          "line": 34,
          "visibility": "private",
          "signature": "const REGISTRY_NAMESPACE: &str",
          "doc": "Registry actor ID for global agent metadata"
        },
        {
          "name": "REGISTRY_ID",
          "kind": "const",
          "line": 35,
          "visibility": "private",
          "signature": "const REGISTRY_ID: &str"
        },
        {
          "name": "TOOL_REGISTRY_ID",
          "kind": "const",
          "line": 36,
          "visibility": "private",
          "signature": "const TOOL_REGISTRY_ID: &str"
        },
        {
          "name": "MCP_REGISTRY_ID",
          "kind": "const",
          "line": 37,
          "visibility": "private",
          "signature": "const MCP_REGISTRY_ID: &str"
        },
        {
          "name": "GROUP_REGISTRY_ID",
          "kind": "const",
          "line": 38,
          "visibility": "private",
          "signature": "const GROUP_REGISTRY_ID: &str"
        },
        {
          "name": "IDENTITY_REGISTRY_ID",
          "kind": "const",
          "line": 39,
          "visibility": "private",
          "signature": "const IDENTITY_REGISTRY_ID: &str"
        },
        {
          "name": "PROJECT_REGISTRY_ID",
          "kind": "const",
          "line": 40,
          "visibility": "private",
          "signature": "const PROJECT_REGISTRY_ID: &str"
        },
        {
          "name": "JOB_REGISTRY_ID",
          "kind": "const",
          "line": 41,
          "visibility": "private",
          "signature": "const JOB_REGISTRY_ID: &str"
        },
        {
          "name": "KEY_PREFIX_BLOCKS",
          "kind": "const",
          "line": 44,
          "visibility": "private",
          "signature": "const KEY_PREFIX_BLOCKS: &[u8]",
          "doc": "Key prefixes for per-agent data"
        },
        {
          "name": "KEY_PREFIX_SESSION",
          "kind": "const",
          "line": 45,
          "visibility": "private",
          "signature": "const KEY_PREFIX_SESSION: &[u8]"
        },
        {
          "name": "KEY_PREFIX_MESSAGE",
          "kind": "const",
          "line": 46,
          "visibility": "private",
          "signature": "const KEY_PREFIX_MESSAGE: &[u8]"
        },
        {
          "name": "KEY_PREFIX_MESSAGE_COUNT",
          "kind": "const",
          "line": 47,
          "visibility": "private",
          "signature": "const KEY_PREFIX_MESSAGE_COUNT: &[u8]"
        },
        {
          "name": "KEY_PREFIX_TOOL",
          "kind": "const",
          "line": 48,
          "visibility": "private",
          "signature": "const KEY_PREFIX_TOOL: &[u8]"
        },
        {
          "name": "KEY_PREFIX_MCP",
          "kind": "const",
          "line": 49,
          "visibility": "private",
          "signature": "const KEY_PREFIX_MCP: &[u8]"
        },
        {
          "name": "KEY_PREFIX_GROUP",
          "kind": "const",
          "line": 50,
          "visibility": "private",
          "signature": "const KEY_PREFIX_GROUP: &[u8]"
        },
        {
          "name": "KEY_PREFIX_IDENTITY",
          "kind": "const",
          "line": 51,
          "visibility": "private",
          "signature": "const KEY_PREFIX_IDENTITY: &[u8]"
        },
        {
          "name": "KEY_PREFIX_PROJECT",
          "kind": "const",
          "line": 52,
          "visibility": "private",
          "signature": "const KEY_PREFIX_PROJECT: &[u8]"
        },
        {
          "name": "KEY_PREFIX_JOB",
          "kind": "const",
          "line": 53,
          "visibility": "private",
          "signature": "const KEY_PREFIX_JOB: &[u8]"
        },
        {
          "name": "KEY_PREFIX_ARCHIVAL",
          "kind": "const",
          "line": 54,
          "visibility": "private",
          "signature": "const KEY_PREFIX_ARCHIVAL: &[u8]"
        },
        {
          "name": "FdbAgentRegistry",
          "kind": "struct",
          "line": 65,
          "visibility": "pub",
          "doc": "FDB-backed agent registry using FdbKV\n\nUses FdbKV under the hood:\n- Registry: Special actor (\"system/agent_registry\") stores agent metadata\n- Per-agent: Regular actors (\"agents/{id}\") store blocks/sessions/messages"
        },
        {
          "name": "FdbAgentRegistry",
          "kind": "impl",
          "line": 70,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "fn new(fdb: Arc<FdbKV>)",
          "doc": "Create new FDB agent registry\n\n# Arguments\n* `fdb` - Shared FdbKV instance"
        },
        {
          "name": "registry_actor_id",
          "kind": "function",
          "line": 80,
          "visibility": "private",
          "signature": "fn registry_actor_id()",
          "doc": "Get registry actor ID (for storing agent metadata)"
        },
        {
          "name": "tool_registry_actor_id",
          "kind": "function",
          "line": 85,
          "visibility": "private",
          "signature": "fn tool_registry_actor_id()",
          "doc": "Get registry actor ID for tools"
        },
        {
          "name": "mcp_registry_actor_id",
          "kind": "function",
          "line": 90,
          "visibility": "private",
          "signature": "fn mcp_registry_actor_id()",
          "doc": "Get registry actor ID for MCP servers"
        },
        {
          "name": "group_registry_actor_id",
          "kind": "function",
          "line": 95,
          "visibility": "private",
          "signature": "fn group_registry_actor_id()",
          "doc": "Get registry actor ID for agent groups"
        },
        {
          "name": "identity_registry_actor_id",
          "kind": "function",
          "line": 100,
          "visibility": "private",
          "signature": "fn identity_registry_actor_id()",
          "doc": "Get registry actor ID for identities"
        },
        {
          "name": "project_registry_actor_id",
          "kind": "function",
          "line": 105,
          "visibility": "private",
          "signature": "fn project_registry_actor_id()",
          "doc": "Get registry actor ID for projects"
        },
        {
          "name": "job_registry_actor_id",
          "kind": "function",
          "line": 110,
          "visibility": "private",
          "signature": "fn job_registry_actor_id()",
          "doc": "Get registry actor ID for jobs"
        },
        {
          "name": "agent_actor_id",
          "kind": "function",
          "line": 115,
          "visibility": "private",
          "signature": "fn agent_actor_id(agent_id: &str)",
          "doc": "Get actor ID for an agent"
        },
        {
          "name": "serialize_metadata",
          "kind": "function",
          "line": 120,
          "visibility": "private",
          "signature": "fn serialize_metadata(agent: &AgentMetadata)",
          "doc": "Serialize metadata to bytes"
        },
        {
          "name": "deserialize_metadata",
          "kind": "function",
          "line": 129,
          "visibility": "private",
          "signature": "fn deserialize_metadata(bytes: &Bytes)",
          "doc": "Deserialize metadata from bytes"
        },
        {
          "name": "serialize_blocks",
          "kind": "function",
          "line": 136,
          "visibility": "private",
          "signature": "fn serialize_blocks(blocks: &[Block])",
          "doc": "Serialize blocks to bytes"
        },
        {
          "name": "deserialize_blocks",
          "kind": "function",
          "line": 145,
          "visibility": "private",
          "signature": "fn deserialize_blocks(bytes: &Bytes)",
          "doc": "Deserialize blocks from bytes"
        },
        {
          "name": "serialize_session",
          "kind": "function",
          "line": 152,
          "visibility": "private",
          "signature": "fn serialize_session(session: &SessionState)",
          "doc": "Serialize session to bytes"
        },
        {
          "name": "deserialize_session",
          "kind": "function",
          "line": 161,
          "visibility": "private",
          "signature": "fn deserialize_session(bytes: &Bytes)",
          "doc": "Deserialize session from bytes"
        },
        {
          "name": "serialize_message",
          "kind": "function",
          "line": 168,
          "visibility": "private",
          "signature": "fn serialize_message(message: &Message)",
          "doc": "Serialize message to bytes"
        },
        {
          "name": "deserialize_message",
          "kind": "function",
          "line": 177,
          "visibility": "private",
          "signature": "fn deserialize_message(bytes: &Bytes)",
          "doc": "Deserialize message from bytes"
        },
        {
          "name": "serialize_custom_tool",
          "kind": "function",
          "line": 184,
          "visibility": "private",
          "signature": "fn serialize_custom_tool(tool: &CustomToolRecord)",
          "doc": "Serialize custom tool to bytes"
        },
        {
          "name": "deserialize_custom_tool",
          "kind": "function",
          "line": 193,
          "visibility": "private",
          "signature": "fn deserialize_custom_tool(bytes: &Bytes)",
          "doc": "Deserialize custom tool from bytes"
        },
        {
          "name": "serialize_mcp_server",
          "kind": "function",
          "line": 200,
          "visibility": "private",
          "signature": "fn serialize_mcp_server(server: &crate::models::MCPServer)",
          "doc": "Serialize MCP server to bytes"
        },
        {
          "name": "deserialize_mcp_server",
          "kind": "function",
          "line": 209,
          "visibility": "private",
          "signature": "fn deserialize_mcp_server(bytes: &Bytes)",
          "doc": "Deserialize MCP server from bytes"
        },
        {
          "name": "serialize_agent_group",
          "kind": "function",
          "line": 216,
          "visibility": "private",
          "signature": "fn serialize_agent_group(group: &crate::models::AgentGroup)",
          "doc": "Serialize agent group to bytes"
        },
        {
          "name": "deserialize_agent_group",
          "kind": "function",
          "line": 225,
          "visibility": "private",
          "signature": "fn deserialize_agent_group(bytes: &Bytes)",
          "doc": "Deserialize agent group from bytes"
        },
        {
          "name": "serialize_identity",
          "kind": "function",
          "line": 232,
          "visibility": "private",
          "signature": "fn serialize_identity(identity: &crate::models::Identity)",
          "doc": "Serialize identity to bytes"
        },
        {
          "name": "deserialize_identity",
          "kind": "function",
          "line": 241,
          "visibility": "private",
          "signature": "fn deserialize_identity(bytes: &Bytes)",
          "doc": "Deserialize identity from bytes"
        },
        {
          "name": "serialize_project",
          "kind": "function",
          "line": 248,
          "visibility": "private",
          "signature": "fn serialize_project(project: &crate::models::Project)",
          "doc": "Serialize project to bytes"
        },
        {
          "name": "deserialize_project",
          "kind": "function",
          "line": 257,
          "visibility": "private",
          "signature": "fn deserialize_project(bytes: &Bytes)",
          "doc": "Deserialize project from bytes"
        },
        {
          "name": "serialize_job",
          "kind": "function",
          "line": 264,
          "visibility": "private",
          "signature": "fn serialize_job(job: &crate::models::Job)",
          "doc": "Serialize job to bytes"
        },
        {
          "name": "deserialize_job",
          "kind": "function",
          "line": 273,
          "visibility": "private",
          "signature": "fn deserialize_job(bytes: &Bytes)",
          "doc": "Deserialize job from bytes"
        },
        {
          "name": "serialize_archival_entry",
          "kind": "function",
          "line": 280,
          "visibility": "private",
          "signature": "fn serialize_archival_entry(entry: &ArchivalEntry)",
          "doc": "Serialize archival entry to bytes"
        },
        {
          "name": "deserialize_archival_entry",
          "kind": "function",
          "line": 289,
          "visibility": "private",
          "signature": "fn deserialize_archival_entry(bytes: &Bytes)",
          "doc": "Deserialize archival entry from bytes"
        },
        {
          "name": "map_core_error",
          "kind": "function",
          "line": 296,
          "visibility": "private",
          "signature": "fn map_core_error(err: kelpie_core::Error)",
          "doc": "Convert kelpie_core::Error to StorageError"
        },
        {
          "name": "AgentStorage for FdbAgentRegistry",
          "kind": "impl",
          "line": 304,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "save_agent",
          "kind": "function",
          "line": 309,
          "visibility": "private",
          "signature": "async fn save_agent(&self, agent: &AgentMetadata)",
          "is_async": true
        },
        {
          "name": "load_agent",
          "kind": "function",
          "line": 326,
          "visibility": "private",
          "signature": "async fn load_agent(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 343,
          "visibility": "private",
          "signature": "async fn delete_agent(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_agents",
          "kind": "function",
          "line": 428,
          "visibility": "private",
          "signature": "async fn list_agents(&self)",
          "is_async": true
        },
        {
          "name": "save_blocks",
          "kind": "function",
          "line": 461,
          "visibility": "private",
          "signature": "async fn save_blocks(&self, agent_id: &str, blocks: &[Block])",
          "is_async": true
        },
        {
          "name": "load_blocks",
          "kind": "function",
          "line": 476,
          "visibility": "private",
          "signature": "async fn load_blocks(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 489,
          "visibility": "private",
          "signature": "async fn update_block(\n        &self,\n        agent_id: &str,\n        label: &str,\n        value: &str,\n    )",
          "is_async": true
        },
        {
          "name": "append_block",
          "kind": "function",
          "line": 548,
          "visibility": "private",
          "signature": "async fn append_block(\n        &self,\n        agent_id: &str,\n        label: &str,\n        content: &str,\n    )",
          "is_async": true
        },
        {
          "name": "save_session",
          "kind": "function",
          "line": 611,
          "visibility": "private",
          "signature": "async fn save_session(&self, state: &SessionState)",
          "is_async": true
        },
        {
          "name": "load_session",
          "kind": "function",
          "line": 632,
          "visibility": "private",
          "signature": "async fn load_session(\n        &self,\n        agent_id: &str,\n        session_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_session",
          "kind": "function",
          "line": 658,
          "visibility": "private",
          "signature": "async fn delete_session(&self, agent_id: &str, session_id: &str)",
          "is_async": true
        },
        {
          "name": "list_sessions",
          "kind": "function",
          "line": 678,
          "visibility": "private",
          "signature": "async fn list_sessions(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "append_message",
          "kind": "function",
          "line": 704,
          "visibility": "private",
          "signature": "async fn append_message(&self, agent_id: &str, message: &Message)",
          "is_async": true
        },
        {
          "name": "load_messages",
          "kind": "function",
          "line": 757,
          "visibility": "private",
          "signature": "async fn load_messages(\n        &self,\n        agent_id: &str,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "load_messages_since",
          "kind": "function",
          "line": 807,
          "visibility": "private",
          "signature": "async fn load_messages_since(\n        &self,\n        agent_id: &str,\n        since_ms: u64,\n    )",
          "is_async": true
        },
        {
          "name": "count_messages",
          "kind": "function",
          "line": 836,
          "visibility": "private",
          "signature": "async fn count_messages(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "delete_messages",
          "kind": "function",
          "line": 861,
          "visibility": "private",
          "signature": "async fn delete_messages(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "save_custom_tool",
          "kind": "function",
          "line": 892,
          "visibility": "private",
          "signature": "async fn save_custom_tool(&self, tool: &CustomToolRecord)",
          "is_async": true
        },
        {
          "name": "load_custom_tool",
          "kind": "function",
          "line": 907,
          "visibility": "private",
          "signature": "async fn load_custom_tool(&self, name: &str)",
          "is_async": true
        },
        {
          "name": "delete_custom_tool",
          "kind": "function",
          "line": 923,
          "visibility": "private",
          "signature": "async fn delete_custom_tool(&self, name: &str)",
          "is_async": true
        },
        {
          "name": "list_custom_tools",
          "kind": "function",
          "line": 937,
          "visibility": "private",
          "signature": "async fn list_custom_tools(&self)",
          "is_async": true
        },
        {
          "name": "checkpoint",
          "kind": "function",
          "line": 961,
          "visibility": "private",
          "signature": "async fn checkpoint(\n        &self,\n        session: &SessionState,\n        message: Option<&Message>,\n    )",
          "is_async": true
        },
        {
          "name": "save_mcp_server",
          "kind": "function",
          "line": 1035,
          "visibility": "private",
          "signature": "async fn save_mcp_server(&self, server: &crate::models::MCPServer)",
          "is_async": true
        },
        {
          "name": "load_mcp_server",
          "kind": "function",
          "line": 1050,
          "visibility": "private",
          "signature": "async fn load_mcp_server(\n        &self,\n        id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_mcp_server",
          "kind": "function",
          "line": 1069,
          "visibility": "private",
          "signature": "async fn delete_mcp_server(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_mcp_servers",
          "kind": "function",
          "line": 1083,
          "visibility": "private",
          "signature": "async fn list_mcp_servers(&self)",
          "is_async": true
        },
        {
          "name": "save_agent_group",
          "kind": "function",
          "line": 1107,
          "visibility": "private",
          "signature": "async fn save_agent_group(\n        &self,\n        group: &crate::models::AgentGroup,\n    )",
          "is_async": true
        },
        {
          "name": "load_agent_group",
          "kind": "function",
          "line": 1125,
          "visibility": "private",
          "signature": "async fn load_agent_group(\n        &self,\n        id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_agent_group",
          "kind": "function",
          "line": 1144,
          "visibility": "private",
          "signature": "async fn delete_agent_group(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_agent_groups",
          "kind": "function",
          "line": 1158,
          "visibility": "private",
          "signature": "async fn list_agent_groups(&self)",
          "is_async": true
        },
        {
          "name": "save_identity",
          "kind": "function",
          "line": 1182,
          "visibility": "private",
          "signature": "async fn save_identity(&self, identity: &crate::models::Identity)",
          "is_async": true
        },
        {
          "name": "load_identity",
          "kind": "function",
          "line": 1197,
          "visibility": "private",
          "signature": "async fn load_identity(\n        &self,\n        id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_identity",
          "kind": "function",
          "line": 1216,
          "visibility": "private",
          "signature": "async fn delete_identity(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_identities",
          "kind": "function",
          "line": 1230,
          "visibility": "private",
          "signature": "async fn list_identities(&self)",
          "is_async": true
        },
        {
          "name": "save_project",
          "kind": "function",
          "line": 1254,
          "visibility": "private",
          "signature": "async fn save_project(&self, project: &crate::models::Project)",
          "is_async": true
        },
        {
          "name": "load_project",
          "kind": "function",
          "line": 1269,
          "visibility": "private",
          "signature": "async fn load_project(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_project",
          "kind": "function",
          "line": 1285,
          "visibility": "private",
          "signature": "async fn delete_project(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_projects",
          "kind": "function",
          "line": 1299,
          "visibility": "private",
          "signature": "async fn list_projects(&self)",
          "is_async": true
        },
        {
          "name": "save_job",
          "kind": "function",
          "line": 1323,
          "visibility": "private",
          "signature": "async fn save_job(&self, job: &crate::models::Job)",
          "is_async": true
        },
        {
          "name": "load_job",
          "kind": "function",
          "line": 1338,
          "visibility": "private",
          "signature": "async fn load_job(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "delete_job",
          "kind": "function",
          "line": 1354,
          "visibility": "private",
          "signature": "async fn delete_job(&self, id: &str)",
          "is_async": true
        },
        {
          "name": "list_jobs",
          "kind": "function",
          "line": 1368,
          "visibility": "private",
          "signature": "async fn list_jobs(&self)",
          "is_async": true
        },
        {
          "name": "save_archival_entry",
          "kind": "function",
          "line": 1392,
          "visibility": "private",
          "signature": "async fn save_archival_entry(\n        &self,\n        agent_id: &str,\n        entry: &ArchivalEntry,\n    )",
          "is_async": true
        },
        {
          "name": "load_archival_entries",
          "kind": "function",
          "line": 1417,
          "visibility": "private",
          "signature": "async fn load_archival_entries(\n        &self,\n        agent_id: &str,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "get_archival_entry",
          "kind": "function",
          "line": 1450,
          "visibility": "private",
          "signature": "async fn get_archival_entry(\n        &self,\n        agent_id: &str,\n        entry_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_archival_entry",
          "kind": "function",
          "line": 1476,
          "visibility": "private",
          "signature": "async fn delete_archival_entry(\n        &self,\n        agent_id: &str,\n        entry_id: &str,\n    )",
          "is_async": true
        },
        {
          "name": "delete_archival_entries",
          "kind": "function",
          "line": 1500,
          "visibility": "private",
          "signature": "async fn delete_archival_entries(&self, agent_id: &str)",
          "is_async": true
        },
        {
          "name": "search_archival_entries",
          "kind": "function",
          "line": 1523,
          "visibility": "private",
          "signature": "async fn search_archival_entries(\n        &self,\n        agent_id: &str,\n        query: Option<&str>,\n        limit: usize,\n    )",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1568,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_registry_actor_id",
          "kind": "function",
          "line": 1573,
          "visibility": "private",
          "signature": "fn test_registry_actor_id()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_agent_actor_id",
          "kind": "function",
          "line": 1580,
          "visibility": "private",
          "signature": "fn test_agent_actor_id()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_metadata_serialization",
          "kind": "function",
          "line": 1587,
          "visibility": "private",
          "signature": "fn test_metadata_serialization()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::ActorId"
        },
        {
          "path": "kelpie_core::Result",
          "alias": "CoreResult"
        },
        {
          "path": "kelpie_storage::ActorKV"
        },
        {
          "path": "kelpie_storage::FdbKV"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "crate::models::ArchivalEntry"
        },
        {
          "path": "crate::models::Block"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "super::traits::AgentStorage"
        },
        {
          "path": "super::traits::StorageError"
        },
        {
          "path": "super::types::AgentMetadata"
        },
        {
          "path": "super::types::CustomToolRecord"
        },
        {
          "path": "super::types::SessionState"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::models::AgentType"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/agents.rs",
      "symbols": [
        {
          "name": "ListAgentsQuery",
          "kind": "struct",
          "line": 19,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "default_limit",
          "kind": "function",
          "line": 34,
          "visibility": "private",
          "signature": "fn default_limit()"
        },
        {
          "name": "LIST_LIMIT_MAX",
          "kind": "const",
          "line": 39,
          "visibility": "private",
          "signature": "const LIST_LIMIT_MAX: usize",
          "doc": "Maximum limit for list operations"
        },
        {
          "name": "BatchCreateAgentsRequest",
          "kind": "struct",
          "line": 46,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "BatchAgentsResponse",
          "kind": "struct",
          "line": 51,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "BatchAgentResult",
          "kind": "struct",
          "line": 56,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "BatchDeleteAgentsRequest",
          "kind": "struct",
          "line": 67,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "BatchDeleteAgentsResponse",
          "kind": "struct",
          "line": 72,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "BatchDeleteAgentResult",
          "kind": "struct",
          "line": 77,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "router",
          "kind": "function",
          "line": 85,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create agent routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "create_agent",
          "kind": "function",
          "line": 158,
          "visibility": "private",
          "signature": "async fn create_agent<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<CreateAgentRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_name = %request.name), level = \"info\")"
          ]
        },
        {
          "name": "GetAgentQuery",
          "kind": "struct",
          "line": 232,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize, Default)"
          ]
        },
        {
          "name": "get_agent",
          "kind": "function",
          "line": 243,
          "visibility": "private",
          "signature": "async fn get_agent<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Query(query): Query<GetAgentQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "AgentStateWithTools",
          "kind": "struct",
          "line": 274,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "list_agent_tools",
          "kind": "function",
          "line": 285,
          "visibility": "private",
          "signature": "async fn list_agent_tools<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "attach_tool",
          "kind": "function",
          "line": 310,
          "visibility": "private",
          "signature": "async fn attach_tool<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, tool_id)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, tool_id = %tool_id), level = \"info\")"
          ]
        },
        {
          "name": "detach_tool",
          "kind": "function",
          "line": 347,
          "visibility": "private",
          "signature": "async fn detach_tool<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, tool_id)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, tool_id = %tool_id), level = \"info\")"
          ]
        },
        {
          "name": "list_agents",
          "kind": "function",
          "line": 379,
          "visibility": "private",
          "signature": "async fn list_agents<R>(\n    State(state): State<AppState<R>>,\n    Query(query): Query<ListAgentsQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(limit = query.limit, cursor = ?query.cursor, after = ?query.after), level = \"info\")"
          ]
        },
        {
          "name": "create_agents_batch",
          "kind": "function",
          "line": 442,
          "visibility": "private",
          "signature": "async fn create_agents_batch<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<BatchCreateAgentsRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), level = \"info\")"
          ]
        },
        {
          "name": "delete_agents_batch",
          "kind": "function",
          "line": 473,
          "visibility": "private",
          "signature": "async fn delete_agents_batch<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<BatchDeleteAgentsRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), level = \"info\")"
          ]
        },
        {
          "name": "update_agent",
          "kind": "function",
          "line": 504,
          "visibility": "private",
          "signature": "async fn update_agent<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Json(request): Json<UpdateAgentRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 534,
          "visibility": "private",
          "signature": "async fn delete_agent<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 544,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 560,
          "visibility": "private",
          "doc": "Mock LLM client for testing that returns simple responses"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 563,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 596,
          "visibility": "private",
          "signature": "async fn test_app()",
          "doc": "Create a test AppState with AgentService for API testing",
          "is_async": true
        },
        {
          "name": "test_create_agent",
          "kind": "function",
          "line": 629,
          "visibility": "private",
          "signature": "async fn test_create_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_create_agent_empty_name",
          "kind": "function",
          "line": 663,
          "visibility": "private",
          "signature": "async fn test_create_agent_empty_name()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_agent_not_found",
          "kind": "function",
          "line": 686,
          "visibility": "private",
          "signature": "async fn test_get_agent_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_health_check",
          "kind": "function",
          "line": 704,
          "visibility": "private",
          "signature": "async fn test_health_check()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_agent_roundtrip_all_fields",
          "kind": "function",
          "line": 732,
          "visibility": "private",
          "signature": "async fn test_agent_roundtrip_all_fields()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_agent_update_persists",
          "kind": "function",
          "line": 823,
          "visibility": "private",
          "signature": "async fn test_agent_update_persists()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_agent_delete_removes_from_storage",
          "kind": "function",
          "line": 901,
          "visibility": "private",
          "signature": "async fn test_agent_delete_removes_from_storage()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "axum::routing::get"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::AgentState"
        },
        {
          "path": "kelpie_server::models::CreateAgentRequest"
        },
        {
          "path": "kelpie_server::models::ListResponse"
        },
        {
          "path": "kelpie_server::models::UpdateAgentRequest"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_server::actor::AgentActor"
        },
        {
          "path": "kelpie_server::actor::AgentActorState"
        },
        {
          "path": "kelpie_server::actor::LlmClient"
        },
        {
          "path": "kelpie_server::actor::LlmMessage"
        },
        {
          "path": "kelpie_server::actor::LlmResponse"
        },
        {
          "path": "kelpie_server::service"
        },
        {
          "path": "kelpie_server::tools::UnifiedToolRegistry"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/mcp_servers.rs",
      "symbols": [
        {
          "name": "CreateMCPServerRequest",
          "kind": "struct",
          "line": 24,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "UpdateMCPServerRequest",
          "kind": "struct",
          "line": 31,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "MCPServerResponse",
          "kind": "struct",
          "line": 40,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "From<MCPServer> for MCPServerResponse",
          "kind": "impl",
          "line": 49,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 50,
          "visibility": "private",
          "signature": "fn from(server: MCPServer)"
        },
        {
          "name": "router",
          "kind": "function",
          "line": 62,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create router for MCP servers endpoints",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "list_servers",
          "kind": "function",
          "line": 81,
          "visibility": "private",
          "signature": "async fn list_servers<R>(\n    State(state): State<AppState<R>>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), level = \"info\")"
          ]
        },
        {
          "name": "create_server",
          "kind": "function",
          "line": 94,
          "visibility": "private",
          "signature": "async fn create_server<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<CreateMCPServerRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), level = \"info\")"
          ]
        },
        {
          "name": "get_server",
          "kind": "function",
          "line": 194,
          "visibility": "private",
          "signature": "async fn get_server<R>(\n    State(state): State<AppState<R>>,\n    Path(server_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(server_id = %server_id), level = \"info\")"
          ]
        },
        {
          "name": "update_server",
          "kind": "function",
          "line": 210,
          "visibility": "private",
          "signature": "async fn update_server<R>(\n    State(state): State<AppState<R>>,\n    Path(server_id): Path<String>,\n    Json(request): Json<UpdateMCPServerRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(server_id = %server_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_server",
          "kind": "function",
          "line": 232,
          "visibility": "private",
          "signature": "async fn delete_server<R>(\n    State(state): State<AppState<R>>,\n    Path(server_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(server_id = %server_id), level = \"info\")"
          ]
        },
        {
          "name": "list_server_tools",
          "kind": "function",
          "line": 278,
          "visibility": "private",
          "signature": "async fn list_server_tools<R>(\n    State(state): State<AppState<R>>,\n    Path(server_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(server_id = %server_id), level = \"info\")"
          ]
        },
        {
          "name": "get_server_tool",
          "kind": "function",
          "line": 308,
          "visibility": "private",
          "signature": "async fn get_server_tool<R>(\n    State(state): State<AppState<R>>,\n    Path((server_id, tool_id)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(server_id = %server_id, tool_id = %tool_id), level = \"info\")"
          ]
        },
        {
          "name": "RunToolRequest",
          "kind": "struct",
          "line": 341,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "default_arguments",
          "kind": "function",
          "line": 346,
          "visibility": "private",
          "signature": "fn default_arguments()"
        },
        {
          "name": "run_server_tool",
          "kind": "function",
          "line": 354,
          "visibility": "private",
          "signature": "async fn run_server_tool<R>(\n    State(state): State<AppState<R>>,\n    Path((server_id, tool_id)): Path<(String, String)>,\n    Json(request): Json<RunToolRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(server_id = %server_id, tool_id = %tool_id), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 382,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 391,
          "visibility": "private",
          "signature": "async fn test_app()",
          "is_async": true
        },
        {
          "name": "test_list_mcp_servers_empty",
          "kind": "function",
          "line": 397,
          "visibility": "private",
          "signature": "async fn test_list_mcp_servers_empty()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_create_stdio_mcp_server",
          "kind": "function",
          "line": 415,
          "visibility": "private",
          "signature": "async fn test_create_stdio_mcp_server()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "super::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "routing::get"
        },
        {
          "path": "routing::post"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::MCPServer"
        },
        {
          "path": "kelpie_server::models::MCPServerConfig"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::super::router",
          "alias": "api_router"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/identities.rs",
      "symbols": [
        {
          "name": "ListIdentitiesQuery",
          "kind": "struct",
          "line": 19,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ListIdentitiesResponse",
          "kind": "struct",
          "line": 30,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "router",
          "kind": "function",
          "line": 37,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create identity routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "create_identity",
          "kind": "function",
          "line": 50,
          "visibility": "pub",
          "signature": "async fn create_identity<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<CreateIdentityRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), level = \"info\")"
          ]
        },
        {
          "name": "list_identities",
          "kind": "function",
          "line": 79,
          "visibility": "pub",
          "signature": "async fn list_identities<R>(\n    State(state): State<AppState<R>>,\n    Query(query): Query<ListIdentitiesQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), level = \"info\")"
          ]
        },
        {
          "name": "get_identity",
          "kind": "function",
          "line": 122,
          "visibility": "pub",
          "signature": "async fn get_identity<R>(\n    State(state): State<AppState<R>>,\n    Path(identity_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(identity_id = %identity_id), level = \"info\")"
          ]
        },
        {
          "name": "update_identity",
          "kind": "function",
          "line": 134,
          "visibility": "pub",
          "signature": "async fn update_identity<R>(\n    State(state): State<AppState<R>>,\n    Path(identity_id): Path<String>,\n    Json(request): Json<UpdateIdentityRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(identity_id = %identity_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_identity",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "async fn delete_identity<R>(\n    State(state): State<AppState<R>>,\n    Path(identity_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(identity_id = %identity_id), level = \"info\")"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "axum::routing::get"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::CreateIdentityRequest"
        },
        {
          "path": "kelpie_server::models::Identity"
        },
        {
          "path": "kelpie_server::models::UpdateIdentityRequest"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "tracing::instrument"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/groups.rs",
      "symbols": [
        {
          "name": "router",
          "kind": "function",
          "line": 13,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create router for groups endpoints (Letta compatibility)",
          "generic_params": [
            "R"
          ]
        }
      ],
      "imports": [
        {
          "path": "super::agent_groups::*",
          "is_glob": true
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::state::AppState"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/tools.rs",
      "symbols": [
        {
          "name": "ListToolsQuery",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize, Default)"
          ]
        },
        {
          "name": "ToolResponse",
          "kind": "struct",
          "line": 31,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_tool_type",
          "kind": "function",
          "line": 62,
          "visibility": "private",
          "signature": "fn default_tool_type()"
        },
        {
          "name": "From<ToolInfo> for ToolResponse",
          "kind": "impl",
          "line": 66,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 67,
          "visibility": "private",
          "signature": "fn from(info: ToolInfo)"
        },
        {
          "name": "ToolListResponse",
          "kind": "struct",
          "line": 84,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "RegisterToolRequest",
          "kind": "struct",
          "line": 91,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "UpsertToolRequest",
          "kind": "struct",
          "line": 130,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ExecuteToolRequest",
          "kind": "struct",
          "line": 170,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ExecuteToolResponse",
          "kind": "struct",
          "line": 176,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "router",
          "kind": "function",
          "line": 184,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create the tools router",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "list_tools",
          "kind": "function",
          "line": 203,
          "visibility": "private",
          "signature": "async fn list_tools<R>(\n    State(state): State<AppState<R>>,\n    Query(query): Query<ListToolsQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), level = \"info\")"
          ]
        },
        {
          "name": "extract_function_name",
          "kind": "function",
          "line": 274,
          "visibility": "private",
          "signature": "fn extract_function_name(source: &str)",
          "doc": "Extract function name from Python source code"
        },
        {
          "name": "upsert_tool",
          "kind": "function",
          "line": 299,
          "visibility": "private",
          "signature": "async fn upsert_tool<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<UpsertToolRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), level = \"info\")"
          ]
        },
        {
          "name": "update_tool",
          "kind": "function",
          "line": 432,
          "visibility": "private",
          "signature": "async fn update_tool<R>(\n    State(state): State<AppState<R>>,\n    Path(name_or_id): Path<String>,\n    Json(request): Json<UpsertToolRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(name_or_id = %name_or_id), level = \"info\")"
          ]
        },
        {
          "name": "register_tool",
          "kind": "function",
          "line": 488,
          "visibility": "private",
          "signature": "async fn register_tool<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<RegisterToolRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), level = \"info\")"
          ]
        },
        {
          "name": "get_tool",
          "kind": "function",
          "line": 597,
          "visibility": "private",
          "signature": "async fn get_tool<R>(\n    State(state): State<AppState<R>>,\n    Path(name_or_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(name_or_id = %name_or_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_tool",
          "kind": "function",
          "line": 619,
          "visibility": "private",
          "signature": "async fn delete_tool<R>(\n    State(state): State<AppState<R>>,\n    Path(name_or_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(name_or_id = %name_or_id), level = \"info\")"
          ]
        },
        {
          "name": "execute_tool",
          "kind": "function",
          "line": 645,
          "visibility": "private",
          "signature": "async fn execute_tool<R>(\n    State(state): State<AppState<R>>,\n    Path(name): Path<String>,\n    Json(request): Json<ExecuteToolRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(name = %name), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 667,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 676,
          "visibility": "private",
          "signature": "async fn test_app()",
          "is_async": true
        },
        {
          "name": "test_list_tools",
          "kind": "function",
          "line": 682,
          "visibility": "private",
          "signature": "async fn test_list_tools()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_register_tool",
          "kind": "function",
          "line": 700,
          "visibility": "private",
          "signature": "async fn test_register_tool()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "routing::get"
        },
        {
          "path": "routing::post"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "kelpie_server::state::ToolInfo"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "crate::api"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/import_export.rs",
      "symbols": [
        {
          "name": "ExportQuery",
          "kind": "struct",
          "line": 26,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "EXPORT_MESSAGES_MAX",
          "kind": "const",
          "line": 33,
          "visibility": "private",
          "signature": "const EXPORT_MESSAGES_MAX: usize",
          "doc": "Maximum messages to export"
        },
        {
          "name": "export_agent",
          "kind": "function",
          "line": 39,
          "visibility": "pub",
          "signature": "async fn export_agent<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Query(query): Query<ExportQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, include_messages = query.include_messages), level = \"info\")"
          ]
        },
        {
          "name": "import_agent",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "async fn import_agent<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<ImportAgentRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_name = %request.agent.name, message_count = request.messages.len()), level = \"info\")"
          ]
        },
        {
          "name": "import_messages",
          "kind": "function",
          "line": 161,
          "visibility": "private",
          "signature": "async fn import_messages<R>(\n    state: &AppState<R>,\n    agent_id: &str,\n    messages: Vec<kelpie_server::models::MessageImportData>,\n)",
          "doc": "Helper function to import messages into an agent\n\nTigerStyle: Separate function for clarity and error isolation.",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 201,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 219,
          "visibility": "private",
          "doc": "Mock LLM client for testing"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 222,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 255,
          "visibility": "private",
          "signature": "async fn test_app()",
          "doc": "Create test app",
          "is_async": true
        },
        {
          "name": "test_export_agent",
          "kind": "function",
          "line": 286,
          "visibility": "private",
          "signature": "async fn test_export_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_import_agent",
          "kind": "function",
          "line": 344,
          "visibility": "private",
          "signature": "async fn test_import_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_import_agent_empty_name",
          "kind": "function",
          "line": 395,
          "visibility": "private",
          "signature": "async fn test_import_agent_empty_name()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_export_nonexistent_agent",
          "kind": "function",
          "line": 422,
          "visibility": "private",
          "signature": "async fn test_export_nonexistent_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_roundtrip_export_import",
          "kind": "function",
          "line": 440,
          "visibility": "private",
          "signature": "async fn test_roundtrip_export_import()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::AgentState"
        },
        {
          "path": "kelpie_server::models::CreateAgentRequest"
        },
        {
          "path": "kelpie_server::models::CreateBlockRequest"
        },
        {
          "path": "kelpie_server::models::ExportAgentResponse"
        },
        {
          "path": "kelpie_server::models::ImportAgentRequest"
        },
        {
          "path": "kelpie_server::models::Message"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_server::actor::AgentActor"
        },
        {
          "path": "kelpie_server::actor::AgentActorState"
        },
        {
          "path": "kelpie_server::actor::LlmClient"
        },
        {
          "path": "kelpie_server::actor::LlmMessage"
        },
        {
          "path": "kelpie_server::actor::LlmResponse"
        },
        {
          "path": "kelpie_server::models::AgentImportData"
        },
        {
          "path": "kelpie_server::models::BlockImportData"
        },
        {
          "path": "kelpie_server::service"
        },
        {
          "path": "kelpie_server::tools::UnifiedToolRegistry"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/agent_groups.rs",
      "symbols": [
        {
          "name": "ListGroupsQuery",
          "kind": "struct",
          "line": 25,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ListGroupsResponse",
          "kind": "struct",
          "line": 36,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "GroupMessageResponse",
          "kind": "struct",
          "line": 44,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "GroupMessageItem",
          "kind": "struct",
          "line": 49,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "router",
          "kind": "function",
          "line": 55,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create agent group routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "create_group",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "async fn create_group<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<CreateAgentGroupRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), level = \"info\")"
          ]
        },
        {
          "name": "list_groups",
          "kind": "function",
          "line": 96,
          "visibility": "pub",
          "signature": "async fn list_groups<R>(\n    State(state): State<AppState<R>>,\n    Query(query): Query<ListGroupsQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), level = \"info\")"
          ]
        },
        {
          "name": "get_group",
          "kind": "function",
          "line": 135,
          "visibility": "pub",
          "signature": "async fn get_group<R>(\n    State(state): State<AppState<R>>,\n    Path(group_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(group_id = %group_id), level = \"info\")"
          ]
        },
        {
          "name": "update_group",
          "kind": "function",
          "line": 147,
          "visibility": "pub",
          "signature": "async fn update_group<R>(\n    State(state): State<AppState<R>>,\n    Path(group_id): Path<String>,\n    Json(request): Json<UpdateAgentGroupRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(group_id = %group_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_group",
          "kind": "function",
          "line": 176,
          "visibility": "pub",
          "signature": "async fn delete_group<R>(\n    State(state): State<AppState<R>>,\n    Path(group_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(group_id = %group_id), level = \"info\")"
          ]
        },
        {
          "name": "send_group_message",
          "kind": "function",
          "line": 186,
          "visibility": "private",
          "signature": "async fn send_group_message<R>(\n    State(state): State<AppState<R>>,\n    Path(group_id): Path<String>,\n    Json(request): Json<CreateMessageRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(group_id = %group_id), level = \"info\")"
          ]
        },
        {
          "name": "select_round_robin",
          "kind": "function",
          "line": 251,
          "visibility": "private",
          "signature": "fn select_round_robin(group: &mut AgentGroup)"
        },
        {
          "name": "select_intelligent",
          "kind": "function",
          "line": 262,
          "visibility": "private",
          "signature": "async fn select_intelligent<R>(\n    state: &AppState<R>,\n    group: &AgentGroup,\n    content: &str,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "apply_group_context",
          "kind": "function",
          "line": 299,
          "visibility": "private",
          "signature": "fn apply_group_context(shared_state: &Value, content: &str)"
        },
        {
          "name": "append_shared_state",
          "kind": "function",
          "line": 307,
          "visibility": "private",
          "signature": "fn append_shared_state(group: &mut AgentGroup, agent_id: &str, response: &Value)"
        },
        {
          "name": "send_to_agent",
          "kind": "function",
          "line": 322,
          "visibility": "private",
          "signature": "async fn send_to_agent<R>(\n    state: &AppState<R>,\n    agent_id: &str,\n    content: &str,\n    request: CreateMessageRequest,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "routing::get"
        },
        {
          "path": "routing::post"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::llm::ChatMessage"
        },
        {
          "path": "kelpie_server::models::AgentGroup"
        },
        {
          "path": "kelpie_server::models::CreateAgentGroupRequest"
        },
        {
          "path": "kelpie_server::models::CreateMessageRequest"
        },
        {
          "path": "kelpie_server::models::RoutingPolicy"
        },
        {
          "path": "kelpie_server::models::UpdateAgentGroupRequest"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "tracing::instrument"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/teleport.rs",
      "symbols": [
        {
          "name": "router",
          "kind": "function",
          "line": 25,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create the teleport router",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "TeleportInfoResponse",
          "kind": "struct",
          "line": 37,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "ListPackagesResponse",
          "kind": "struct",
          "line": 48,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "PackageResponse",
          "kind": "struct",
          "line": 57,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "teleport_info",
          "kind": "function",
          "line": 75,
          "visibility": "private",
          "signature": "async fn teleport_info()",
          "doc": "Get teleport system info\n\nGET /v1/teleport/info",
          "is_async": true
        },
        {
          "name": "list_packages",
          "kind": "function",
          "line": 93,
          "visibility": "private",
          "signature": "async fn list_packages<R>(\n    State(_state): State<AppState<R>>,\n)",
          "doc": "List all teleport packages\n\nGET /v1/teleport/packages",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "get_package",
          "kind": "function",
          "line": 107,
          "visibility": "private",
          "signature": "async fn get_package<R>(\n    State(_state): State<AppState<R>>,\n    Path(package_id): Path<String>,\n)",
          "doc": "Get package details\n\nGET /v1/teleport/packages/:package_id",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "delete_package",
          "kind": "function",
          "line": 119,
          "visibility": "private",
          "signature": "async fn delete_package<R>(\n    State(_state): State<AppState<R>>,\n    Path(package_id): Path<String>,\n)",
          "doc": "Delete a teleport package\n\nDELETE /v1/teleport/packages/:package_id",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 129,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 135,
          "visibility": "private",
          "signature": "fn test_app()"
        },
        {
          "name": "test_teleport_info",
          "kind": "function",
          "line": 143,
          "visibility": "private",
          "signature": "async fn test_teleport_info()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_packages_empty",
          "kind": "function",
          "line": 160,
          "visibility": "private",
          "signature": "async fn test_list_packages_empty()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_package_not_found",
          "kind": "function",
          "line": 177,
          "visibility": "private",
          "signature": "async fn test_get_package_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "routing::delete"
        },
        {
          "path": "routing::get"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "super::ApiError"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/mod.rs",
      "symbols": [
        {
          "name": "agent_groups",
          "kind": "mod",
          "line": 5,
          "visibility": "pub"
        },
        {
          "name": "agents",
          "kind": "mod",
          "line": 6,
          "visibility": "pub"
        },
        {
          "name": "archival",
          "kind": "mod",
          "line": 7,
          "visibility": "pub"
        },
        {
          "name": "blocks",
          "kind": "mod",
          "line": 8,
          "visibility": "pub"
        },
        {
          "name": "groups",
          "kind": "mod",
          "line": 9,
          "visibility": "pub"
        },
        {
          "name": "identities",
          "kind": "mod",
          "line": 10,
          "visibility": "pub"
        },
        {
          "name": "import_export",
          "kind": "mod",
          "line": 11,
          "visibility": "pub"
        },
        {
          "name": "mcp_servers",
          "kind": "mod",
          "line": 12,
          "visibility": "pub"
        },
        {
          "name": "messages",
          "kind": "mod",
          "line": 13,
          "visibility": "pub"
        },
        {
          "name": "projects",
          "kind": "mod",
          "line": 14,
          "visibility": "pub"
        },
        {
          "name": "scheduling",
          "kind": "mod",
          "line": 15,
          "visibility": "pub"
        },
        {
          "name": "standalone_blocks",
          "kind": "mod",
          "line": 16,
          "visibility": "pub"
        },
        {
          "name": "streaming",
          "kind": "mod",
          "line": 17,
          "visibility": "pub"
        },
        {
          "name": "summarization",
          "kind": "mod",
          "line": 18,
          "visibility": "pub"
        },
        {
          "name": "teleport",
          "kind": "mod",
          "line": 19,
          "visibility": "pub"
        },
        {
          "name": "tools",
          "kind": "mod",
          "line": 20,
          "visibility": "pub"
        },
        {
          "name": "router",
          "kind": "function",
          "line": 37,
          "visibility": "pub",
          "signature": "fn router<R>(state: AppState<R>)",
          "doc": "Create the API router with all routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "capabilities",
          "kind": "function",
          "line": 80,
          "visibility": "private",
          "signature": "async fn capabilities()",
          "doc": "Server capabilities endpoint",
          "is_async": true
        },
        {
          "name": "CapabilitiesResponse",
          "kind": "struct",
          "line": 101,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 108,
          "visibility": "private",
          "signature": "async fn health_check<R>(\n    State(state): State<AppState<R>>,\n)",
          "doc": "Health check endpoint",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "metrics",
          "kind": "function",
          "line": 122,
          "visibility": "private",
          "signature": "async fn metrics<R>(State(state): State<AppState<R>>)",
          "doc": "Prometheus metrics endpoint\n\nReturns metrics in Prometheus text format.\nThis is scraped by Prometheus servers for monitoring.",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "ApiError",
          "kind": "struct",
          "line": 190,
          "visibility": "pub",
          "doc": "API error type that converts to HTTP responses"
        },
        {
          "name": "ApiError",
          "kind": "impl",
          "line": 195,
          "visibility": "private"
        },
        {
          "name": "not_found",
          "kind": "function",
          "line": 196,
          "visibility": "pub",
          "signature": "fn not_found(resource: &str, id: &str)"
        },
        {
          "name": "bad_request",
          "kind": "function",
          "line": 203,
          "visibility": "pub",
          "signature": "fn bad_request(message: impl Into<String>)"
        },
        {
          "name": "internal",
          "kind": "function",
          "line": 210,
          "visibility": "pub",
          "signature": "fn internal(message: impl Into<String>)"
        },
        {
          "name": "conflict",
          "kind": "function",
          "line": 217,
          "visibility": "pub",
          "signature": "fn conflict(message: impl Into<String>)"
        },
        {
          "name": "unprocessable_entity",
          "kind": "function",
          "line": 224,
          "visibility": "pub",
          "signature": "fn unprocessable_entity(message: impl Into<String>)"
        },
        {
          "name": "std::fmt::Display for ApiError",
          "kind": "impl",
          "line": 232,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 233,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "IntoResponse for ApiError",
          "kind": "impl",
          "line": 238,
          "visibility": "private"
        },
        {
          "name": "into_response",
          "kind": "function",
          "line": 239,
          "visibility": "private",
          "signature": "fn into_response(self)"
        },
        {
          "name": "From<StateError> for ApiError",
          "kind": "impl",
          "line": 244,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 245,
          "visibility": "private",
          "signature": "fn from(err: StateError)"
        }
      ],
      "imports": [
        {
          "path": "axum::extract::State"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "response::IntoResponse"
        },
        {
          "path": "response::Response"
        },
        {
          "path": "axum::routing::get"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::ErrorResponse"
        },
        {
          "path": "kelpie_server::models::HealthResponse"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "kelpie_server::state::StateError"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "tower_http::cors::Any"
        },
        {
          "path": "tower_http::cors::CorsLayer"
        },
        {
          "path": "tower_http::trace::TraceLayer"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/standalone_blocks.rs",
      "symbols": [
        {
          "name": "ListBlocksQuery",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "default_limit",
          "kind": "function",
          "line": 32,
          "visibility": "private",
          "signature": "fn default_limit()"
        },
        {
          "name": "LIST_LIMIT_MAX",
          "kind": "const",
          "line": 37,
          "visibility": "private",
          "signature": "const LIST_LIMIT_MAX: usize",
          "doc": "Maximum limit for list operations"
        },
        {
          "name": "router",
          "kind": "function",
          "line": 40,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create standalone blocks routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "create_block",
          "kind": "function",
          "line": 53,
          "visibility": "private",
          "signature": "async fn create_block<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<CreateBlockRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(label = %request.label), level = \"info\")"
          ]
        },
        {
          "name": "get_block",
          "kind": "function",
          "line": 90,
          "visibility": "private",
          "signature": "async fn get_block<R>(\n    State(state): State<AppState<R>>,\n    Path(block_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(block_id = %block_id), level = \"info\")"
          ]
        },
        {
          "name": "list_blocks",
          "kind": "function",
          "line": 105,
          "visibility": "private",
          "signature": "async fn list_blocks<R>(\n    State(state): State<AppState<R>>,\n    Query(query): Query<ListBlocksQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(limit = query.limit, label = ?query.label), level = \"info\")"
          ]
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 126,
          "visibility": "private",
          "signature": "async fn update_block<R>(\n    State(state): State<AppState<R>>,\n    Path(block_id): Path<String>,\n    Json(request): Json<UpdateBlockRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(block_id = %block_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_block",
          "kind": "function",
          "line": 162,
          "visibility": "private",
          "signature": "async fn delete_block<R>(\n    State(state): State<AppState<R>>,\n    Path(block_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(block_id = %block_id), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 172,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 179,
          "visibility": "private",
          "signature": "async fn test_app()",
          "is_async": true
        },
        {
          "name": "test_create_standalone_block",
          "kind": "function",
          "line": 184,
          "visibility": "private",
          "signature": "async fn test_create_standalone_block()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_create_block_empty_label",
          "kind": "function",
          "line": 215,
          "visibility": "private",
          "signature": "async fn test_create_block_empty_label()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_block_not_found",
          "kind": "function",
          "line": 239,
          "visibility": "private",
          "signature": "async fn test_get_block_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_blocks",
          "kind": "function",
          "line": 257,
          "visibility": "private",
          "signature": "async fn test_list_blocks()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "axum::routing::get"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::Block"
        },
        {
          "path": "kelpie_server::models::CreateBlockRequest"
        },
        {
          "path": "kelpie_server::models::ListResponse"
        },
        {
          "path": "kelpie_server::models::UpdateBlockRequest"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/streaming.rs",
      "symbols": [
        {
          "name": "StreamQuery",
          "kind": "struct",
          "line": 25,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)",
            "allow(dead_code)"
          ]
        },
        {
          "name": "default_true",
          "kind": "function",
          "line": 34,
          "visibility": "private",
          "signature": "fn default_true()"
        },
        {
          "name": "SseMessage",
          "kind": "enum",
          "line": 43,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize)",
            "serde(tag = \"message_type\")",
            "allow(clippy::enum_variant_names)",
            "allow(dead_code)"
          ]
        },
        {
          "name": "ToolCallInfo",
          "kind": "struct",
          "line": 72,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "StopReasonEvent",
          "kind": "struct",
          "line": 79,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "send_message_stream",
          "kind": "function",
          "line": 88,
          "visibility": "pub",
          "signature": "async fn send_message_stream<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Query(_query): Query<StreamQuery>,\n    axum::Json(request): axum::Json<CreateMessageRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, _query, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "generate_response_events",
          "kind": "function",
          "line": 174,
          "visibility": "private",
          "signature": "async fn generate_response_events<R>(\n    state: &AppState<R>,\n    agent_id: &str,\n    agent: &kelpie_server::models::AgentState,\n    llm: &crate::llm::LlmClient,\n    content: String,\n)",
          "doc": "Generate all SSE events for a response",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "generate_streaming_response_events",
          "kind": "function",
          "line": 399,
          "visibility": "private",
          "signature": "async fn generate_streaming_response_events<R>(\n    state: &AppState<R>,\n    agent_id: &str,\n    agent: &kelpie_server::models::AgentState,\n    llm: &crate::llm::LlmClient,\n    content: String,\n)",
          "doc": "Generate streaming SSE events using real LLM token streaming (Phase 7.9)\n\nReturns stream of SSE events as tokens arrive from LLM.",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "build_system_prompt",
          "kind": "function",
          "line": 564,
          "visibility": "private",
          "signature": "fn build_system_prompt(system: &Option<String>, blocks: &[kelpie_server::models::Block])",
          "doc": "Build system prompt from agent's system message and memory blocks"
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "response::sse::Event"
        },
        {
          "path": "response::sse::KeepAlive"
        },
        {
          "path": "response::sse::Sse"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "futures::stream::Stream"
        },
        {
          "path": "futures::stream::StreamExt"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::llm::ChatMessage"
        },
        {
          "path": "kelpie_server::llm::ContentBlock"
        },
        {
          "path": "kelpie_server::models::CreateMessageRequest"
        },
        {
          "path": "kelpie_server::models::Message"
        },
        {
          "path": "kelpie_server::models::MessageRole"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::convert::Infallible"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "uuid::Uuid"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/blocks.rs",
      "symbols": [
        {
          "name": "ListBlocksParams",
          "kind": "struct",
          "line": 19,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize, Default)"
          ]
        },
        {
          "name": "list_blocks",
          "kind": "function",
          "line": 33,
          "visibility": "pub",
          "signature": "async fn list_blocks<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Query(query): Query<ListBlocksParams>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, after = ?query.after), level = \"info\")"
          ]
        },
        {
          "name": "get_block",
          "kind": "function",
          "line": 75,
          "visibility": "pub",
          "signature": "async fn get_block<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, block_id)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, block_id = %block_id), level = \"info\")"
          ]
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 100,
          "visibility": "pub",
          "signature": "async fn update_block<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, block_id)): Path<(String, String)>,\n    Json(request): Json<UpdateBlockRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id, block_id = %block_id), level = \"info\")"
          ]
        },
        {
          "name": "get_block_by_label",
          "kind": "function",
          "line": 172,
          "visibility": "pub",
          "signature": "async fn get_block_by_label<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, label)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, label = %label), level = \"info\")"
          ]
        },
        {
          "name": "update_block_by_label",
          "kind": "function",
          "line": 197,
          "visibility": "pub",
          "signature": "async fn update_block_by_label<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, label)): Path<(String, String)>,\n    Json(request): Json<UpdateBlockRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id, label = %label), level = \"info\")"
          ]
        },
        {
          "name": "get_block_or_label",
          "kind": "function",
          "line": 271,
          "visibility": "pub",
          "signature": "async fn get_block_or_label<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, id_or_label)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, param = %id_or_label), level = \"info\")"
          ]
        },
        {
          "name": "update_block_or_label",
          "kind": "function",
          "line": 293,
          "visibility": "pub",
          "signature": "async fn update_block_or_label<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, id_or_label)): Path<(String, String)>,\n    Json(request): Json<UpdateBlockRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id, param = %id_or_label), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 309,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 327,
          "visibility": "private",
          "doc": "Mock LLM client for testing"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 330,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_app_with_agent",
          "kind": "function",
          "line": 362,
          "visibility": "private",
          "signature": "async fn test_app_with_agent()",
          "is_async": true
        },
        {
          "name": "test_list_blocks",
          "kind": "function",
          "line": 425,
          "visibility": "private",
          "signature": "async fn test_list_blocks()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_update_block",
          "kind": "function",
          "line": 450,
          "visibility": "private",
          "signature": "async fn test_update_block()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_update_block_by_label_letta_compat",
          "kind": "function",
          "line": 479,
          "visibility": "private",
          "signature": "async fn test_update_block_by_label_letta_compat()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_block_by_label_letta_compat",
          "kind": "function",
          "line": 511,
          "visibility": "private",
          "signature": "async fn test_get_block_by_label_letta_compat()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::Block"
        },
        {
          "path": "kelpie_server::models::UpdateBlockRequest"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "uuid"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_server::actor::AgentActor"
        },
        {
          "path": "kelpie_server::actor::AgentActorState"
        },
        {
          "path": "kelpie_server::actor::LlmClient"
        },
        {
          "path": "kelpie_server::actor::LlmMessage"
        },
        {
          "path": "kelpie_server::actor::LlmResponse"
        },
        {
          "path": "kelpie_server::models::AgentState"
        },
        {
          "path": "kelpie_server::service"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "kelpie_server::tools::UnifiedToolRegistry"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/projects.rs",
      "symbols": [
        {
          "name": "PROJECTS_COUNT_MAX",
          "kind": "const",
          "line": 18,
          "visibility": "private",
          "signature": "const PROJECTS_COUNT_MAX: usize",
          "doc": "TigerStyle: Explicit constants with units"
        },
        {
          "name": "PROJECT_NAME_LENGTH_MAX",
          "kind": "const",
          "line": 19,
          "visibility": "private",
          "signature": "const PROJECT_NAME_LENGTH_MAX: usize"
        },
        {
          "name": "router",
          "kind": "function",
          "line": 22,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create projects routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "create_project",
          "kind": "function",
          "line": 38,
          "visibility": "private",
          "signature": "async fn create_project<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<CreateProjectRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(name = %request.name), level = \"info\")"
          ]
        },
        {
          "name": "get_project",
          "kind": "function",
          "line": 80,
          "visibility": "private",
          "signature": "async fn get_project<R>(\n    State(state): State<AppState<R>>,\n    Path(project_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(project_id = %project_id), level = \"info\")"
          ]
        },
        {
          "name": "list_projects",
          "kind": "function",
          "line": 95,
          "visibility": "private",
          "signature": "async fn list_projects<R>(\n    State(state): State<AppState<R>>,\n    Query(query): Query<ListProjectsQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(cursor = ?query.cursor, limit = query.limit), level = \"info\")"
          ]
        },
        {
          "name": "ListProjectsQuery",
          "kind": "struct",
          "line": 118,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ListProjectAgentsQuery",
          "kind": "struct",
          "line": 127,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "ListProjectsResponse",
          "kind": "struct",
          "line": 136,
          "visibility": "private",
          "attributes": [
            "derive(Debug, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "update_project",
          "kind": "function",
          "line": 146,
          "visibility": "private",
          "signature": "async fn update_project<R>(\n    State(state): State<AppState<R>>,\n    Path(project_id): Path<String>,\n    Json(request): Json<UpdateProjectRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(project_id = %project_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_project",
          "kind": "function",
          "line": 184,
          "visibility": "private",
          "signature": "async fn delete_project<R>(\n    State(state): State<AppState<R>>,\n    Path(project_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(project_id = %project_id), level = \"info\")"
          ]
        },
        {
          "name": "list_project_agents",
          "kind": "function",
          "line": 208,
          "visibility": "private",
          "signature": "async fn list_project_agents<R>(\n    State(state): State<AppState<R>>,\n    Path(project_id): Path<String>,\n    Query(query): Query<ListProjectAgentsQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(project_id = %project_id), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 247,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 256,
          "visibility": "private",
          "signature": "async fn test_app()",
          "doc": "Create test app",
          "is_async": true
        },
        {
          "name": "test_create_project",
          "kind": "function",
          "line": 262,
          "visibility": "private",
          "signature": "async fn test_create_project()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_create_project_empty_name",
          "kind": "function",
          "line": 297,
          "visibility": "private",
          "signature": "async fn test_create_project_empty_name()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_projects_empty",
          "kind": "function",
          "line": 320,
          "visibility": "private",
          "signature": "async fn test_list_projects_empty()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_project_not_found",
          "kind": "function",
          "line": 346,
          "visibility": "private",
          "signature": "async fn test_get_project_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_delete_project",
          "kind": "function",
          "line": 364,
          "visibility": "private",
          "signature": "async fn test_delete_project()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_update_project",
          "kind": "function",
          "line": 406,
          "visibility": "private",
          "signature": "async fn test_update_project()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "axum::extract::Path"
        },
        {
          "path": "axum::extract::Query"
        },
        {
          "path": "axum::routing::get"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "axum::extract::State"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::CreateProjectRequest"
        },
        {
          "path": "kelpie_server::models::ListResponse"
        },
        {
          "path": "kelpie_server::models::Project"
        },
        {
          "path": "kelpie_server::models::UpdateProjectRequest"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/scheduling.rs",
      "symbols": [
        {
          "name": "JOBS_PER_AGENT_MAX",
          "kind": "const",
          "line": 18,
          "visibility": "private",
          "signature": "const JOBS_PER_AGENT_MAX: usize",
          "doc": "TigerStyle: Explicit constants with units"
        },
        {
          "name": "SCHEDULE_PATTERN_LENGTH_MAX",
          "kind": "const",
          "line": 19,
          "visibility": "private",
          "signature": "const SCHEDULE_PATTERN_LENGTH_MAX: usize"
        },
        {
          "name": "router",
          "kind": "function",
          "line": 22,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create scheduling routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "create_job",
          "kind": "function",
          "line": 35,
          "visibility": "private",
          "signature": "async fn create_job<R>(\n    State(state): State<AppState<R>>,\n    Json(request): Json<CreateJobRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %request.agent_id, action = ?request.action), level = \"info\")"
          ]
        },
        {
          "name": "get_job",
          "kind": "function",
          "line": 86,
          "visibility": "private",
          "signature": "async fn get_job<R>(\n    State(state): State<AppState<R>>,\n    Path(job_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(job_id = %job_id), level = \"info\")"
          ]
        },
        {
          "name": "list_jobs",
          "kind": "function",
          "line": 101,
          "visibility": "private",
          "signature": "async fn list_jobs<R>(\n    State(state): State<AppState<R>>,\n    Query(query): Query<ListJobsQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(agent_id = ?query.agent_id), level = \"info\")"
          ]
        },
        {
          "name": "ListJobsQuery",
          "kind": "struct",
          "line": 112,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "update_job",
          "kind": "function",
          "line": 121,
          "visibility": "private",
          "signature": "async fn update_job<R>(\n    State(state): State<AppState<R>>,\n    Path(job_id): Path<String>,\n    Json(request): Json<UpdateJobRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(job_id = %job_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_job",
          "kind": "function",
          "line": 146,
          "visibility": "private",
          "signature": "async fn delete_job<R>(\n    State(state): State<AppState<R>>,\n    Path(job_id): Path<String>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(job_id = %job_id), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 158,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 176,
          "visibility": "private",
          "doc": "Mock LLM client for testing"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 179,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 212,
          "visibility": "private",
          "signature": "async fn test_app()",
          "doc": "Create test app with AgentService (single source of truth)",
          "is_async": true
        },
        {
          "name": "create_test_agent",
          "kind": "function",
          "line": 242,
          "visibility": "private",
          "signature": "async fn create_test_agent(app: &Router)",
          "doc": "Helper: Create a test agent",
          "is_async": true
        },
        {
          "name": "test_create_job",
          "kind": "function",
          "line": 272,
          "visibility": "private",
          "signature": "async fn test_create_job()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_create_job_nonexistent_agent",
          "kind": "function",
          "line": 311,
          "visibility": "private",
          "signature": "async fn test_create_job_nonexistent_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_create_job_empty_schedule",
          "kind": "function",
          "line": 337,
          "visibility": "private",
          "signature": "async fn test_create_job_empty_schedule()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_jobs_empty",
          "kind": "function",
          "line": 364,
          "visibility": "private",
          "signature": "async fn test_list_jobs_empty()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_get_job_not_found",
          "kind": "function",
          "line": 389,
          "visibility": "private",
          "signature": "async fn test_get_job_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_delete_job",
          "kind": "function",
          "line": 407,
          "visibility": "private",
          "signature": "async fn test_delete_job()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_update_job",
          "kind": "function",
          "line": 453,
          "visibility": "private",
          "signature": "async fn test_update_job()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_job_delete_removes_from_storage",
          "kind": "function",
          "line": 515,
          "visibility": "private",
          "signature": "async fn test_job_delete_removes_from_storage()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_job_update_persists",
          "kind": "function",
          "line": 589,
          "visibility": "private",
          "signature": "async fn test_job_update_persists()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "axum::extract::Path"
        },
        {
          "path": "axum::extract::Query"
        },
        {
          "path": "axum::routing::get"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "axum::extract::State"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::CreateJobRequest"
        },
        {
          "path": "kelpie_server::models::Job"
        },
        {
          "path": "kelpie_server::models::UpdateJobRequest"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_server::actor::AgentActor"
        },
        {
          "path": "kelpie_server::actor::AgentActorState"
        },
        {
          "path": "kelpie_server::actor::LlmClient"
        },
        {
          "path": "kelpie_server::actor::LlmMessage"
        },
        {
          "path": "kelpie_server::actor::LlmResponse"
        },
        {
          "path": "kelpie_server::models::AgentState"
        },
        {
          "path": "kelpie_server::models::JobAction"
        },
        {
          "path": "kelpie_server::models::JobStatus"
        },
        {
          "path": "kelpie_server::models::ScheduleType"
        },
        {
          "path": "kelpie_server::service::AgentService"
        },
        {
          "path": "kelpie_server::tools::UnifiedToolRegistry"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/summarization.rs",
      "symbols": [
        {
          "name": "MESSAGES_TO_SUMMARIZE_MAX",
          "kind": "const",
          "line": 19,
          "visibility": "private",
          "signature": "const MESSAGES_TO_SUMMARIZE_MAX: usize",
          "doc": "TigerStyle: Explicit constants with units"
        },
        {
          "name": "SUMMARY_LENGTH_CHARS_TARGET",
          "kind": "const",
          "line": 20,
          "visibility": "private",
          "signature": "const SUMMARY_LENGTH_CHARS_TARGET: usize"
        },
        {
          "name": "SUMMARY_LENGTH_CHARS_MAX",
          "kind": "const",
          "line": 21,
          "visibility": "private",
          "signature": "const SUMMARY_LENGTH_CHARS_MAX: usize"
        },
        {
          "name": "SummarizeMessagesRequest",
          "kind": "struct",
          "line": 25,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_message_count",
          "kind": "function",
          "line": 33,
          "visibility": "private",
          "signature": "fn default_message_count()"
        },
        {
          "name": "SummarizeMemoryRequest",
          "kind": "struct",
          "line": 39,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "SummarizationResponse",
          "kind": "struct",
          "line": 49,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "router",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "fn router<R>()",
          "doc": "Create summarization routes",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "summarize_messages",
          "kind": "function",
          "line": 71,
          "visibility": "private",
          "signature": "async fn summarize_messages<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Json(request): Json<SummarizeMessagesRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "summarize_memory",
          "kind": "function",
          "line": 167,
          "visibility": "private",
          "signature": "async fn summarize_memory<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Json(request): Json<SummarizeMemoryRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "role_to_display",
          "kind": "function",
          "line": 270,
          "visibility": "private",
          "signature": "fn role_to_display(role: &MessageRole)",
          "doc": "Helper: Convert MessageRole to display string"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 280,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 298,
          "visibility": "private",
          "doc": "Mock LLM client for testing"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 301,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_app",
          "kind": "function",
          "line": 337,
          "visibility": "private",
          "signature": "async fn test_app()",
          "doc": "Create test app with AgentService (single source of truth)\n\nNote: These tests focus on validation and error handling.\nLLM integration is tested separately with real LLM clients in integration tests.",
          "is_async": true
        },
        {
          "name": "create_agent_with_blocks",
          "kind": "function",
          "line": 367,
          "visibility": "private",
          "signature": "async fn create_agent_with_blocks(app: &Router)",
          "doc": "Helper: Create agent with memory blocks (using legacy API)",
          "is_async": true
        },
        {
          "name": "test_summarize_messages_no_messages",
          "kind": "function",
          "line": 405,
          "visibility": "private",
          "signature": "async fn test_summarize_messages_no_messages()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_summarize_memory_blocks_no_llm",
          "kind": "function",
          "line": 430,
          "visibility": "private",
          "signature": "async fn test_summarize_memory_blocks_no_llm()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_summarize_memory_empty_blocks",
          "kind": "function",
          "line": 455,
          "visibility": "private",
          "signature": "async fn test_summarize_memory_empty_blocks()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_summarize_memory_nonexistent_blocks",
          "kind": "function",
          "line": 504,
          "visibility": "private",
          "signature": "async fn test_summarize_memory_nonexistent_blocks()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_summarize_nonexistent_agent",
          "kind": "function",
          "line": 529,
          "visibility": "private",
          "signature": "async fn test_summarize_nonexistent_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "axum::extract::Path"
        },
        {
          "path": "axum::routing::post"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "axum::extract::State"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::llm::ChatMessage"
        },
        {
          "path": "kelpie_server::models::MessageRole"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_server::actor::AgentActor"
        },
        {
          "path": "kelpie_server::actor::AgentActorState"
        },
        {
          "path": "kelpie_server::actor::LlmClient"
        },
        {
          "path": "kelpie_server::actor::LlmMessage"
        },
        {
          "path": "kelpie_server::actor::LlmResponse"
        },
        {
          "path": "kelpie_server::models::AgentState"
        },
        {
          "path": "kelpie_server::service::AgentService"
        },
        {
          "path": "kelpie_server::tools::UnifiedToolRegistry"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/archival.rs",
      "symbols": [
        {
          "name": "ArchivalListResponse",
          "kind": "struct",
          "line": 18,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Serialize)"
          ]
        },
        {
          "name": "ArchivalSearchQuery",
          "kind": "struct",
          "line": 28,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "default_limit",
          "kind": "function",
          "line": 45,
          "visibility": "private",
          "signature": "fn default_limit()"
        },
        {
          "name": "AddArchivalRequest",
          "kind": "struct",
          "line": 51,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "search_archival",
          "kind": "function",
          "line": 60,
          "visibility": "pub",
          "signature": "async fn search_archival<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Query(query): Query<ArchivalSearchQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(agent_id = %agent_id, query = ?query.q, limit = query.limit), level = \"info\")"
          ]
        },
        {
          "name": "add_archival",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "async fn add_archival<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Json(request): Json<AddArchivalRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "get_archival_entry",
          "kind": "function",
          "line": 139,
          "visibility": "pub",
          "signature": "async fn get_archival_entry<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, entry_id)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, entry_id = %entry_id), level = \"info\")"
          ]
        },
        {
          "name": "delete_archival_entry",
          "kind": "function",
          "line": 170,
          "visibility": "pub",
          "signature": "async fn delete_archival_entry<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, entry_id)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, entry_id = %entry_id), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 196,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 214,
          "visibility": "private",
          "doc": "Mock LLM client for testing"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 217,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_app_with_agent",
          "kind": "function",
          "line": 249,
          "visibility": "private",
          "signature": "async fn test_app_with_agent()",
          "is_async": true
        },
        {
          "name": "test_search_archival_empty",
          "kind": "function",
          "line": 308,
          "visibility": "private",
          "signature": "async fn test_search_archival_empty()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_add_archival",
          "kind": "function",
          "line": 326,
          "visibility": "private",
          "signature": "async fn test_add_archival()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_archival_text_alias",
          "kind": "function",
          "line": 349,
          "visibility": "private",
          "signature": "fn test_archival_text_alias()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::ArchivalEntry"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::api"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_server::actor::AgentActor"
        },
        {
          "path": "kelpie_server::actor::AgentActorState"
        },
        {
          "path": "kelpie_server::actor::LlmClient"
        },
        {
          "path": "kelpie_server::actor::LlmMessage"
        },
        {
          "path": "kelpie_server::actor::LlmResponse"
        },
        {
          "path": "kelpie_server::service::AgentService"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "kelpie_server::tools::UnifiedToolRegistry"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/api/messages.rs",
      "symbols": [
        {
          "name": "ListMessagesQuery",
          "kind": "struct",
          "line": 29,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize)"
          ]
        },
        {
          "name": "default_limit",
          "kind": "function",
          "line": 37,
          "visibility": "private",
          "signature": "fn default_limit()"
        },
        {
          "name": "LIST_LIMIT_MAX",
          "kind": "const",
          "line": 42,
          "visibility": "private",
          "signature": "const LIST_LIMIT_MAX: usize",
          "doc": "Maximum limit for list operations"
        },
        {
          "name": "SendMessageQuery",
          "kind": "struct",
          "line": 46,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Deserialize, Default)"
          ]
        },
        {
          "name": "SseMessage",
          "kind": "enum",
          "line": 63,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize)",
            "serde(tag = \"message_type\")",
            "allow(dead_code)"
          ]
        },
        {
          "name": "ToolCallInfo",
          "kind": "struct",
          "line": 92,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "StopReasonEvent",
          "kind": "struct",
          "line": 105,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "list_messages",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "async fn list_messages<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Query(query): Query<ListMessagesQuery>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query), fields(agent_id = %agent_id, limit = query.limit), level = \"info\")"
          ]
        },
        {
          "name": "send_message",
          "kind": "function",
          "line": 144,
          "visibility": "pub",
          "signature": "async fn send_message<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Query(query): Query<SendMessageQuery>,\n    Json(request): Json<CreateMessageRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, query, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "send_message_json",
          "kind": "function",
          "line": 172,
          "visibility": "private",
          "signature": "async fn send_message_json<R>(\n    state: AppState<R>,\n    agent_id: String,\n    request: CreateMessageRequest,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "handle_message_request",
          "kind": "function",
          "line": 182,
          "visibility": "pub",
          "signature": "async fn handle_message_request<R>(\n    state: AppState<R>,\n    agent_id: String,\n    request: CreateMessageRequest,\n)",
          "doc": "Shared handler for message processing (non-streaming)",
          "is_async": true,
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "send_messages_batch",
          "kind": "function",
          "line": 221,
          "visibility": "pub",
          "signature": "async fn send_messages_batch<R>(\n    State(state): State<AppState<R>>,\n    Path(agent_id): Path<String>,\n    Json(request): Json<BatchMessagesRequest>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "get_batch_status",
          "kind": "function",
          "line": 303,
          "visibility": "pub",
          "signature": "async fn get_batch_status<R>(\n    State(state): State<AppState<R>>,\n    Path((agent_id, batch_id)): Path<(String, String)>,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state), fields(agent_id = %agent_id, batch_id = %batch_id), level = \"info\")"
          ]
        },
        {
          "name": "send_message_streaming",
          "kind": "function",
          "line": 322,
          "visibility": "private",
          "signature": "async fn send_message_streaming<R>(\n    state: AppState<R>,\n    agent_id: String,\n    _query: SendMessageQuery,\n    request: CreateMessageRequest,\n)",
          "is_async": true,
          "generic_params": [
            "R"
          ],
          "attributes": [
            "instrument(skip(state, _query, request), fields(agent_id = %agent_id), level = \"info\")"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 441,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "MockLlmClient",
          "kind": "struct",
          "line": 459,
          "visibility": "private",
          "doc": "Mock LLM client for testing that returns simple responses"
        },
        {
          "name": "LlmClient for MockLlmClient",
          "kind": "impl",
          "line": 462,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_app_with_agent",
          "kind": "function",
          "line": 495,
          "visibility": "private",
          "signature": "async fn test_app_with_agent()",
          "doc": "Create a test AppState with AgentService and pre-created agent",
          "is_async": true
        },
        {
          "name": "test_send_message_succeeds",
          "kind": "function",
          "line": 553,
          "visibility": "private",
          "signature": "async fn test_send_message_succeeds()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_send_empty_message",
          "kind": "function",
          "line": 590,
          "visibility": "private",
          "signature": "async fn test_send_empty_message()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_list_messages_empty",
          "kind": "function",
          "line": 614,
          "visibility": "private",
          "signature": "async fn test_list_messages_empty()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_message_roundtrip_persists",
          "kind": "function",
          "line": 645,
          "visibility": "private",
          "signature": "async fn test_message_roundtrip_persists()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_multiple_messages_order_preserved",
          "kind": "function",
          "line": 711,
          "visibility": "private",
          "signature": "async fn test_multiple_messages_order_preserved()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_stream_tokens_parameter_accepted",
          "kind": "function",
          "line": 785,
          "visibility": "private",
          "signature": "async fn test_stream_tokens_parameter_accepted()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::api::ApiError"
        },
        {
          "path": "extract::Path"
        },
        {
          "path": "extract::Query"
        },
        {
          "path": "extract::State"
        },
        {
          "path": "sse::Event"
        },
        {
          "path": "sse::KeepAlive"
        },
        {
          "path": "sse::Sse"
        },
        {
          "path": "response::IntoResponse"
        },
        {
          "path": "response::Response"
        },
        {
          "path": "axum::Json"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "futures::stream::StreamExt"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_server::models::BatchMessagesRequest"
        },
        {
          "path": "kelpie_server::models::BatchStatus"
        },
        {
          "path": "kelpie_server::models::CreateMessageRequest"
        },
        {
          "path": "kelpie_server::models::Message"
        },
        {
          "path": "kelpie_server::models::MessageResponse"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::convert::Infallible"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tracing::instrument"
        },
        {
          "path": "uuid::Uuid"
        },
        {
          "path": "crate::api"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "axum::body::Body"
        },
        {
          "path": "axum::http::Request"
        },
        {
          "path": "axum::http::StatusCode"
        },
        {
          "path": "axum::Router"
        },
        {
          "path": "kelpie_core::Runtime"
        },
        {
          "path": "kelpie_dst::DeterministicRng"
        },
        {
          "path": "kelpie_dst::FaultInjector"
        },
        {
          "path": "kelpie_dst::SimStorage"
        },
        {
          "path": "kelpie_runtime::CloneFactory"
        },
        {
          "path": "kelpie_runtime::Dispatcher"
        },
        {
          "path": "kelpie_runtime::DispatcherConfig"
        },
        {
          "path": "kelpie_server::actor::AgentActor"
        },
        {
          "path": "kelpie_server::actor::AgentActorState"
        },
        {
          "path": "kelpie_server::actor::LlmClient"
        },
        {
          "path": "kelpie_server::actor::LlmMessage"
        },
        {
          "path": "kelpie_server::actor::LlmResponse"
        },
        {
          "path": "kelpie_server::models::AgentState"
        },
        {
          "path": "kelpie_server::service"
        },
        {
          "path": "kelpie_server::state::AppState"
        },
        {
          "path": "kelpie_server::tools::UnifiedToolRegistry"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tower::ServiceExt"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/service/mod.rs",
      "symbols": [
        {
          "name": "teleport_service",
          "kind": "mod",
          "line": 5,
          "visibility": "private"
        },
        {
          "name": "AgentService",
          "kind": "struct",
          "line": 42,
          "visibility": "pub",
          "generic_params": [
            "R"
          ],
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "AgentService<R>",
          "kind": "impl",
          "line": 51,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 53,
          "visibility": "pub",
          "signature": "fn new(dispatcher: DispatcherHandle<R>)",
          "doc": "Create a new AgentService"
        },
        {
          "name": "with_tool_registry",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn with_tool_registry(\n        dispatcher: DispatcherHandle<R>,\n        tool_registry: Arc<UnifiedToolRegistry>,\n    )",
          "doc": "Create a new AgentService with tool registry for continuation-based execution\n\nThe tool registry is used to execute tools outside actor invocations,\nwhich is required for the continuation-based architecture that avoids\nreentrant deadlock."
        },
        {
          "name": "with_tool_registry_and_audit",
          "kind": "function",
          "line": 78,
          "visibility": "pub",
          "signature": "fn with_tool_registry_and_audit(\n        dispatcher: DispatcherHandle<R>,\n        tool_registry: Arc<UnifiedToolRegistry>,\n        audit_log: SharedAuditLog,\n    )",
          "doc": "Create a new AgentService with tool registry and audit log"
        },
        {
          "name": "create_agent",
          "kind": "function",
          "line": 100,
          "visibility": "pub",
          "signature": "async fn create_agent(&self, request: CreateAgentRequest)",
          "doc": "Create a new agent\n\n# Arguments\n* `request` - Agent creation request\n\n# Returns\nCreated agent state with ID\n\n# Errors\nReturns error if actor creation fails",
          "is_async": true
        },
        {
          "name": "send_message",
          "kind": "function",
          "line": 132,
          "visibility": "pub",
          "signature": "async fn send_message(&self, agent_id: &str, message: Value)",
          "doc": "Send message to agent\n\n# Arguments\n* `agent_id` - Agent ID string\n* `message` - Message as JSON value\n\n# Returns\nResponse as JSON value",
          "is_async": true
        },
        {
          "name": "send_message_full",
          "kind": "function",
          "line": 183,
          "visibility": "pub",
          "signature": "async fn send_message_full(\n        &self,\n        agent_id: &str,\n        content: String,\n    )",
          "doc": "Send message with full agent loop (Phase 6.9)\n\nTyped API for agent message handling. Returns structured response\nwith full conversation history and usage stats.\n\n# Arguments\n* `agent_id` - Agent ID string\n* `content` - Message content from user\n\n# Returns\nHandleMessageFullResponse with messages and usage stats\n\n# Errors\n- Invalid agent_id\n- Agent not found/created\n- Actor invocation failure\n- Serialization/deserialization error\n\n# TigerStyle\n- Explicit typed API (not JSON Value)\n- Clear error messages\n- No unwrap()\n\n# Continuation-Based Architecture\nThis method implements the continuation-based tool execution pattern:\n1. Call handle_message_full on actor (returns HandleMessageResult)\n2. If NeedTools: execute tools OUTSIDE actor, then call continue_with_tool_results\n3. Loop until Done\n\nThis avoids reentrant deadlock where tools calling dispatcher.invoke() would\nwait on an actor that's blocked waiting for those tools to complete.",
          "is_async": true
        },
        {
          "name": "execute_tools_external",
          "kind": "function",
          "line": 301,
          "visibility": "private",
          "signature": "async fn execute_tools_external(\n        &self,\n        tool_calls: &[PendingToolCall],\n        agent_id: &str,\n        continuation: &AgentContinuation,\n    )",
          "doc": "Execute tools outside actor context\n\nThis is the key part of the continuation-based architecture - tools are executed\nhere in the service layer, outside any actor invocation, so they can freely\ncall the dispatcher without causing reentrant deadlock.",
          "is_async": true
        },
        {
          "name": "send_message_stream",
          "kind": "function",
          "line": 383,
          "visibility": "pub",
          "signature": "async fn send_message_stream(\n        &self,\n        agent_id: &str,\n        message: Value,\n        tx: mpsc::Sender<StreamEvent>,\n    )",
          "doc": "Send message to agent with streaming\n\nPhase 7: Streams events (tokens, tool calls) via channel as agent processes message\n\n# Arguments\n* `agent_id` - Agent ID string\n* `message` - Message as JSON value\n* `tx` - Channel sender for streaming events\n\n# Returns\nOk(()) on success, Err if processing fails\n\n# Errors\n- Invalid agent_id\n- Actor invocation failure\n- Channel send failure (client disconnected)",
          "is_async": true
        },
        {
          "name": "get_agent",
          "kind": "function",
          "line": 486,
          "visibility": "pub",
          "signature": "async fn get_agent(&self, agent_id: &str)",
          "doc": "Get agent state\n\n# Arguments\n* `agent_id` - Agent ID string\n\n# Returns\nCurrent agent state",
          "is_async": true
        },
        {
          "name": "update_agent",
          "kind": "function",
          "line": 509,
          "visibility": "pub",
          "signature": "async fn update_agent(&self, agent_id: &str, update: Value)",
          "doc": "Update agent\n\n# Arguments\n* `agent_id` - Agent ID string\n* `update` - Update as JSON value\n\n# Returns\nUpdated agent state",
          "is_async": true
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 548,
          "visibility": "pub",
          "signature": "async fn delete_agent(&self, agent_id: &str)",
          "doc": "Delete agent\n\n# Arguments\n* `agent_id` - Agent ID string",
          "is_async": true
        },
        {
          "name": "update_block_by_label",
          "kind": "function",
          "line": 571,
          "visibility": "pub",
          "signature": "async fn update_block_by_label(\n        &self,\n        agent_id: &str,\n        label: &str,\n        value: String,\n    )",
          "doc": "Update a memory block by label\n\n# Arguments\n* `agent_id` - Agent ID string\n* `label` - Block label\n* `value` - New block value\n\n# Returns\nOk(()) on success",
          "is_async": true
        },
        {
          "name": "core_memory_append",
          "kind": "function",
          "line": 607,
          "visibility": "pub",
          "signature": "async fn core_memory_append(\n        &self,\n        agent_id: &str,\n        label: &str,\n        content: &str,\n    )",
          "doc": "Append content to a memory block by label\n\n# Arguments\n* `agent_id` - Agent ID string\n* `label` - Block label (e.g., \"persona\", \"human\")\n* `content` - Content to append\n\n# Returns\nOk(()) on success",
          "is_async": true
        },
        {
          "name": "stream_message",
          "kind": "function",
          "line": 658,
          "visibility": "pub",
          "signature": "async fn stream_message(\n        &self,\n        agent_id: &str,\n        content: String,\n    )",
          "doc": "Stream message with LLM token streaming (Phase 7.7)\n\nReturns stream of chunks as LLM generates response.\nCurrently uses default stream_complete which converts batch to stream.\n\n# Arguments\n* `agent_id` - Agent ID string\n* `content` - Message content from user\n\n# Returns\nStream of StreamChunk items\n\n# Errors\n- Invalid agent_id\n- Agent not found/created\n- LLM call failure\n\n# TigerStyle\n- For now, uses send_message_full then converts to stream\n- Phase 7.8 will add true streaming via actor operation",
          "is_async": true
        },
        {
          "name": "archival_insert",
          "kind": "function",
          "line": 711,
          "visibility": "pub",
          "signature": "async fn archival_insert(\n        &self,\n        agent_id: &str,\n        content: &str,\n        metadata: Option<Value>,\n    )",
          "doc": "Insert into archival memory\n\n# Arguments\n* `agent_id` - Agent ID string\n* `content` - Content to store\n* `metadata` - Optional metadata\n\n# Returns\nThe entry ID of the created archival entry",
          "is_async": true
        },
        {
          "name": "archival_search",
          "kind": "function",
          "line": 754,
          "visibility": "pub",
          "signature": "async fn archival_search(\n        &self,\n        agent_id: &str,\n        query: &str,\n        limit: usize,\n    )",
          "doc": "Search archival memory\n\n# Arguments\n* `agent_id` - Agent ID string\n* `query` - Search query\n* `limit` - Maximum results to return\n\n# Returns\nMatching archival entries",
          "is_async": true
        },
        {
          "name": "archival_delete",
          "kind": "function",
          "line": 793,
          "visibility": "pub",
          "signature": "async fn archival_delete(&self, agent_id: &str, entry_id: &str)",
          "doc": "Delete an archival entry\n\n# Arguments\n* `agent_id` - Agent ID string\n* `entry_id` - ID of the entry to delete",
          "is_async": true
        },
        {
          "name": "conversation_search",
          "kind": "function",
          "line": 824,
          "visibility": "pub",
          "signature": "async fn conversation_search(\n        &self,\n        agent_id: &str,\n        query: &str,\n        limit: usize,\n    )",
          "doc": "Search conversation messages\n\n# Arguments\n* `agent_id` - Agent ID string\n* `query` - Search query\n* `limit` - Maximum results to return\n\n# Returns\nMatching messages",
          "is_async": true
        },
        {
          "name": "conversation_search_date",
          "kind": "function",
          "line": 869,
          "visibility": "pub",
          "signature": "async fn conversation_search_date(\n        &self,\n        agent_id: &str,\n        query: &str,\n        start_date: Option<&str>,\n        end_date: Option<&str>,\n        limit: usize,\n    )",
          "doc": "Search conversation messages with date filter\n\n# Arguments\n* `agent_id` - Agent ID string\n* `query` - Search query\n* `start_date` - Optional start date (RFC 3339 format)\n* `end_date` - Optional end date (RFC 3339 format)\n* `limit` - Maximum results to return\n\n# Returns\nMatching messages within date range",
          "is_async": true
        },
        {
          "name": "core_memory_replace",
          "kind": "function",
          "line": 914,
          "visibility": "pub",
          "signature": "async fn core_memory_replace(\n        &self,\n        agent_id: &str,\n        label: &str,\n        old_content: &str,\n        new_content: &str,\n    )",
          "doc": "Replace content in a memory block\n\n# Arguments\n* `agent_id` - Agent ID string\n* `label` - Block label\n* `old_content` - Content to find and replace\n* `new_content` - Replacement content",
          "is_async": true
        },
        {
          "name": "get_block_by_label",
          "kind": "function",
          "line": 952,
          "visibility": "pub",
          "signature": "async fn get_block_by_label(&self, agent_id: &str, label: &str)",
          "doc": "Get a memory block by label\n\n# Arguments\n* `agent_id` - Agent ID string\n* `label` - Block label to find\n\n# Returns\nThe block if found, None otherwise",
          "is_async": true
        },
        {
          "name": "list_messages",
          "kind": "function",
          "line": 985,
          "visibility": "pub",
          "signature": "async fn list_messages(\n        &self,\n        agent_id: &str,\n        limit: usize,\n        before: Option<&str>,\n    )",
          "doc": "List messages with pagination\n\n# Arguments\n* `agent_id` - Agent ID string\n* `limit` - Maximum messages to return\n* `before` - Optional message ID to return messages before\n\n# Returns\nList of messages",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "teleport_service::TeleportInRequest"
        },
        {
          "path": "teleport_service::TeleportInResponse"
        },
        {
          "path": "teleport_service::TeleportOutRequest"
        },
        {
          "path": "teleport_service::TeleportOutResponse"
        },
        {
          "path": "teleport_service::TeleportPackageInfo"
        },
        {
          "path": "teleport_service::TeleportService"
        },
        {
          "path": "crate::actor::AgentContinuation"
        },
        {
          "path": "crate::actor::ArchivalDeleteRequest"
        },
        {
          "path": "crate::actor::ArchivalInsertRequest"
        },
        {
          "path": "crate::actor::ArchivalInsertResponse"
        },
        {
          "path": "crate::actor::ArchivalSearchRequest"
        },
        {
          "path": "crate::actor::ArchivalSearchResponse"
        },
        {
          "path": "crate::actor::ContinueWithToolResultsRequest"
        },
        {
          "path": "crate::actor::ConversationSearchDateRequest"
        },
        {
          "path": "crate::actor::ConversationSearchRequest"
        },
        {
          "path": "crate::actor::ConversationSearchResponse"
        },
        {
          "path": "crate::actor::CoreMemoryReplaceRequest"
        },
        {
          "path": "crate::actor::GetBlockRequest"
        },
        {
          "path": "crate::actor::GetBlockResponse"
        },
        {
          "path": "crate::actor::HandleMessageFullRequest"
        },
        {
          "path": "crate::actor::HandleMessageFullResponse"
        },
        {
          "path": "crate::actor::HandleMessageResult"
        },
        {
          "path": "crate::actor::ListMessagesRequest"
        },
        {
          "path": "crate::actor::ListMessagesResponse"
        },
        {
          "path": "crate::actor::PendingToolCall"
        },
        {
          "path": "crate::actor::StreamChunk"
        },
        {
          "path": "crate::actor::ToolResult"
        },
        {
          "path": "crate::models::AgentState"
        },
        {
          "path": "crate::models::ArchivalEntry"
        },
        {
          "path": "crate::models::Block"
        },
        {
          "path": "crate::models::CreateAgentRequest"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "crate::models::StreamEvent"
        },
        {
          "path": "crate::models::UpdateAgentRequest"
        },
        {
          "path": "crate::security::audit::SharedAuditLog"
        },
        {
          "path": "crate::tools::ToolExecutionContext"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "futures::stream::Stream"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "kelpie_runtime::DispatcherHandle"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::pin::Pin"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::mpsc"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/service/teleport_service.rs",
      "symbols": [
        {
          "name": "TeleportService",
          "kind": "struct",
          "line": 25,
          "visibility": "pub",
          "generic_params": [
            "S",
            "F"
          ],
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "TeleportService<S, F>",
          "kind": "impl",
          "line": 41,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "fn new(storage: Arc<S>, vm_factory: Arc<F>)",
          "doc": "Create a new TeleportService without dispatcher (backward compatible)"
        },
        {
          "name": "with_dispatcher",
          "kind": "function",
          "line": 57,
          "visibility": "pub",
          "signature": "fn with_dispatcher(\n        mut self,\n        dispatcher: DispatcherHandle<kelpie_core::TokioRuntime>,\n    )",
          "doc": "Create TeleportService with dispatcher for RegistryActor registration"
        },
        {
          "name": "with_base_image_version",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "fn with_base_image_version(mut self, version: impl Into<String>)",
          "doc": "Set the expected base image version"
        },
        {
          "name": "teleport_out",
          "kind": "function",
          "line": 89,
          "visibility": "pub",
          "signature": "async fn teleport_out(\n        &self,\n        agent_id: &str,\n        vm: &mut dyn VmInstance,\n        agent_state: Bytes,\n        kind: SnapshotKind,\n    )",
          "doc": "Teleport agent OUT (snapshot + upload to storage)\n\n# Arguments\n* `agent_id` - Agent ID to teleport\n* `vm` - Running VM to snapshot\n* `agent_state` - Serialized agent state (memory blocks, conversation, etc.)\n* `kind` - Type of snapshot (Suspend, Teleport, or Checkpoint)\n\n# Returns\nThe teleport package ID on success\n\n# Errors\n- SnapshotCreateFail: Failed to create snapshot\n- UploadFailed: Failed to upload package to storage\n\n# TigerStyle\n- Returns package ID for tracking\n- VM state is preserved on failure (no partial mutations)",
          "is_async": true
        },
        {
          "name": "teleport_in",
          "kind": "function",
          "line": 174,
          "visibility": "pub",
          "signature": "async fn teleport_in(\n        &self,\n        package_id: &str,\n        vm_config: VmConfig,\n    )",
          "doc": "Teleport agent IN (download + restore from storage)\n\n# Arguments\n* `package_id` - Teleport package ID to restore from\n* `vm_config` - Configuration for creating new VM\n\n# Returns\nTuple of (created VM, agent state bytes)\n\n# Errors\n- NotFound: Package not found in storage\n- ArchMismatch: Package architecture doesn't match host\n- ImageMismatch: Base image version mismatch (validated by storage)\n- DownloadFailed: Failed to download package\n- VM creation/restore failed\n\n# TigerStyle\n- Creates new VM (caller owns it)\n- Returns agent state for caller to deserialize\n- Clean failure (no partial state on error)\n- Version validation happens in storage layer (MAJOR.MINOR must match)\n- VM is started before returning",
          "is_async": true
        },
        {
          "name": "list_packages",
          "kind": "function",
          "line": 321,
          "visibility": "pub",
          "signature": "async fn list_packages(&self)",
          "doc": "List available teleport packages",
          "is_async": true
        },
        {
          "name": "delete_package",
          "kind": "function",
          "line": 326,
          "visibility": "pub",
          "signature": "async fn delete_package(&self, package_id: &str)",
          "doc": "Delete a teleport package",
          "is_async": true
        },
        {
          "name": "get_package",
          "kind": "function",
          "line": 336,
          "visibility": "pub",
          "signature": "async fn get_package(&self, package_id: &str)",
          "doc": "Get package details without downloading full state",
          "is_async": true
        },
        {
          "name": "host_arch",
          "kind": "function",
          "line": 346,
          "visibility": "pub",
          "signature": "fn host_arch(&self)",
          "doc": "Get the host architecture"
        },
        {
          "name": "TeleportOutRequest",
          "kind": "struct",
          "line": 353,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "TeleportOutResponse",
          "kind": "struct",
          "line": 362,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "TeleportInRequest",
          "kind": "struct",
          "line": 373,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "TeleportInResponse",
          "kind": "struct",
          "line": 380,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "TeleportPackageInfo",
          "kind": "struct",
          "line": 389,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, serde::Serialize, serde::Deserialize)"
          ]
        },
        {
          "name": "From<TeleportPackage> for TeleportPackageInfo",
          "kind": "impl",
          "line": 404,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 405,
          "visibility": "private",
          "signature": "fn from(p: TeleportPackage)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 418,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_config",
          "kind": "function",
          "line": 423,
          "visibility": "private",
          "signature": "fn test_config()"
        },
        {
          "name": "test_teleport_service_roundtrip",
          "kind": "function",
          "line": 433,
          "visibility": "private",
          "signature": "async fn test_teleport_service_roundtrip()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_teleport_service_checkpoint",
          "kind": "function",
          "line": 475,
          "visibility": "private",
          "signature": "async fn test_teleport_service_checkpoint()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::actor::AgentActorState"
        },
        {
          "path": "crate::actor::RegisterRequest"
        },
        {
          "path": "crate::storage::AgentMetadata"
        },
        {
          "path": "crate::storage::Architecture"
        },
        {
          "path": "crate::storage::SnapshotKind"
        },
        {
          "path": "crate::storage::TeleportPackage"
        },
        {
          "path": "crate::storage::TeleportStorage"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "kelpie_runtime::DispatcherHandle"
        },
        {
          "path": "kelpie_vm::VmConfig"
        },
        {
          "path": "kelpie_vm::VmFactory"
        },
        {
          "path": "kelpie_vm::VmInstance"
        },
        {
          "path": "kelpie_vm::VmSnapshot"
        },
        {
          "path": "kelpie_vm::VmSnapshotMetadata"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::storage::LocalTeleportStorage"
        },
        {
          "path": "kelpie_vm::MockVmFactory"
        },
        {
          "path": "kelpie_vm::VmConfig"
        },
        {
          "path": "kelpie_vm::VmState"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/actor/agent_actor.rs",
      "symbols": [
        {
          "name": "AgentActor",
          "kind": "struct",
          "line": 27,
          "visibility": "pub",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "AgentActor",
          "kind": "impl",
          "line": 40,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 42,
          "visibility": "pub",
          "signature": "fn new(llm: Arc<dyn LlmClient>, tool_registry: Arc<UnifiedToolRegistry>)",
          "doc": "Create a new AgentActor with LLM client"
        },
        {
          "name": "with_dispatcher",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "fn with_dispatcher(\n        mut self,\n        dispatcher: kelpie_runtime::DispatcherHandle<kelpie_core::TokioRuntime>,\n    )",
          "doc": "Create AgentActor with dispatcher for self-registration"
        },
        {
          "name": "with_audit_log",
          "kind": "function",
          "line": 61,
          "visibility": "pub",
          "signature": "fn with_audit_log(mut self, audit_log: SharedAuditLog)",
          "doc": "Create AgentActor with audit logging enabled"
        },
        {
          "name": "store_assistant_message",
          "kind": "function",
          "line": 71,
          "visibility": "private",
          "signature": "fn store_assistant_message(ctx: &mut ActorContext<AgentActorState>, content: &str)",
          "doc": "Store an assistant message in the conversation history"
        },
        {
          "name": "store_tool_call_messages",
          "kind": "function",
          "line": 89,
          "visibility": "private",
          "signature": "fn store_tool_call_messages(\n        ctx: &mut ActorContext<AgentActorState>,\n        tool_calls: &[LlmToolCall],\n        response_content: &str,\n    )",
          "doc": "Store tool call messages for each tool call in the response"
        },
        {
          "name": "store_tool_result_message",
          "kind": "function",
          "line": 122,
          "visibility": "private",
          "signature": "fn store_tool_result_message(\n        ctx: &mut ActorContext<AgentActorState>,\n        tool_call_id: &str,\n        output: &str,\n        success: bool,\n    )",
          "doc": "Store a tool result message"
        },
        {
          "name": "handle_create",
          "kind": "function",
          "line": 148,
          "visibility": "private",
          "signature": "async fn handle_create(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        request: CreateAgentRequest,\n    )",
          "doc": "Handle \"create\" operation - initialize agent from request\n\nReturns the created AgentState directly to avoid timing window\nbetween state creation and persistence (BUG-001 fix)",
          "is_async": true
        },
        {
          "name": "handle_get_state",
          "kind": "function",
          "line": 170,
          "visibility": "private",
          "signature": "async fn handle_get_state(&self, ctx: &ActorContext<AgentActorState>)",
          "doc": "Handle \"get_state\" operation - return current agent state",
          "is_async": true
        },
        {
          "name": "handle_update_block",
          "kind": "function",
          "line": 177,
          "visibility": "private",
          "signature": "async fn handle_update_block(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        update: BlockUpdate,\n    )",
          "doc": "Handle \"update_block\" operation - update a memory block",
          "is_async": true
        },
        {
          "name": "handle_core_memory_append",
          "kind": "function",
          "line": 200,
          "visibility": "private",
          "signature": "async fn handle_core_memory_append(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        append: CoreMemoryAppend,\n    )",
          "doc": "Handle \"core_memory_append\" operation - append to a memory block (or create if doesn't exist)\n\nMatches the behavior of `append_or_create_block_by_label` - creates the block if it\ndoesn't exist, otherwise appends to existing content.",
          "is_async": true
        },
        {
          "name": "handle_update_agent",
          "kind": "function",
          "line": 219,
          "visibility": "private",
          "signature": "async fn handle_update_agent(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        update: UpdateAgentRequest,\n    )",
          "doc": "Handle \"update_agent\" operation - update agent metadata",
          "is_async": true
        },
        {
          "name": "handle_delete_agent",
          "kind": "function",
          "line": 239,
          "visibility": "private",
          "signature": "async fn handle_delete_agent(&self, ctx: &mut ActorContext<AgentActorState>)",
          "doc": "Handle \"delete_agent\" operation - mark agent as deleted",
          "is_async": true
        },
        {
          "name": "handle_handle_message",
          "kind": "function",
          "line": 250,
          "visibility": "private",
          "signature": "async fn handle_handle_message(\n        &self,\n        ctx: &ActorContext<AgentActorState>,\n        request: HandleMessageRequest,\n    )",
          "doc": "Handle \"handle_message\" operation - process user message with LLM",
          "is_async": true
        },
        {
          "name": "handle_message_full",
          "kind": "function",
          "line": 313,
          "visibility": "private",
          "signature": "async fn handle_message_full(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        request: HandleMessageFullRequest,\n    )",
          "doc": "Handle message with full agent loop (Phase 6.8)\n\nImplements complete agent behavior:\n1. Add user message to history\n2. Build LLM prompt from agent blocks + history\n3. Call LLM with tools\n4. Execute tool calls (loop up to 5 iterations)\n5. Add assistant response to history\n6. Return all messages + usage stats\n\nHandle message full - returns HandleMessageResult for continuation-based execution\n\nCONTINUATION-BASED ARCHITECTURE:\nInstead of executing tools inline (which causes reentrant deadlock), this method\nreturns `NeedTools` when tools are required. The caller (AgentService) executes\ntools outside the actor invocation and then calls `continue_with_tool_results`.\n\nThis avoids the deadlock where tools calling dispatcher.invoke() wait on the\nsame actor that's blocked waiting for those tools to complete.",
          "is_async": true
        },
        {
          "name": "handle_continue_with_tool_results",
          "kind": "function",
          "line": 499,
          "visibility": "private",
          "signature": "async fn handle_continue_with_tool_results(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        request: ContinueWithToolResultsRequest,\n    )",
          "doc": "Continue processing after tool execution\n\nThis is called by AgentService after executing tools outside the actor invocation.\nTakes the tool results and continuation state, continues the LLM conversation,\nand may return NeedTools again or Done.",
          "is_async": true
        },
        {
          "name": "extract_send_message_content",
          "kind": "function",
          "line": 697,
          "visibility": "private",
          "signature": "async fn extract_send_message_content(\n        &self,\n        response: &super::llm_trait::LlmResponse,\n        _ctx: &ActorContext<AgentActorState>,\n    )",
          "doc": "Extract send_message content for dual-mode support\n\nIf the LLM response includes send_message tool calls, extract and return\nthe message content from those calls. Supports multiple send_message calls\nin one turn (concatenates them). If no send_message calls, returns the\ndirect LLM response content as fallback.\n\nThis implements Letta's dual-mode messaging:\n- Agent calls send_message(\"text\") -> use that text\n- Agent doesn't call send_message -> use LLM's direct response",
          "is_async": true
        },
        {
          "name": "handle_archival_insert",
          "kind": "function",
          "line": 737,
          "visibility": "private",
          "signature": "async fn handle_archival_insert(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        request: ArchivalInsertRequest,\n    )",
          "doc": "Handle \"archival_insert\" operation - insert into archival memory",
          "is_async": true
        },
        {
          "name": "handle_archival_search",
          "kind": "function",
          "line": 751,
          "visibility": "private",
          "signature": "async fn handle_archival_search(\n        &self,\n        ctx: &ActorContext<AgentActorState>,\n        request: ArchivalSearchRequest,\n    )",
          "doc": "Handle \"archival_search\" operation - search archival memory",
          "is_async": true
        },
        {
          "name": "handle_archival_delete",
          "kind": "function",
          "line": 763,
          "visibility": "private",
          "signature": "async fn handle_archival_delete(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        request: ArchivalDeleteRequest,\n    )",
          "doc": "Handle \"archival_delete\" operation - delete from archival memory",
          "is_async": true
        },
        {
          "name": "handle_conversation_search",
          "kind": "function",
          "line": 774,
          "visibility": "private",
          "signature": "async fn handle_conversation_search(\n        &self,\n        ctx: &ActorContext<AgentActorState>,\n        request: ConversationSearchRequest,\n    )",
          "doc": "Handle \"conversation_search\" operation - search messages",
          "is_async": true
        },
        {
          "name": "handle_conversation_search_date",
          "kind": "function",
          "line": 784,
          "visibility": "private",
          "signature": "async fn handle_conversation_search_date(\n        &self,\n        ctx: &ActorContext<AgentActorState>,\n        request: ConversationSearchDateRequest,\n    )",
          "doc": "Handle \"conversation_search_date\" operation - search messages with date filter",
          "is_async": true
        },
        {
          "name": "handle_core_memory_replace",
          "kind": "function",
          "line": 813,
          "visibility": "private",
          "signature": "async fn handle_core_memory_replace(\n        &self,\n        ctx: &mut ActorContext<AgentActorState>,\n        request: CoreMemoryReplaceRequest,\n    )",
          "doc": "Handle \"core_memory_replace\" operation - replace content in a memory block",
          "is_async": true
        },
        {
          "name": "handle_get_block",
          "kind": "function",
          "line": 824,
          "visibility": "private",
          "signature": "async fn handle_get_block(\n        &self,\n        ctx: &ActorContext<AgentActorState>,\n        request: GetBlockRequest,\n    )",
          "doc": "Handle \"get_block\" operation - get a memory block by label",
          "is_async": true
        },
        {
          "name": "handle_list_messages",
          "kind": "function",
          "line": 834,
          "visibility": "private",
          "signature": "async fn handle_list_messages(\n        &self,\n        ctx: &ActorContext<AgentActorState>,\n        request: ListMessagesRequest,\n    )",
          "doc": "Handle \"list_messages\" operation - list messages with pagination",
          "is_async": true
        },
        {
          "name": "BlockUpdate",
          "kind": "struct",
          "line": 848,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "CoreMemoryAppend",
          "kind": "struct",
          "line": 855,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "HandleMessageFullRequest",
          "kind": "struct",
          "line": 867,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "CallContextInfo",
          "kind": "struct",
          "line": 880,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "HandleMessageFullResponse",
          "kind": "struct",
          "line": 889,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "HandleMessageResult",
          "kind": "enum",
          "line": 911,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "PendingToolCall",
          "kind": "struct",
          "line": 925,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AgentContinuation",
          "kind": "struct",
          "line": 933,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ContinueWithToolResultsRequest",
          "kind": "struct",
          "line": 953,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolResult",
          "kind": "struct",
          "line": 962,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "HandleMessageRequest",
          "kind": "struct",
          "line": 971,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "HandleMessageResponse",
          "kind": "struct",
          "line": 978,
          "visibility": "private",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ArchivalInsertRequest",
          "kind": "struct",
          "line": 989,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ArchivalInsertResponse",
          "kind": "struct",
          "line": 997,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ArchivalSearchRequest",
          "kind": "struct",
          "line": 1003,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_search_limit",
          "kind": "function",
          "line": 1009,
          "visibility": "private",
          "signature": "fn default_search_limit()"
        },
        {
          "name": "ArchivalSearchResponse",
          "kind": "struct",
          "line": 1015,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ArchivalDeleteRequest",
          "kind": "struct",
          "line": 1021,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ConversationSearchRequest",
          "kind": "struct",
          "line": 1027,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ConversationSearchResponse",
          "kind": "struct",
          "line": 1035,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ConversationSearchDateRequest",
          "kind": "struct",
          "line": 1041,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "CoreMemoryReplaceRequest",
          "kind": "struct",
          "line": 1053,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "GetBlockRequest",
          "kind": "struct",
          "line": 1061,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "GetBlockResponse",
          "kind": "struct",
          "line": 1067,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ListMessagesRequest",
          "kind": "struct",
          "line": 1073,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_messages_limit",
          "kind": "function",
          "line": 1080,
          "visibility": "private",
          "signature": "fn default_messages_limit()"
        },
        {
          "name": "ListMessagesResponse",
          "kind": "struct",
          "line": 1086,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Actor for AgentActor",
          "kind": "impl",
          "line": 1091,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "State",
          "kind": "type_alias",
          "line": 1092,
          "visibility": "private"
        },
        {
          "name": "invoke",
          "kind": "function",
          "line": 1094,
          "visibility": "private",
          "signature": "async fn invoke(\n        &self,\n        ctx: &mut ActorContext<Self::State>,\n        operation: &str,\n        payload: Bytes,\n    )",
          "is_async": true
        },
        {
          "name": "on_activate",
          "kind": "function",
          "line": 1291,
          "visibility": "private",
          "signature": "async fn on_activate(&self, ctx: &mut ActorContext<Self::State>)",
          "is_async": true
        },
        {
          "name": "on_deactivate",
          "kind": "function",
          "line": 1400,
          "visibility": "private",
          "signature": "async fn on_deactivate(&self, ctx: &mut ActorContext<Self::State>)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1453,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_extract_send_message_content_single",
          "kind": "function",
          "line": 1462,
          "visibility": "private",
          "signature": "async fn test_extract_send_message_content_single()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_extract_send_message_content_multiple",
          "kind": "function",
          "line": 1493,
          "visibility": "private",
          "signature": "async fn test_extract_send_message_content_multiple()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_extract_send_message_content_fallback",
          "kind": "function",
          "line": 1533,
          "visibility": "private",
          "signature": "async fn test_extract_send_message_content_fallback()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_extract_send_message_content_no_tools",
          "kind": "function",
          "line": 1564,
          "visibility": "private",
          "signature": "async fn test_extract_send_message_content_no_tools()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "MockLlm",
          "kind": "struct",
          "line": 1588,
          "visibility": "private",
          "doc": "Mock LLM for testing"
        },
        {
          "name": "LlmClient for MockLlm",
          "kind": "impl",
          "line": 1591,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        }
      ],
      "imports": [
        {
          "path": "super::llm_trait::LlmClient"
        },
        {
          "path": "super::llm_trait::LlmMessage"
        },
        {
          "path": "super::llm_trait::LlmToolCall"
        },
        {
          "path": "super::state::AgentActorState"
        },
        {
          "path": "crate::models::AgentState"
        },
        {
          "path": "crate::models::CreateAgentRequest"
        },
        {
          "path": "crate::models::LettaToolCall"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "crate::models::MessageRole"
        },
        {
          "path": "crate::models::ToolCall"
        },
        {
          "path": "crate::models::UpdateAgentRequest"
        },
        {
          "path": "crate::models::UsageStats"
        },
        {
          "path": "crate::security::audit::SharedAuditLog"
        },
        {
          "path": "crate::tools::parse_pause_signal"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::Actor"
        },
        {
          "path": "kelpie_core::actor::ActorContext"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::actor::llm_trait::LlmResponse"
        },
        {
          "path": "crate::actor::llm_trait::LlmToolCall"
        },
        {
          "path": "crate::tools::UnifiedToolRegistry"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::actor::NoOpKV"
        },
        {
          "path": "serde_json::json"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/actor/llm_trait.rs",
      "symbols": [
        {
          "name": "LlmMessage",
          "kind": "struct",
          "line": 13,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "serde::Serialize for LlmMessage",
          "kind": "impl",
          "line": 19,
          "visibility": "private"
        },
        {
          "name": "serialize",
          "kind": "function",
          "line": 20,
          "visibility": "private",
          "signature": "fn serialize<S>(&self, serializer: S)",
          "generic_params": [
            "S"
          ]
        },
        {
          "name": "serde::Deserialize<'de> for LlmMessage",
          "kind": "impl",
          "line": 32,
          "visibility": "private"
        },
        {
          "name": "deserialize",
          "kind": "function",
          "line": 33,
          "visibility": "private",
          "signature": "fn deserialize<D>(deserializer: D)",
          "generic_params": [
            "D"
          ]
        },
        {
          "name": "LlmResponse",
          "kind": "struct",
          "line": 52,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "LlmToolCall",
          "kind": "struct",
          "line": 62,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "StreamChunk",
          "kind": "enum",
          "line": 72,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "LlmClient",
          "kind": "trait",
          "line": 94,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "RealLlmAdapter",
          "kind": "struct",
          "line": 167,
          "visibility": "pub",
          "doc": "Adapter to use crate::llm::LlmClient with the actor LlmClient trait\n\nPhase 6.4: Enables production AppState to use real LLM with actor service"
        },
        {
          "name": "RealLlmAdapter",
          "kind": "impl",
          "line": 171,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 173,
          "visibility": "pub",
          "signature": "fn new(client: crate::llm::LlmClient)",
          "doc": "Create adapter from real LLM client"
        },
        {
          "name": "LlmClient for RealLlmAdapter",
          "kind": "impl",
          "line": 179,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "complete_with_tools",
          "kind": "function",
          "line": 180,
          "visibility": "private",
          "signature": "async fn complete_with_tools(\n        &self,\n        messages: Vec<LlmMessage>,\n        tools: Vec<crate::llm::ToolDefinition>,\n    )",
          "is_async": true
        },
        {
          "name": "continue_with_tool_result",
          "kind": "function",
          "line": 220,
          "visibility": "private",
          "signature": "async fn continue_with_tool_result(\n        &self,\n        messages: Vec<LlmMessage>,\n        tools: Vec<crate::llm::ToolDefinition>,\n        assistant_blocks: Vec<crate::llm::ContentBlock>,\n        tool_results: Vec<(String, String)>,\n    )",
          "is_async": true
        },
        {
          "name": "stream_complete",
          "kind": "function",
          "line": 264,
          "visibility": "private",
          "signature": "async fn stream_complete(\n        &self,\n        messages: Vec<LlmMessage>,\n    )",
          "doc": "Stream complete with real LLM streaming (Phase 7.8 REDO - TRUE DST)\n\nUses crate::llm::LlmClient.stream_complete_with_tools() for true token streaming.\nTested with HTTP mocking and fault injection.",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "futures::stream::Stream"
        },
        {
          "path": "futures::stream::StreamExt"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::pin::Pin"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/actor/registry_actor.rs",
      "symbols": [
        {
          "name": "RegistryActor",
          "kind": "struct",
          "line": 33,
          "visibility": "pub",
          "attributes": [
            "derive(Clone)"
          ]
        },
        {
          "name": "RegistryActor",
          "kind": "impl",
          "line": 38,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 40,
          "visibility": "pub",
          "signature": "fn new(storage: Arc<dyn AgentStorage>)",
          "doc": "Create a new RegistryActor with storage backend"
        },
        {
          "name": "handle_register",
          "kind": "function",
          "line": 45,
          "visibility": "private",
          "signature": "async fn handle_register(\n        &self,\n        ctx: &mut ActorContext<RegistryActorState>,\n        request: RegisterRequest,\n    )",
          "doc": "Handle \"register\" operation - register agent metadata",
          "is_async": true
        },
        {
          "name": "handle_unregister",
          "kind": "function",
          "line": 85,
          "visibility": "private",
          "signature": "async fn handle_unregister(\n        &self,\n        ctx: &mut ActorContext<RegistryActorState>,\n        request: UnregisterRequest,\n    )",
          "doc": "Handle \"unregister\" operation - remove agent from registry",
          "is_async": true
        },
        {
          "name": "handle_list",
          "kind": "function",
          "line": 118,
          "visibility": "private",
          "signature": "async fn handle_list(\n        &self,\n        _ctx: &ActorContext<RegistryActorState>,\n        _request: ListRequest,\n    )",
          "doc": "Handle \"list\" operation - list all registered agents",
          "is_async": true
        },
        {
          "name": "handle_get",
          "kind": "function",
          "line": 138,
          "visibility": "private",
          "signature": "async fn handle_get(\n        &self,\n        _ctx: &ActorContext<RegistryActorState>,\n        request: GetRequest,\n    )",
          "doc": "Handle \"get\" operation - get specific agent metadata",
          "is_async": true
        },
        {
          "name": "Actor for RegistryActor",
          "kind": "impl",
          "line": 164,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "State",
          "kind": "type_alias",
          "line": 165,
          "visibility": "private"
        },
        {
          "name": "invoke",
          "kind": "function",
          "line": 167,
          "visibility": "private",
          "signature": "async fn invoke(\n        &self,\n        ctx: &mut ActorContext<Self::State>,\n        operation: &str,\n        payload: Bytes,\n    )",
          "is_async": true
        },
        {
          "name": "on_activate",
          "kind": "function",
          "line": 229,
          "visibility": "private",
          "signature": "async fn on_activate(&self, _ctx: &mut ActorContext<Self::State>)",
          "is_async": true
        },
        {
          "name": "on_deactivate",
          "kind": "function",
          "line": 234,
          "visibility": "private",
          "signature": "async fn on_deactivate(&self, ctx: &mut ActorContext<Self::State>)",
          "is_async": true
        },
        {
          "name": "RegistryActorState",
          "kind": "struct",
          "line": 251,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize, Default)"
          ]
        },
        {
          "name": "RegisterRequest",
          "kind": "struct",
          "line": 264,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "RegisterResponse",
          "kind": "struct",
          "line": 271,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UnregisterRequest",
          "kind": "struct",
          "line": 280,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UnregisterResponse",
          "kind": "struct",
          "line": 287,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ListRequest",
          "kind": "struct",
          "line": 294,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ListResponse",
          "kind": "struct",
          "line": 302,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "GetRequest",
          "kind": "struct",
          "line": 309,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "GetResponse",
          "kind": "struct",
          "line": 316,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 322,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_test_metadata",
          "kind": "function",
          "line": 329,
          "visibility": "private",
          "signature": "fn create_test_metadata(id: &str, name: &str)"
        },
        {
          "name": "test_registry_register_agent",
          "kind": "function",
          "line": 334,
          "visibility": "private",
          "signature": "async fn test_registry_register_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_list_agents",
          "kind": "function",
          "line": 360,
          "visibility": "private",
          "signature": "async fn test_registry_list_agents()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_get_agent",
          "kind": "function",
          "line": 402,
          "visibility": "private",
          "signature": "async fn test_registry_get_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_unregister_agent",
          "kind": "function",
          "line": 437,
          "visibility": "private",
          "signature": "async fn test_registry_unregister_agent()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::storage::AgentMetadata"
        },
        {
          "path": "crate::storage::AgentStorage"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::Actor"
        },
        {
          "path": "kelpie_core::actor::ActorContext"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::models::AgentType"
        },
        {
          "path": "crate::storage::KvAdapter"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_storage::MemoryKV"
        },
        {
          "path": "kelpie_storage::ScopedKV"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/actor/mod.rs",
      "symbols": [
        {
          "name": "agent_actor",
          "kind": "mod",
          "line": 6,
          "visibility": "pub"
        },
        {
          "name": "dispatcher_adapter",
          "kind": "mod",
          "line": 7,
          "visibility": "pub"
        },
        {
          "name": "llm_trait",
          "kind": "mod",
          "line": 8,
          "visibility": "pub"
        },
        {
          "name": "registry_actor",
          "kind": "mod",
          "line": 9,
          "visibility": "pub"
        },
        {
          "name": "state",
          "kind": "mod",
          "line": 10,
          "visibility": "pub"
        }
      ],
      "imports": [
        {
          "path": "agent_actor::AgentActor"
        },
        {
          "path": "agent_actor::AgentContinuation"
        },
        {
          "path": "agent_actor::ArchivalDeleteRequest"
        },
        {
          "path": "agent_actor::ArchivalInsertRequest"
        },
        {
          "path": "agent_actor::ArchivalInsertResponse"
        },
        {
          "path": "agent_actor::ArchivalSearchRequest"
        },
        {
          "path": "agent_actor::ArchivalSearchResponse"
        },
        {
          "path": "agent_actor::CallContextInfo"
        },
        {
          "path": "agent_actor::ContinueWithToolResultsRequest"
        },
        {
          "path": "agent_actor::ConversationSearchDateRequest"
        },
        {
          "path": "agent_actor::ConversationSearchRequest"
        },
        {
          "path": "agent_actor::ConversationSearchResponse"
        },
        {
          "path": "agent_actor::CoreMemoryReplaceRequest"
        },
        {
          "path": "agent_actor::GetBlockRequest"
        },
        {
          "path": "agent_actor::GetBlockResponse"
        },
        {
          "path": "agent_actor::HandleMessageFullRequest"
        },
        {
          "path": "agent_actor::HandleMessageFullResponse"
        },
        {
          "path": "agent_actor::HandleMessageResult"
        },
        {
          "path": "agent_actor::ListMessagesRequest"
        },
        {
          "path": "agent_actor::ListMessagesResponse"
        },
        {
          "path": "agent_actor::PendingToolCall"
        },
        {
          "path": "agent_actor::ToolResult"
        },
        {
          "path": "dispatcher_adapter::DispatcherAdapter"
        },
        {
          "path": "dispatcher_adapter::AGENT_ACTOR_NAMESPACE"
        },
        {
          "path": "llm_trait::LlmClient"
        },
        {
          "path": "llm_trait::LlmMessage"
        },
        {
          "path": "llm_trait::LlmResponse"
        },
        {
          "path": "llm_trait::LlmToolCall"
        },
        {
          "path": "llm_trait::RealLlmAdapter"
        },
        {
          "path": "llm_trait::StreamChunk"
        },
        {
          "path": "registry_actor::GetRequest"
        },
        {
          "path": "registry_actor::GetResponse"
        },
        {
          "path": "registry_actor::ListRequest"
        },
        {
          "path": "registry_actor::ListResponse"
        },
        {
          "path": "registry_actor::RegisterRequest"
        },
        {
          "path": "registry_actor::RegisterResponse"
        },
        {
          "path": "registry_actor::RegistryActor"
        },
        {
          "path": "registry_actor::RegistryActorState"
        },
        {
          "path": "registry_actor::UnregisterRequest"
        },
        {
          "path": "registry_actor::UnregisterResponse"
        },
        {
          "path": "state::AgentActorState"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/actor/state.rs",
      "symbols": [
        {
          "name": "MAX_MESSAGES_DEFAULT",
          "kind": "const",
          "line": 11,
          "visibility": "private",
          "signature": "const MAX_MESSAGES_DEFAULT: usize",
          "doc": "Maximum messages to keep in memory (Phase 6.7)"
        },
        {
          "name": "MAX_ARCHIVAL_ENTRIES_DEFAULT",
          "kind": "const",
          "line": 14,
          "visibility": "private",
          "signature": "const MAX_ARCHIVAL_ENTRIES_DEFAULT: usize",
          "doc": "Maximum archival entries per agent"
        },
        {
          "name": "AgentActorState",
          "kind": "struct",
          "line": 23,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "default_max_messages",
          "kind": "function",
          "line": 59,
          "visibility": "private",
          "signature": "fn default_max_messages()"
        },
        {
          "name": "Default for AgentActorState",
          "kind": "impl",
          "line": 63,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 64,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "AgentActorState",
          "kind": "impl",
          "line": 78,
          "visibility": "private"
        },
        {
          "name": "from_agent",
          "kind": "function",
          "line": 80,
          "visibility": "pub",
          "signature": "fn from_agent(agent: AgentState)",
          "doc": "Create a new AgentActorState from AgentState"
        },
        {
          "name": "agent",
          "kind": "function",
          "line": 96,
          "visibility": "pub",
          "signature": "fn agent(&self)",
          "doc": "Get a reference to the agent state\n\nReturns None if agent hasn't been created yet."
        },
        {
          "name": "agent_mut",
          "kind": "function",
          "line": 101,
          "visibility": "pub",
          "signature": "fn agent_mut(&mut self)",
          "doc": "Get a mutable reference to the agent state"
        },
        {
          "name": "get_block",
          "kind": "function",
          "line": 106,
          "visibility": "pub",
          "signature": "fn get_block(&self, label: &str)",
          "doc": "Get a block by label"
        },
        {
          "name": "update_block",
          "kind": "function",
          "line": 115,
          "visibility": "pub",
          "signature": "fn update_block<F>(&mut self, label: &str, f: F)",
          "doc": "Update a block by label",
          "generic_params": [
            "F"
          ]
        },
        {
          "name": "create_block",
          "kind": "function",
          "line": 131,
          "visibility": "pub",
          "signature": "fn create_block(&mut self, label: &str, content: &str)",
          "doc": "Create a new block with the given label and initial content\n\nUsed when core_memory_append needs to create a block that doesn't exist."
        },
        {
          "name": "add_message",
          "kind": "function",
          "line": 157,
          "visibility": "pub",
          "signature": "fn add_message(&mut self, message: Message)",
          "doc": "Add message to history (Phase 6.7)\n\nAutomatically truncates to max_messages to prevent memory bloat.\n\n# Arguments\n* `message` - Message to add to history\n\n# TigerStyle\n- Explicit truncation with assertion\n- Clear size limit documented"
        },
        {
          "name": "recent_messages",
          "kind": "function",
          "line": 182,
          "visibility": "pub",
          "signature": "fn recent_messages(&self, limit: usize)",
          "doc": "Get recent messages (Phase 6.7)\n\nReturns the last N messages, or all messages if fewer than N.\n\n# Arguments\n* `limit` - Maximum number of messages to return\n\n# Returns\nSlice of most recent messages (up to limit)"
        },
        {
          "name": "all_messages",
          "kind": "function",
          "line": 188,
          "visibility": "pub",
          "signature": "fn all_messages(&self)",
          "doc": "Get all messages in history (Phase 6.7)"
        },
        {
          "name": "clear_messages",
          "kind": "function",
          "line": 193,
          "visibility": "pub",
          "signature": "fn clear_messages(&mut self)",
          "doc": "Clear message history (Phase 6.7)"
        },
        {
          "name": "add_archival_entry",
          "kind": "function",
          "line": 213,
          "visibility": "pub",
          "signature": "fn add_archival_entry(\n        &mut self,\n        content: String,\n        metadata: Option<serde_json::Value>,\n    )",
          "doc": "Add an entry to archival memory\n\n# Arguments\n* `content` - The content to store\n* `metadata` - Optional metadata for the entry\n\n# Returns\nThe created ArchivalEntry with generated ID\n\n# TigerStyle\n- Explicit limit enforcement\n- Clear postcondition assertion"
        },
        {
          "name": "search_archival",
          "kind": "function",
          "line": 253,
          "visibility": "pub",
          "signature": "fn search_archival(&self, query: Option<&str>, limit: usize)",
          "doc": "Search archival memory by text query\n\n# Arguments\n* `query` - Optional text to search for (case-insensitive)\n* `limit` - Maximum number of results to return\n\n# Returns\nMatching archival entries"
        },
        {
          "name": "get_archival_entry",
          "kind": "function",
          "line": 276,
          "visibility": "pub",
          "signature": "fn get_archival_entry(&self, entry_id: &str)",
          "doc": "Get a specific archival entry by ID\n\n# Arguments\n* `entry_id` - The ID of the entry to retrieve\n\n# Returns\nThe entry if found, None otherwise"
        },
        {
          "name": "delete_archival_entry",
          "kind": "function",
          "line": 287,
          "visibility": "pub",
          "signature": "fn delete_archival_entry(&mut self, entry_id: &str)",
          "doc": "Delete an archival entry by ID\n\n# Arguments\n* `entry_id` - The ID of the entry to delete\n\n# Returns\nOk(()) if deleted, Err if not found"
        },
        {
          "name": "search_messages",
          "kind": "function",
          "line": 310,
          "visibility": "pub",
          "signature": "fn search_messages(&self, query: &str, limit: usize)",
          "doc": "Search messages by text query\n\n# Arguments\n* `query` - Text to search for (case-insensitive)\n* `limit` - Maximum number of results to return\n\n# Returns\nMatching messages"
        },
        {
          "name": "search_messages_with_date",
          "kind": "function",
          "line": 330,
          "visibility": "pub",
          "signature": "fn search_messages_with_date(\n        &self,\n        query: &str,\n        start_date: Option<DateTime<Utc>>,\n        end_date: Option<DateTime<Utc>>,\n        limit: usize,\n    )",
          "doc": "Search messages by text query with date filter\n\n# Arguments\n* `query` - Text to search for (case-insensitive)\n* `start_date` - Optional start date filter (inclusive)\n* `end_date` - Optional end date filter (inclusive)\n* `limit` - Maximum number of results to return\n\n# Returns\nMatching messages within date range"
        },
        {
          "name": "list_messages_paginated",
          "kind": "function",
          "line": 363,
          "visibility": "pub",
          "signature": "fn list_messages_paginated(&self, limit: usize, before: Option<&str>)",
          "doc": "List messages with pagination\n\n# Arguments\n* `limit` - Maximum number of messages to return\n* `before` - Optional message ID to return messages before\n\n# Returns\nMessages (most recent first, up to limit)"
        },
        {
          "name": "replace_block_content",
          "kind": "function",
          "line": 386,
          "visibility": "pub",
          "signature": "fn replace_block_content(\n        &mut self,\n        label: &str,\n        old_content: &str,\n        new_content: &str,\n    )",
          "doc": "Replace content in a memory block\n\n# Arguments\n* `label` - Block label\n* `old_content` - Content to find\n* `new_content` - Replacement content\n\n# Returns\nOk(()) if replaced, Err if block not found or old_content not found"
        }
      ],
      "imports": [
        {
          "path": "crate::models::AgentState"
        },
        {
          "path": "crate::models::ArchivalEntry"
        },
        {
          "path": "crate::models::Block"
        },
        {
          "path": "crate::models::Message"
        },
        {
          "path": "chrono::DateTime"
        },
        {
          "path": "chrono::Utc"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "uuid::Uuid"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-server/src/actor/dispatcher_adapter.rs",
      "symbols": [
        {
          "name": "AGENT_ACTOR_NAMESPACE",
          "kind": "const",
          "line": 27,
          "visibility": "pub",
          "signature": "const AGENT_ACTOR_NAMESPACE: &str",
          "doc": "Namespace for agent actors\nTigerStyle: Explicit constant for agent actor namespace"
        },
        {
          "name": "DispatcherAdapter",
          "kind": "struct",
          "line": 37,
          "visibility": "pub",
          "doc": "Adapter that implements AgentDispatcher using a DispatcherHandle\n\nTigerStyle: Adapter pattern for clean separation of concerns.\nThe tools module doesn't need to know about the runtime's dispatcher implementation.",
          "generic_params": [
            "R"
          ]
        },
        {
          "name": "DispatcherAdapter<R>",
          "kind": "impl",
          "line": 41,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 45,
          "visibility": "pub",
          "signature": "fn new(dispatcher: DispatcherHandle<R>)",
          "doc": "Create a new dispatcher adapter\n\nTigerStyle: 2+ assertions per function"
        },
        {
          "name": "Clone for DispatcherAdapter<R>",
          "kind": "impl",
          "line": 53,
          "visibility": "private"
        },
        {
          "name": "clone",
          "kind": "function",
          "line": 54,
          "visibility": "private",
          "signature": "fn clone(&self)"
        },
        {
          "name": "AgentDispatcher for DispatcherAdapter<R>",
          "kind": "impl",
          "line": 62,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "invoke_agent",
          "kind": "function",
          "line": 77,
          "visibility": "private",
          "signature": "async fn invoke_agent(\n        &self,\n        agent_id: &str,\n        operation: &str,\n        payload: Bytes,\n        timeout_ms: u64,\n    )",
          "doc": "Invoke another agent by ID\n\nTigerStyle: 2+ assertions, explicit error handling.\n\n# Arguments\n* `agent_id` - The ID of the agent to invoke (e.g., \"helper-agent\")\n* `operation` - The operation to invoke (e.g., \"handle_message_full\")\n* `payload` - The payload bytes (serialized request)\n* `timeout_ms` - Timeout in milliseconds\n\n# Returns\nThe response bytes from the target agent",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 127,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::tools::AgentDispatcher"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "bytes::Bytes"
        },
        {
          "path": "kelpie_core::actor::ActorId"
        },
        {
          "path": "kelpie_core::Error"
        },
        {
          "path": "kelpie_core::Result"
        },
        {
          "path": "kelpie_runtime::DispatcherHandle"
        },
        {
          "path": "std::time::Duration"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/registry.rs",
      "symbols": [
        {
          "name": "REGISTRY_TOOLS_COUNT_MAX",
          "kind": "const",
          "line": 16,
          "visibility": "pub",
          "signature": "const REGISTRY_TOOLS_COUNT_MAX: usize",
          "doc": "Maximum number of tools in a registry"
        },
        {
          "name": "ToolRegistry",
          "kind": "struct",
          "line": 26,
          "visibility": "pub",
          "doc": "Tool registry for managing available tools\n\nProvides:\n- Tool registration and discovery\n- Tool execution with timeout handling\n- Statistics tracking\n\nDST-Compliant: Uses TimeProvider for deterministic timing in tests."
        },
        {
          "name": "RegistryStats",
          "kind": "struct",
          "line": 37,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default)"
          ]
        },
        {
          "name": "ToolRegistry",
          "kind": "impl",
          "line": 50,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new empty registry with wall clock time (production default)"
        },
        {
          "name": "with_time_provider",
          "kind": "function",
          "line": 57,
          "visibility": "pub",
          "signature": "fn with_time_provider(time_provider: Arc<dyn TimeProvider>)",
          "doc": "Create a new registry with custom TimeProvider (for DST)"
        },
        {
          "name": "register",
          "kind": "function",
          "line": 66,
          "visibility": "pub",
          "signature": "async fn register<T>(&self, tool: T)",
          "doc": "Register a tool",
          "is_async": true,
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "register_boxed",
          "kind": "function",
          "line": 90,
          "visibility": "pub",
          "signature": "async fn register_boxed(&self, tool: DynTool)",
          "doc": "Register a boxed tool",
          "is_async": true
        },
        {
          "name": "unregister",
          "kind": "function",
          "line": 114,
          "visibility": "pub",
          "signature": "async fn unregister(&self, name: &str)",
          "doc": "Unregister a tool",
          "is_async": true
        },
        {
          "name": "get",
          "kind": "function",
          "line": 128,
          "visibility": "pub",
          "signature": "async fn get(&self, name: &str)",
          "doc": "Get a tool by name",
          "is_async": true
        },
        {
          "name": "contains",
          "kind": "function",
          "line": 134,
          "visibility": "pub",
          "signature": "async fn contains(&self, name: &str)",
          "doc": "Check if a tool exists",
          "is_async": true
        },
        {
          "name": "list_names",
          "kind": "function",
          "line": 140,
          "visibility": "pub",
          "signature": "async fn list_names(&self)",
          "doc": "List all registered tool names",
          "is_async": true
        },
        {
          "name": "list_metadata",
          "kind": "function",
          "line": 146,
          "visibility": "pub",
          "signature": "async fn list_metadata(&self)",
          "doc": "List all tool metadata",
          "is_async": true
        },
        {
          "name": "count",
          "kind": "function",
          "line": 152,
          "visibility": "pub",
          "signature": "async fn count(&self)",
          "doc": "Get tool count",
          "is_async": true
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 158,
          "visibility": "pub",
          "signature": "async fn execute(&self, name: &str, input: ToolInput)",
          "doc": "Execute a tool by name",
          "is_async": true
        },
        {
          "name": "stats",
          "kind": "function",
          "line": 224,
          "visibility": "pub",
          "signature": "async fn stats(&self)",
          "doc": "Get registry statistics",
          "is_async": true
        },
        {
          "name": "reset_stats",
          "kind": "function",
          "line": 230,
          "visibility": "pub",
          "signature": "async fn reset_stats(&self)",
          "doc": "Reset statistics",
          "is_async": true
        },
        {
          "name": "clear",
          "kind": "function",
          "line": 236,
          "visibility": "pub",
          "signature": "async fn clear(&self)",
          "doc": "Clear all tools from the registry",
          "is_async": true
        },
        {
          "name": "Default for ToolRegistry",
          "kind": "impl",
          "line": 243,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 244,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 250,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "EchoTool",
          "kind": "struct",
          "line": 256,
          "visibility": "private"
        },
        {
          "name": "EchoTool",
          "kind": "impl",
          "line": 260,
          "visibility": "private"
        },
        {
          "name": "Tool for EchoTool",
          "kind": "impl",
          "line": 270,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "SlowTool",
          "kind": "struct",
          "line": 285,
          "visibility": "private"
        },
        {
          "name": "SlowTool",
          "kind": "impl",
          "line": 289,
          "visibility": "private"
        },
        {
          "name": "Tool for SlowTool",
          "kind": "impl",
          "line": 299,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "test_registry_register",
          "kind": "function",
          "line": 312,
          "visibility": "private",
          "signature": "async fn test_registry_register()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_register_duplicate",
          "kind": "function",
          "line": 321,
          "visibility": "private",
          "signature": "async fn test_registry_register_duplicate()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_unregister",
          "kind": "function",
          "line": 330,
          "visibility": "private",
          "signature": "async fn test_registry_unregister()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_execute",
          "kind": "function",
          "line": 339,
          "visibility": "private",
          "signature": "async fn test_registry_execute()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_execute_not_found",
          "kind": "function",
          "line": 351,
          "visibility": "private",
          "signature": "async fn test_registry_execute_not_found()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_execute_timeout",
          "kind": "function",
          "line": 361,
          "visibility": "private",
          "signature": "async fn test_registry_execute_timeout()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_list_metadata",
          "kind": "function",
          "line": 372,
          "visibility": "private",
          "signature": "async fn test_registry_list_metadata()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_stats",
          "kind": "function",
          "line": 382,
          "visibility": "private",
          "signature": "async fn test_registry_stats()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_registry_clear",
          "kind": "function",
          "line": 395,
          "visibility": "private",
          "signature": "async fn test_registry_clear()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ToolError"
        },
        {
          "path": "crate::error::ToolResult"
        },
        {
          "path": "crate::traits::DynTool"
        },
        {
          "path": "crate::traits::Tool"
        },
        {
          "path": "crate::traits::ToolInput"
        },
        {
          "path": "crate::traits::ToolMetadata"
        },
        {
          "path": "crate::traits::ToolOutput"
        },
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "crate::traits::ToolParam"
        },
        {
          "path": "async_trait::async_trait"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/error.rs",
      "symbols": [
        {
          "name": "ToolResult",
          "kind": "type_alias",
          "line": 8,
          "visibility": "pub",
          "doc": "Result type for tool operations"
        },
        {
          "name": "ToolError",
          "kind": "enum",
          "line": 12,
          "visibility": "pub",
          "attributes": [
            "derive(Error, Debug)"
          ]
        },
        {
          "name": "From<ToolError> for kelpie_core::error::Error",
          "kind": "impl",
          "line": 81,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 82,
          "visibility": "private",
          "signature": "fn from(err: ToolError)"
        },
        {
          "name": "From<kelpie_sandbox::SandboxError> for ToolError",
          "kind": "impl",
          "line": 89,
          "visibility": "private"
        },
        {
          "name": "from",
          "kind": "function",
          "line": 90,
          "visibility": "private",
          "signature": "fn from(err: kelpie_sandbox::SandboxError)"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 99,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_error_display",
          "kind": "function",
          "line": 103,
          "visibility": "private",
          "signature": "fn test_error_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_missing_parameter_display",
          "kind": "function",
          "line": 111,
          "visibility": "private",
          "signature": "fn test_missing_parameter_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_execution_timeout_display",
          "kind": "function",
          "line": 122,
          "visibility": "private",
          "signature": "fn test_execution_timeout_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "thiserror::Error"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/lib.rs",
      "symbols": [
        {
          "name": "builtin",
          "kind": "mod",
          "line": 29,
          "visibility": "private"
        },
        {
          "name": "error",
          "kind": "mod",
          "line": 30,
          "visibility": "private"
        },
        {
          "name": "http_client",
          "kind": "mod",
          "line": 31,
          "visibility": "pub"
        },
        {
          "name": "http_tool",
          "kind": "mod",
          "line": 32,
          "visibility": "pub"
        },
        {
          "name": "mcp",
          "kind": "mod",
          "line": 33,
          "visibility": "pub"
        },
        {
          "name": "registry",
          "kind": "mod",
          "line": 34,
          "visibility": "private"
        },
        {
          "name": "sim",
          "kind": "mod",
          "line": 36,
          "visibility": "pub",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "traits",
          "kind": "mod",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 59,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_tools_module_compiles",
          "kind": "function",
          "line": 63,
          "visibility": "private",
          "signature": "fn test_tools_module_compiles()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "builtin::FilesystemTool"
        },
        {
          "path": "builtin::GitTool"
        },
        {
          "path": "builtin::ShellTool"
        },
        {
          "path": "error::ToolError"
        },
        {
          "path": "error::ToolResult"
        },
        {
          "path": "http_client::default_http_client"
        },
        {
          "path": "http_client::HttpClient"
        },
        {
          "path": "http_client::HttpError"
        },
        {
          "path": "http_client::HttpRequest"
        },
        {
          "path": "http_client::HttpResponse"
        },
        {
          "path": "http_client::HttpResult"
        },
        {
          "path": "http_client::ReqwestHttpClient"
        },
        {
          "path": "http_client::HTTP_CLIENT_RESPONSE_BYTES_MAX"
        },
        {
          "path": "http_client::HTTP_CLIENT_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "http_tool::HttpMethod"
        },
        {
          "path": "http_tool::HttpTool"
        },
        {
          "path": "http_tool::HttpToolDefinition"
        },
        {
          "path": "mcp::extract_tool_output"
        },
        {
          "path": "mcp::McpClient"
        },
        {
          "path": "mcp::McpConfig"
        },
        {
          "path": "mcp::McpTool"
        },
        {
          "path": "mcp::McpToolDefinition"
        },
        {
          "path": "mcp::ReconnectConfig"
        },
        {
          "path": "mcp::MCP_HEALTH_CHECK_INTERVAL_MS"
        },
        {
          "path": "mcp::MCP_RECONNECT_ATTEMPTS_MAX"
        },
        {
          "path": "mcp::MCP_RECONNECT_BACKOFF_MULTIPLIER"
        },
        {
          "path": "mcp::MCP_RECONNECT_DELAY_MS_INITIAL"
        },
        {
          "path": "mcp::MCP_RECONNECT_DELAY_MS_MAX"
        },
        {
          "path": "mcp::MCP_SSE_SHUTDOWN_TIMEOUT_MS"
        },
        {
          "path": "registry::ToolRegistry"
        },
        {
          "path": "sim::create_test_tools"
        },
        {
          "path": "sim::ConnectionState"
        },
        {
          "path": "sim::SimMcpClient"
        },
        {
          "path": "sim::SimMcpEnvironment"
        },
        {
          "path": "sim::SimMcpServerConfig"
        },
        {
          "path": "traits::Tool"
        },
        {
          "path": "traits::ToolCapability"
        },
        {
          "path": "traits::ToolInput"
        },
        {
          "path": "traits::ToolMetadata"
        },
        {
          "path": "traits::ToolOutput"
        },
        {
          "path": "traits::ToolParam"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/http_client.rs",
      "symbols": [
        {
          "name": "ReqwestHttpClient",
          "kind": "struct",
          "line": 43,
          "visibility": "pub",
          "doc": "Production HTTP client using reqwest"
        },
        {
          "name": "ReqwestHttpClient",
          "kind": "impl",
          "line": 47,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 49,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new reqwest HTTP client"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 59,
          "visibility": "pub",
          "signature": "fn with_timeout(timeout: Duration)",
          "doc": "Create with custom timeout"
        },
        {
          "name": "Default for ReqwestHttpClient",
          "kind": "impl",
          "line": 69,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 70,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "HttpClient for ReqwestHttpClient",
          "kind": "impl",
          "line": 76,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 77,
          "visibility": "private",
          "signature": "async fn execute(&self, request: HttpRequest)",
          "is_async": true
        },
        {
          "name": "default_http_client",
          "kind": "function",
          "line": 156,
          "visibility": "pub",
          "signature": "fn default_http_client()",
          "doc": "Create the default HTTP client for production use"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 161,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_http_request_builder",
          "kind": "function",
          "line": 165,
          "visibility": "private",
          "signature": "fn test_http_request_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_response",
          "kind": "function",
          "line": 180,
          "visibility": "private",
          "signature": "fn test_http_response()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_response_not_success",
          "kind": "function",
          "line": 191,
          "visibility": "private",
          "signature": "fn test_http_response_not_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_method_display",
          "kind": "function",
          "line": 197,
          "visibility": "private",
          "signature": "fn test_http_method_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "kelpie_core::http::HttpClient"
        },
        {
          "path": "kelpie_core::http::HttpError"
        },
        {
          "path": "kelpie_core::http::HttpMethod"
        },
        {
          "path": "kelpie_core::http::HttpRequest"
        },
        {
          "path": "kelpie_core::http::HttpResponse"
        },
        {
          "path": "kelpie_core::http::HttpResult"
        },
        {
          "path": "kelpie_core::http::HTTP_CLIENT_RESPONSE_BYTES_MAX"
        },
        {
          "path": "kelpie_core::http::HTTP_CLIENT_TIMEOUT_MS_DEFAULT"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/sim.rs",
      "symbols": [
        {
          "name": "SimMcpServerConfig",
          "kind": "struct",
          "line": 16,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "SimMcpServerConfig",
          "kind": "impl",
          "line": 25,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 27,
          "visibility": "pub",
          "signature": "fn new(name: impl Into<String>)",
          "doc": "Create a new simulated MCP server config"
        },
        {
          "name": "with_tool",
          "kind": "function",
          "line": 36,
          "visibility": "pub",
          "signature": "fn with_tool(mut self, tool: McpToolDefinition)",
          "doc": "Add a tool to this server"
        },
        {
          "name": "online",
          "kind": "function",
          "line": 42,
          "visibility": "pub",
          "signature": "fn online(mut self, online: bool)",
          "doc": "Set online status"
        },
        {
          "name": "SimMcpClient",
          "kind": "struct",
          "line": 54,
          "visibility": "pub",
          "doc": "Simulated MCP client for deterministic testing\n\nThis provides a fully deterministic MCP client that:\n- Returns predetermined tool definitions\n- Uses a deterministic RNG for any randomness\n- Integrates with the DST fault injector"
        },
        {
          "name": "ConnectionState",
          "kind": "enum",
          "line": 72,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "SimMcpClient",
          "kind": "impl",
          "line": 79,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 85,
          "visibility": "pub",
          "signature": "fn new(fault_injector: Arc<FaultInjector>, rng: DeterministicRng)",
          "doc": "Create a new simulated MCP client\n\n# Arguments\n* `fault_injector` - The DST fault injector for simulating failures\n* `rng` - Deterministic RNG for reproducible behavior"
        },
        {
          "name": "register_server",
          "kind": "function",
          "line": 97,
          "visibility": "pub",
          "signature": "fn register_server(&mut self, config: SimMcpServerConfig)",
          "doc": "Register a simulated MCP server"
        },
        {
          "name": "connect",
          "kind": "function",
          "line": 113,
          "visibility": "pub",
          "signature": "async fn connect(&self, server_name: &str)",
          "doc": "Connect to a simulated server",
          "is_async": true
        },
        {
          "name": "disconnect",
          "kind": "function",
          "line": 178,
          "visibility": "pub",
          "signature": "async fn disconnect(&self, server_name: &str)",
          "doc": "Disconnect from a simulated server",
          "is_async": true
        },
        {
          "name": "is_connected",
          "kind": "function",
          "line": 184,
          "visibility": "pub",
          "signature": "async fn is_connected(&self, server_name: &str)",
          "doc": "Check if connected to a server",
          "is_async": true
        },
        {
          "name": "discover_tools",
          "kind": "function",
          "line": 190,
          "visibility": "pub",
          "signature": "async fn discover_tools(&self, server_name: &str)",
          "doc": "Discover tools from a server",
          "is_async": true
        },
        {
          "name": "discover_all_tools",
          "kind": "function",
          "line": 231,
          "visibility": "pub",
          "signature": "async fn discover_all_tools(&self)",
          "doc": "Discover all tools from all connected servers",
          "is_async": true
        },
        {
          "name": "execute_tool",
          "kind": "function",
          "line": 254,
          "visibility": "pub",
          "signature": "async fn execute_tool(&self, tool_name: &str, arguments: Value)",
          "doc": "Execute a tool",
          "is_async": true
        },
        {
          "name": "simulate_tool_execution",
          "kind": "function",
          "line": 313,
          "visibility": "private",
          "signature": "async fn simulate_tool_execution(&self, tool_name: &str, arguments: &Value)",
          "doc": "Simulate tool execution with deterministic results",
          "is_async": true
        },
        {
          "name": "servers",
          "kind": "function",
          "line": 326,
          "visibility": "pub",
          "signature": "fn servers(&self)",
          "doc": "Get all registered servers"
        },
        {
          "name": "connection_state",
          "kind": "function",
          "line": 331,
          "visibility": "pub",
          "signature": "async fn connection_state(&self, server_name: &str)",
          "doc": "Get connection state for a server",
          "is_async": true
        },
        {
          "name": "SimMcpEnvironment",
          "kind": "struct",
          "line": 341,
          "visibility": "pub",
          "doc": "Builder for creating simulated MCP environments"
        },
        {
          "name": "SimMcpEnvironment",
          "kind": "impl",
          "line": 345,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 347,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new simulated MCP environment"
        },
        {
          "name": "with_server",
          "kind": "function",
          "line": 354,
          "visibility": "pub",
          "signature": "fn with_server(mut self, config: SimMcpServerConfig)",
          "doc": "Add a simulated server"
        },
        {
          "name": "build",
          "kind": "function",
          "line": 360,
          "visibility": "pub",
          "signature": "fn build(self, fault_injector: Arc<FaultInjector>, rng: DeterministicRng)",
          "doc": "Build the simulated MCP client"
        },
        {
          "name": "Default for SimMcpEnvironment",
          "kind": "impl",
          "line": 369,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 370,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "create_test_tools",
          "kind": "function",
          "line": 376,
          "visibility": "pub",
          "signature": "fn create_test_tools()",
          "doc": "Create a standard set of simulated MCP tools for testing"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 417,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_sim_mcp_client_basic",
          "kind": "function",
          "line": 422,
          "visibility": "private",
          "signature": "async fn test_sim_mcp_client_basic()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_mcp_client_with_faults",
          "kind": "function",
          "line": 455,
          "visibility": "private",
          "signature": "async fn test_sim_mcp_client_with_faults()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_sim_mcp_environment_builder",
          "kind": "function",
          "line": 478,
          "visibility": "private",
          "signature": "async fn test_sim_mcp_environment_builder()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::mcp::McpToolDefinition"
        },
        {
          "path": "ToolError"
        },
        {
          "path": "ToolResult"
        },
        {
          "path": "kelpie_dst::fault::FaultInjector"
        },
        {
          "path": "kelpie_dst::fault::FaultType"
        },
        {
          "path": "kelpie_dst::rng::DeterministicRng"
        },
        {
          "path": "serde_json::json"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_dst::fault::FaultConfig"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/traits.rs",
      "symbols": [
        {
          "name": "TOOL_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 13,
          "visibility": "pub",
          "signature": "const TOOL_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default tool execution timeout (30 seconds)"
        },
        {
          "name": "TOOL_OUTPUT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 17,
          "visibility": "pub",
          "signature": "const TOOL_OUTPUT_SIZE_BYTES_MAX: usize",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "ParamType",
          "kind": "enum",
          "line": 22,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)",
            "serde(rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "std::fmt::Display for ParamType",
          "kind": "impl",
          "line": 37,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 38,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "ToolParam",
          "kind": "struct",
          "line": 52,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolParam",
          "kind": "impl",
          "line": 67,
          "visibility": "private"
        },
        {
          "name": "string",
          "kind": "function",
          "line": 69,
          "visibility": "pub",
          "signature": "fn string(name: impl Into<String>, description: impl Into<String>)",
          "doc": "Create a new required string parameter"
        },
        {
          "name": "integer",
          "kind": "function",
          "line": 81,
          "visibility": "pub",
          "signature": "fn integer(name: impl Into<String>, description: impl Into<String>)",
          "doc": "Create a new required integer parameter"
        },
        {
          "name": "boolean",
          "kind": "function",
          "line": 93,
          "visibility": "pub",
          "signature": "fn boolean(name: impl Into<String>, description: impl Into<String>)",
          "doc": "Create a new required boolean parameter"
        },
        {
          "name": "optional",
          "kind": "function",
          "line": 105,
          "visibility": "pub",
          "signature": "fn optional(mut self)",
          "doc": "Make this parameter optional"
        },
        {
          "name": "with_default",
          "kind": "function",
          "line": 111,
          "visibility": "pub",
          "signature": "fn with_default(mut self, default: impl Into<Value>)",
          "doc": "Set a default value"
        },
        {
          "name": "with_enum",
          "kind": "function",
          "line": 118,
          "visibility": "pub",
          "signature": "fn with_enum(mut self, values: Vec<Value>)",
          "doc": "Set allowed values (enum constraint)"
        },
        {
          "name": "ToolCapability",
          "kind": "struct",
          "line": 126,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolCapability",
          "kind": "impl",
          "line": 139,
          "visibility": "private"
        },
        {
          "name": "read_only",
          "kind": "function",
          "line": 141,
          "visibility": "pub",
          "signature": "fn read_only()",
          "doc": "Create capabilities for a read-only, safe tool"
        },
        {
          "name": "read_write",
          "kind": "function",
          "line": 152,
          "visibility": "pub",
          "signature": "fn read_write()",
          "doc": "Create capabilities for a tool that can modify state"
        },
        {
          "name": "network",
          "kind": "function",
          "line": 163,
          "visibility": "pub",
          "signature": "fn network()",
          "doc": "Create capabilities for a network tool"
        },
        {
          "name": "Default for ToolCapability",
          "kind": "impl",
          "line": 174,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 175,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ToolMetadata",
          "kind": "struct",
          "line": 182,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolMetadata",
          "kind": "impl",
          "line": 197,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 199,
          "visibility": "pub",
          "signature": "fn new(name: impl Into<String>, description: impl Into<String>)",
          "doc": "Create new tool metadata"
        },
        {
          "name": "with_param",
          "kind": "function",
          "line": 211,
          "visibility": "pub",
          "signature": "fn with_param(mut self, param: ToolParam)",
          "doc": "Add a parameter"
        },
        {
          "name": "with_capabilities",
          "kind": "function",
          "line": 217,
          "visibility": "pub",
          "signature": "fn with_capabilities(mut self, capabilities: ToolCapability)",
          "doc": "Set capabilities"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 223,
          "visibility": "pub",
          "signature": "fn with_timeout(mut self, timeout: Duration)",
          "doc": "Set timeout"
        },
        {
          "name": "with_version",
          "kind": "function",
          "line": 229,
          "visibility": "pub",
          "signature": "fn with_version(mut self, version: impl Into<String>)",
          "doc": "Set version"
        },
        {
          "name": "get_param",
          "kind": "function",
          "line": 235,
          "visibility": "pub",
          "signature": "fn get_param(&self, name: &str)",
          "doc": "Get a parameter by name"
        },
        {
          "name": "is_param_required",
          "kind": "function",
          "line": 240,
          "visibility": "pub",
          "signature": "fn is_param_required(&self, name: &str)",
          "doc": "Check if a parameter is required"
        },
        {
          "name": "ToolInput",
          "kind": "struct",
          "line": 247,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolInput",
          "kind": "impl",
          "line": 256,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 258,
          "visibility": "pub",
          "signature": "fn new(tool_name: impl Into<String>)",
          "doc": "Create a new tool input"
        },
        {
          "name": "with_param",
          "kind": "function",
          "line": 267,
          "visibility": "pub",
          "signature": "fn with_param(mut self, name: impl Into<String>, value: impl Into<Value>)",
          "doc": "Add a parameter"
        },
        {
          "name": "with_context",
          "kind": "function",
          "line": 273,
          "visibility": "pub",
          "signature": "fn with_context(mut self, key: impl Into<String>, value: impl Into<Value>)",
          "doc": "Add context"
        },
        {
          "name": "get_string",
          "kind": "function",
          "line": 279,
          "visibility": "pub",
          "signature": "fn get_string(&self, name: &str)",
          "doc": "Get a string parameter"
        },
        {
          "name": "get_i64",
          "kind": "function",
          "line": 284,
          "visibility": "pub",
          "signature": "fn get_i64(&self, name: &str)",
          "doc": "Get an integer parameter"
        },
        {
          "name": "get_bool",
          "kind": "function",
          "line": 289,
          "visibility": "pub",
          "signature": "fn get_bool(&self, name: &str)",
          "doc": "Get a boolean parameter"
        },
        {
          "name": "get_array",
          "kind": "function",
          "line": 294,
          "visibility": "pub",
          "signature": "fn get_array(&self, name: &str)",
          "doc": "Get an array parameter"
        },
        {
          "name": "has_param",
          "kind": "function",
          "line": 299,
          "visibility": "pub",
          "signature": "fn has_param(&self, name: &str)",
          "doc": "Check if a parameter exists"
        },
        {
          "name": "ToolOutput",
          "kind": "struct",
          "line": 306,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolOutput",
          "kind": "impl",
          "line": 319,
          "visibility": "private"
        },
        {
          "name": "success",
          "kind": "function",
          "line": 321,
          "visibility": "pub",
          "signature": "fn success(result: impl Into<Value>)",
          "doc": "Create a successful output"
        },
        {
          "name": "failure",
          "kind": "function",
          "line": 332,
          "visibility": "pub",
          "signature": "fn failure(error: impl Into<String>)",
          "doc": "Create a failed output"
        },
        {
          "name": "with_duration",
          "kind": "function",
          "line": 343,
          "visibility": "pub",
          "signature": "fn with_duration(mut self, duration_ms: u64)",
          "doc": "Set duration"
        },
        {
          "name": "with_metadata",
          "kind": "function",
          "line": 349,
          "visibility": "pub",
          "signature": "fn with_metadata(mut self, key: impl Into<String>, value: impl Into<Value>)",
          "doc": "Add metadata"
        },
        {
          "name": "is_success",
          "kind": "function",
          "line": 355,
          "visibility": "pub",
          "signature": "fn is_success(&self)",
          "doc": "Check if execution was successful"
        },
        {
          "name": "result_string",
          "kind": "function",
          "line": 360,
          "visibility": "pub",
          "signature": "fn result_string(&self)",
          "doc": "Get the result as a string"
        },
        {
          "name": "Tool",
          "kind": "trait",
          "line": 376,
          "visibility": "pub",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "DynTool",
          "kind": "type_alias",
          "line": 407,
          "visibility": "pub",
          "doc": "Type-erased tool for dynamic dispatch"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 410,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_tool_param_string",
          "kind": "function",
          "line": 414,
          "visibility": "private",
          "signature": "fn test_tool_param_string()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_tool_param_optional",
          "kind": "function",
          "line": 422,
          "visibility": "private",
          "signature": "fn test_tool_param_optional()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_tool_param_with_default",
          "kind": "function",
          "line": 428,
          "visibility": "private",
          "signature": "fn test_tool_param_with_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_tool_metadata_builder",
          "kind": "function",
          "line": 435,
          "visibility": "private",
          "signature": "fn test_tool_metadata_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_tool_input_builder",
          "kind": "function",
          "line": 447,
          "visibility": "private",
          "signature": "fn test_tool_input_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_tool_output_success",
          "kind": "function",
          "line": 459,
          "visibility": "private",
          "signature": "fn test_tool_output_success()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_tool_output_failure",
          "kind": "function",
          "line": 468,
          "visibility": "private",
          "signature": "fn test_tool_output_failure()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_tool_capability_presets",
          "kind": "function",
          "line": 476,
          "visibility": "private",
          "signature": "fn test_tool_capability_presets()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_param_type_display",
          "kind": "function",
          "line": 491,
          "visibility": "private",
          "signature": "fn test_param_type_display()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ToolResult"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/mcp.rs",
      "symbols": [
        {
          "name": "MCP_PROTOCOL_VERSION",
          "kind": "const",
          "line": 26,
          "visibility": "pub",
          "signature": "const MCP_PROTOCOL_VERSION: &str",
          "doc": "MCP protocol version"
        },
        {
          "name": "MCP_CONNECTION_TIMEOUT_MS",
          "kind": "const",
          "line": 29,
          "visibility": "pub",
          "signature": "const MCP_CONNECTION_TIMEOUT_MS: u64",
          "doc": "Default MCP connection timeout"
        },
        {
          "name": "MCP_REQUEST_TIMEOUT_MS",
          "kind": "const",
          "line": 32,
          "visibility": "pub",
          "signature": "const MCP_REQUEST_TIMEOUT_MS: u64",
          "doc": "Default MCP request timeout"
        },
        {
          "name": "MCP_RECONNECT_ATTEMPTS_MAX",
          "kind": "const",
          "line": 35,
          "visibility": "pub",
          "signature": "const MCP_RECONNECT_ATTEMPTS_MAX: u32",
          "doc": "Default maximum reconnection attempts"
        },
        {
          "name": "MCP_RECONNECT_DELAY_MS_INITIAL",
          "kind": "const",
          "line": 38,
          "visibility": "pub",
          "signature": "const MCP_RECONNECT_DELAY_MS_INITIAL: u64",
          "doc": "Default initial reconnection delay in milliseconds"
        },
        {
          "name": "MCP_RECONNECT_DELAY_MS_MAX",
          "kind": "const",
          "line": 41,
          "visibility": "pub",
          "signature": "const MCP_RECONNECT_DELAY_MS_MAX: u64",
          "doc": "Default maximum reconnection delay in milliseconds"
        },
        {
          "name": "MCP_RECONNECT_BACKOFF_MULTIPLIER",
          "kind": "const",
          "line": 44,
          "visibility": "pub",
          "signature": "const MCP_RECONNECT_BACKOFF_MULTIPLIER: f64",
          "doc": "Default backoff multiplier for reconnection"
        },
        {
          "name": "MCP_HEALTH_CHECK_INTERVAL_MS",
          "kind": "const",
          "line": 47,
          "visibility": "pub",
          "signature": "const MCP_HEALTH_CHECK_INTERVAL_MS: u64",
          "doc": "Default health check interval in milliseconds"
        },
        {
          "name": "MCP_SSE_SHUTDOWN_TIMEOUT_MS",
          "kind": "const",
          "line": 50,
          "visibility": "pub",
          "signature": "const MCP_SSE_SHUTDOWN_TIMEOUT_MS: u64",
          "doc": "Default SSE shutdown timeout in milliseconds"
        },
        {
          "name": "McpConfig",
          "kind": "struct",
          "line": 54,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "McpConfig",
          "kind": "impl",
          "line": 67,
          "visibility": "private"
        },
        {
          "name": "stdio",
          "kind": "function",
          "line": 69,
          "visibility": "pub",
          "signature": "fn stdio(name: impl Into<String>, command: impl Into<String>, args: Vec<String>)",
          "doc": "Create configuration for a stdio-based MCP server"
        },
        {
          "name": "http",
          "kind": "function",
          "line": 83,
          "visibility": "pub",
          "signature": "fn http(name: impl Into<String>, url: impl Into<String>)",
          "doc": "Create configuration for an HTTP-based MCP server"
        },
        {
          "name": "sse",
          "kind": "function",
          "line": 94,
          "visibility": "pub",
          "signature": "fn sse(name: impl Into<String>, url: impl Into<String>)",
          "doc": "Create configuration for an SSE-based MCP server"
        },
        {
          "name": "with_env",
          "kind": "function",
          "line": 105,
          "visibility": "pub",
          "signature": "fn with_env(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Add environment variable"
        },
        {
          "name": "with_connection_timeout_ms",
          "kind": "function",
          "line": 111,
          "visibility": "pub",
          "signature": "fn with_connection_timeout_ms(mut self, timeout: u64)",
          "doc": "Set connection timeout"
        },
        {
          "name": "with_request_timeout_ms",
          "kind": "function",
          "line": 117,
          "visibility": "pub",
          "signature": "fn with_request_timeout_ms(mut self, timeout: u64)",
          "doc": "Set request timeout"
        },
        {
          "name": "ReconnectConfig",
          "kind": "struct",
          "line": 125,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "Default for ReconnectConfig",
          "kind": "impl",
          "line": 136,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 137,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "ReconnectConfig",
          "kind": "impl",
          "line": 147,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 149,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new reconnect config"
        },
        {
          "name": "with_max_attempts",
          "kind": "function",
          "line": 154,
          "visibility": "pub",
          "signature": "fn with_max_attempts(mut self, attempts: u32)",
          "doc": "Set maximum attempts"
        },
        {
          "name": "with_initial_delay_ms",
          "kind": "function",
          "line": 161,
          "visibility": "pub",
          "signature": "fn with_initial_delay_ms(mut self, delay: u64)",
          "doc": "Set initial delay"
        },
        {
          "name": "with_max_delay_ms",
          "kind": "function",
          "line": 168,
          "visibility": "pub",
          "signature": "fn with_max_delay_ms(mut self, delay: u64)",
          "doc": "Set maximum delay"
        },
        {
          "name": "with_backoff_multiplier",
          "kind": "function",
          "line": 175,
          "visibility": "pub",
          "signature": "fn with_backoff_multiplier(mut self, multiplier: f64)",
          "doc": "Set backoff multiplier"
        },
        {
          "name": "McpTransport",
          "kind": "enum",
          "line": 185,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(tag = \"type\", rename_all = \"snake_case\")"
          ]
        },
        {
          "name": "McpMessage",
          "kind": "enum",
          "line": 209,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)",
            "serde(untagged)",
            "allow(dead_code)"
          ]
        },
        {
          "name": "McpRequest",
          "kind": "struct",
          "line": 220,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "McpRequest",
          "kind": "impl",
          "line": 232,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 234,
          "visibility": "pub",
          "signature": "fn new(id: u64, method: impl Into<String>)",
          "doc": "Create a new request"
        },
        {
          "name": "with_params",
          "kind": "function",
          "line": 244,
          "visibility": "pub",
          "signature": "fn with_params(mut self, params: impl Into<Value>)",
          "doc": "Add parameters"
        },
        {
          "name": "McpResponse",
          "kind": "struct",
          "line": 252,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "McpError",
          "kind": "struct",
          "line": 267,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "McpNotification",
          "kind": "struct",
          "line": 279,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "McpToolDefinition",
          "kind": "struct",
          "line": 291,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ServerCapabilities",
          "kind": "struct",
          "line": 304,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ToolsCapability",
          "kind": "struct",
          "line": 318,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ResourcesCapability",
          "kind": "struct",
          "line": 326,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "PromptsCapability",
          "kind": "struct",
          "line": 337,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Default, Serialize, Deserialize)"
          ]
        },
        {
          "name": "InitializeResult",
          "kind": "struct",
          "line": 345,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ServerInfo",
          "kind": "struct",
          "line": 358,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "McpClientState",
          "kind": "enum",
          "line": 368,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq)"
          ]
        },
        {
          "name": "TransportInner",
          "kind": "trait",
          "line": 381,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "StdioTransport",
          "kind": "struct",
          "line": 396,
          "visibility": "private",
          "doc": "Stdio transport - communicates via subprocess stdin/stdout\n\nTigerStyle: Simplified architecture matching SSE pattern for race-free operation.\nResponse routing is handled by inserting into pending map BEFORE sending request."
        },
        {
          "name": "StdioWriteMessage",
          "kind": "enum",
          "line": 406,
          "visibility": "private",
          "doc": "Messages sent to the writer task"
        },
        {
          "name": "StdioTransport",
          "kind": "impl",
          "line": 411,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 416,
          "visibility": "private",
          "signature": "async fn new(\n        command: &str,\n        args: &[String],\n        env: &HashMap<String, String>,\n        _timeout: Duration,\n    )",
          "doc": "Create and start a new stdio transport\n\nTigerStyle: Simplified architecture - pending map is shared, not routed through channels.\nThis prevents the race condition where response arrives before pending entry exists.",
          "is_async": true
        },
        {
          "name": "writer_task",
          "kind": "function",
          "line": 485,
          "visibility": "private",
          "signature": "async fn writer_task(mut stdin: ChildStdin, mut writer_rx: mpsc::Receiver<StdioWriteMessage>)",
          "doc": "Writer task - sends messages to stdin",
          "is_async": true
        },
        {
          "name": "reader_task",
          "kind": "function",
          "line": 525,
          "visibility": "private",
          "signature": "async fn reader_task(\n        stdout: ChildStdout,\n        pending: Arc<RwLock<HashMap<u64, oneshot::Sender<ToolResult<McpResponse>>>>>,\n    )",
          "doc": "Reader task - reads messages from stdout and routes responses\n\nTigerStyle: Direct access to pending map for race-free response routing.",
          "is_async": true
        },
        {
          "name": "TransportInner for StdioTransport",
          "kind": "impl",
          "line": 595,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "request",
          "kind": "function",
          "line": 596,
          "visibility": "private",
          "signature": "async fn request(&self, request: McpRequest, timeout: Duration)",
          "is_async": true
        },
        {
          "name": "notify",
          "kind": "function",
          "line": 639,
          "visibility": "private",
          "signature": "async fn notify(&self, notification: McpNotification)",
          "is_async": true
        },
        {
          "name": "close",
          "kind": "function",
          "line": 648,
          "visibility": "private",
          "signature": "async fn close(&self)",
          "is_async": true
        },
        {
          "name": "HttpTransport",
          "kind": "struct",
          "line": 660,
          "visibility": "private",
          "doc": "HTTP transport - communicates via HTTP POST"
        },
        {
          "name": "HttpTransport",
          "kind": "impl",
          "line": 667,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 669,
          "visibility": "private",
          "signature": "fn new(url: &str, timeout: Duration)",
          "doc": "Create a new HTTP transport"
        },
        {
          "name": "TransportInner for HttpTransport",
          "kind": "impl",
          "line": 685,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "request",
          "kind": "function",
          "line": 686,
          "visibility": "private",
          "signature": "async fn request(&self, request: McpRequest, timeout: Duration)",
          "is_async": true
        },
        {
          "name": "notify",
          "kind": "function",
          "line": 715,
          "visibility": "private",
          "signature": "async fn notify(&self, notification: McpNotification)",
          "is_async": true
        },
        {
          "name": "close",
          "kind": "function",
          "line": 729,
          "visibility": "private",
          "signature": "async fn close(&self)",
          "is_async": true
        },
        {
          "name": "SseTransport",
          "kind": "struct",
          "line": 736,
          "visibility": "private",
          "doc": "SSE transport - communicates via Server-Sent Events"
        },
        {
          "name": "SseTransport",
          "kind": "impl",
          "line": 749,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 751,
          "visibility": "private",
          "signature": "async fn new(url: &str, timeout: Duration)",
          "doc": "Create a new SSE transport",
          "is_async": true
        },
        {
          "name": "TransportInner for SseTransport",
          "kind": "impl",
          "line": 825,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "request",
          "kind": "function",
          "line": 826,
          "visibility": "private",
          "signature": "async fn request(&self, request: McpRequest, timeout: Duration)",
          "is_async": true
        },
        {
          "name": "notify",
          "kind": "function",
          "line": 868,
          "visibility": "private",
          "signature": "async fn notify(&self, notification: McpNotification)",
          "is_async": true
        },
        {
          "name": "close",
          "kind": "function",
          "line": 882,
          "visibility": "private",
          "signature": "async fn close(&self)",
          "is_async": true
        },
        {
          "name": "McpClient",
          "kind": "struct",
          "line": 919,
          "visibility": "pub",
          "doc": "MCP client for connecting to MCP servers"
        },
        {
          "name": "McpClient",
          "kind": "impl",
          "line": 938,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 940,
          "visibility": "pub",
          "signature": "fn new(config: McpConfig)",
          "doc": "Create a new MCP client"
        },
        {
          "name": "new_with_reconnect",
          "kind": "function",
          "line": 954,
          "visibility": "pub",
          "signature": "fn new_with_reconnect(config: McpConfig, reconnect_config: ReconnectConfig)",
          "doc": "Create a new MCP client with custom reconnect configuration"
        },
        {
          "name": "reconnect_config",
          "kind": "function",
          "line": 968,
          "visibility": "pub",
          "signature": "fn reconnect_config(&self)",
          "doc": "Get the reconnect configuration"
        },
        {
          "name": "name",
          "kind": "function",
          "line": 973,
          "visibility": "pub",
          "signature": "fn name(&self)",
          "doc": "Get the server name"
        },
        {
          "name": "state",
          "kind": "function",
          "line": 978,
          "visibility": "pub",
          "signature": "async fn state(&self)",
          "doc": "Get current connection state",
          "is_async": true
        },
        {
          "name": "is_connected",
          "kind": "function",
          "line": 983,
          "visibility": "pub",
          "signature": "async fn is_connected(&self)",
          "doc": "Check if connected",
          "is_async": true
        },
        {
          "name": "capabilities",
          "kind": "function",
          "line": 988,
          "visibility": "pub",
          "signature": "async fn capabilities(&self)",
          "doc": "Get server capabilities",
          "is_async": true
        },
        {
          "name": "connect",
          "kind": "function",
          "line": 993,
          "visibility": "pub",
          "signature": "async fn connect(&self)",
          "doc": "Connect to the MCP server",
          "is_async": true
        },
        {
          "name": "disconnect",
          "kind": "function",
          "line": 1091,
          "visibility": "pub",
          "signature": "async fn disconnect(&self)",
          "doc": "Disconnect from the MCP server",
          "is_async": true
        },
        {
          "name": "reconnect",
          "kind": "function",
          "line": 1110,
          "visibility": "pub",
          "signature": "async fn reconnect(&self)",
          "doc": "Attempt to reconnect to the MCP server with exponential backoff\n\nUses the configured `ReconnectConfig` for retry behavior.\nAfter successful reconnection, re-discovers available tools.",
          "is_async": true
        },
        {
          "name": "health_check",
          "kind": "function",
          "line": 1219,
          "visibility": "pub",
          "signature": "async fn health_check(&self)",
          "doc": "Check if the MCP server is still responsive\n\nUses `tools/list` as a lightweight health check since MCP doesn't define a ping method.\nReturns `Ok(true)` if server responds, `Ok(false)` if timeout, `Err` for other failures.",
          "is_async": true
        },
        {
          "name": "start_health_monitor",
          "kind": "function",
          "line": 1268,
          "visibility": "pub",
          "signature": "async fn start_health_monitor(&self, interval_ms: u64)",
          "doc": "Start a background health monitor that periodically checks server health\n\nIf health check fails, logs a warning. Full reconnection logic requires\n`Arc<Self>` for proper lifecycle management.\n\n# Arguments\n* `interval_ms` - Interval between health checks in milliseconds",
          "is_async": true
        },
        {
          "name": "stop_health_monitor",
          "kind": "function",
          "line": 1315,
          "visibility": "pub",
          "signature": "async fn stop_health_monitor(&self)",
          "doc": "Stop the health monitor if running",
          "is_async": true
        },
        {
          "name": "discover_tools",
          "kind": "function",
          "line": 1326,
          "visibility": "pub",
          "signature": "async fn discover_tools(&self)",
          "doc": "Discover available tools from the server\n\nSupports MCP pagination via `next_cursor` for servers with large tool lists.\nFalls back gracefully for servers that don't support pagination.",
          "is_async": true
        },
        {
          "name": "execute_tool",
          "kind": "function",
          "line": 1422,
          "visibility": "pub",
          "signature": "async fn execute_tool(&self, name: &str, arguments: Value)",
          "doc": "Execute a tool on the MCP server",
          "is_async": true
        },
        {
          "name": "send_request",
          "kind": "function",
          "line": 1455,
          "visibility": "private",
          "signature": "async fn send_request(&self, request: McpRequest)",
          "doc": "Send a request through the transport",
          "is_async": true
        },
        {
          "name": "send_notification",
          "kind": "function",
          "line": 1468,
          "visibility": "private",
          "signature": "async fn send_notification(&self, notification: McpNotification)",
          "doc": "Send a notification through the transport",
          "is_async": true
        },
        {
          "name": "next_request_id",
          "kind": "function",
          "line": 1480,
          "visibility": "private",
          "signature": "fn next_request_id(&self)",
          "doc": "Get next request ID"
        },
        {
          "name": "register_mock_tool",
          "kind": "function",
          "line": 1486,
          "visibility": "pub",
          "signature": "async fn register_mock_tool(&self, tool: McpToolDefinition)",
          "doc": "Register a tool definition manually (for testing without server connection)",
          "is_async": true
        },
        {
          "name": "set_connected_for_testing",
          "kind": "function",
          "line": 1495,
          "visibility": "pub",
          "signature": "async fn set_connected_for_testing(&self)",
          "doc": "Set client state to connected (for testing without actual connection)\n\n# Safety\nThis bypasses the normal initialization flow and should only be used in tests.",
          "is_async": true
        },
        {
          "name": "McpTool",
          "kind": "struct",
          "line": 1502,
          "visibility": "pub",
          "doc": "A tool backed by an MCP server"
        },
        {
          "name": "McpTool",
          "kind": "impl",
          "line": 1511,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 1513,
          "visibility": "pub",
          "signature": "fn new(client: Arc<McpClient>, definition: McpToolDefinition)",
          "doc": "Create a new MCP tool"
        },
        {
          "name": "build_metadata",
          "kind": "function",
          "line": 1523,
          "visibility": "private",
          "signature": "fn build_metadata(definition: &McpToolDefinition)",
          "doc": "Build tool metadata from MCP definition"
        },
        {
          "name": "extract_tool_output",
          "kind": "function",
          "line": 1601,
          "visibility": "pub",
          "signature": "fn extract_tool_output(result: &Value, tool_name: &str)",
          "doc": "Extract output from an MCP tool result\n\nHandles various MCP content formats:\n- `{\"content\": [{\"type\": \"text\", \"text\": \"...\"}]}` - Standard text content\n- `{\"content\": [{\"type\": \"image\", ...}]}` - Image content (returns placeholder)\n- `{\"content\": [{\"type\": \"resource\", ...}]}` - Resource content (returns placeholder)\n- Direct string result\n- Fallback to JSON serialization\n\n# Returns\nThe extracted text content, or a meaningful placeholder for non-text content."
        },
        {
          "name": "Tool for McpTool",
          "kind": "impl",
          "line": 1682,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "metadata",
          "kind": "function",
          "line": 1683,
          "visibility": "private",
          "signature": "fn metadata(&self)"
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 1687,
          "visibility": "private",
          "signature": "async fn execute(&self, input: ToolInput)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 1709,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_mcp_config_stdio",
          "kind": "function",
          "line": 1713,
          "visibility": "private",
          "signature": "fn test_mcp_config_stdio()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mcp_config_http",
          "kind": "function",
          "line": 1727,
          "visibility": "private",
          "signature": "fn test_mcp_config_http()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mcp_config_sse",
          "kind": "function",
          "line": 1735,
          "visibility": "private",
          "signature": "fn test_mcp_config_sse()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mcp_request",
          "kind": "function",
          "line": 1743,
          "visibility": "private",
          "signature": "fn test_mcp_request()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_mcp_client_state_transitions",
          "kind": "function",
          "line": 1753,
          "visibility": "private",
          "signature": "async fn test_mcp_client_state_transitions()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mcp_client_discover_not_connected",
          "kind": "function",
          "line": 1762,
          "visibility": "private",
          "signature": "async fn test_mcp_client_discover_not_connected()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mcp_client_execute_not_connected",
          "kind": "function",
          "line": 1771,
          "visibility": "private",
          "signature": "async fn test_mcp_client_execute_not_connected()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_mcp_tool_definition",
          "kind": "function",
          "line": 1780,
          "visibility": "private",
          "signature": "fn test_mcp_tool_definition()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_server_capabilities_deserialization",
          "kind": "function",
          "line": 1807,
          "visibility": "private",
          "signature": "fn test_server_capabilities_deserialization()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_initialize_result_deserialization",
          "kind": "function",
          "line": 1820,
          "visibility": "private",
          "signature": "fn test_initialize_result_deserialization()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_sse_shutdown_timeout_constant",
          "kind": "function",
          "line": 1839,
          "visibility": "private",
          "signature": "fn test_sse_shutdown_timeout_constant()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_reconnect_config_default",
          "kind": "function",
          "line": 1847,
          "visibility": "private",
          "signature": "fn test_reconnect_config_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_reconnect_config_builder",
          "kind": "function",
          "line": 1858,
          "visibility": "private",
          "signature": "fn test_reconnect_config_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_reconnect_config_zero_attempts",
          "kind": "function",
          "line": 1873,
          "visibility": "private",
          "signature": "fn test_reconnect_config_zero_attempts()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"max_attempts must be positive\")"
          ]
        },
        {
          "name": "test_reconnect_config_zero_delay",
          "kind": "function",
          "line": 1879,
          "visibility": "private",
          "signature": "fn test_reconnect_config_zero_delay()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"initial_delay_ms must be positive\")"
          ]
        },
        {
          "name": "test_reconnect_config_invalid_multiplier",
          "kind": "function",
          "line": 1885,
          "visibility": "private",
          "signature": "fn test_reconnect_config_invalid_multiplier()",
          "is_test": true,
          "attributes": [
            "test",
            "should_panic(expected = \"backoff_multiplier must be >= 1.0\")"
          ]
        },
        {
          "name": "test_mcp_client_with_reconnect_config",
          "kind": "function",
          "line": 1890,
          "visibility": "private",
          "signature": "async fn test_mcp_client_with_reconnect_config()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_health_check_not_connected",
          "kind": "function",
          "line": 1899,
          "visibility": "private",
          "signature": "async fn test_health_check_not_connected()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_extract_tool_output_text_content",
          "kind": "function",
          "line": 1910,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_text_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_multiple_text_content",
          "kind": "function",
          "line": 1922,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_multiple_text_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_empty_content",
          "kind": "function",
          "line": 1935,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_empty_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_image_content",
          "kind": "function",
          "line": 1945,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_image_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_resource_content",
          "kind": "function",
          "line": 1957,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_resource_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_mixed_content",
          "kind": "function",
          "line": 1969,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_mixed_content()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_direct_string",
          "kind": "function",
          "line": 1985,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_direct_string()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_error_flag",
          "kind": "function",
          "line": 1993,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_error_flag()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_fallback_json",
          "kind": "function",
          "line": 2008,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_fallback_json()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_tool_output_unknown_content_type",
          "kind": "function",
          "line": 2021,
          "visibility": "private",
          "signature": "fn test_extract_tool_output_unknown_content_type()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ToolError"
        },
        {
          "path": "crate::error::ToolResult"
        },
        {
          "path": "crate::traits::ParamType"
        },
        {
          "path": "crate::traits::Tool"
        },
        {
          "path": "crate::traits::ToolCapability"
        },
        {
          "path": "crate::traits::ToolInput"
        },
        {
          "path": "crate::traits::ToolMetadata"
        },
        {
          "path": "crate::traits::ToolOutput"
        },
        {
          "path": "crate::traits::ToolParam"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::process::Stdio"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::io::AsyncBufReadExt"
        },
        {
          "path": "tokio::io::AsyncWriteExt"
        },
        {
          "path": "tokio::io::BufReader"
        },
        {
          "path": "tokio::process::Child"
        },
        {
          "path": "tokio::process::ChildStdin"
        },
        {
          "path": "tokio::process::ChildStdout"
        },
        {
          "path": "tokio::process::Command"
        },
        {
          "path": "tokio::sync::mpsc"
        },
        {
          "path": "tokio::sync::oneshot"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::error"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "tracing::warn"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/http_tool.rs",
      "symbols": [
        {
          "name": "HTTP_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 34,
          "visibility": "pub",
          "signature": "const HTTP_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default HTTP timeout in milliseconds"
        },
        {
          "name": "HTTP_RESPONSE_BODY_BYTES_MAX",
          "kind": "const",
          "line": 37,
          "visibility": "pub",
          "signature": "const HTTP_RESPONSE_BODY_BYTES_MAX: u64",
          "doc": "Maximum response body size in bytes"
        },
        {
          "name": "HTTP_URL_BYTES_MAX",
          "kind": "const",
          "line": 40,
          "visibility": "pub",
          "signature": "const HTTP_URL_BYTES_MAX: usize",
          "doc": "Maximum URL length in bytes"
        },
        {
          "name": "HTTP_HEADERS_COUNT_MAX",
          "kind": "const",
          "line": 43,
          "visibility": "pub",
          "signature": "const HTTP_HEADERS_COUNT_MAX: usize",
          "doc": "Maximum number of headers"
        },
        {
          "name": "HttpMethod",
          "kind": "enum",
          "line": 52,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)",
            "serde(rename_all = \"UPPERCASE\")"
          ]
        },
        {
          "name": "std::fmt::Display for HttpMethod",
          "kind": "impl",
          "line": 60,
          "visibility": "private"
        },
        {
          "name": "fmt",
          "kind": "function",
          "line": 61,
          "visibility": "private",
          "signature": "fn fmt(&self, f: &mut std::fmt::Formatter<'_>)"
        },
        {
          "name": "HttpToolDefinition",
          "kind": "struct",
          "line": 81,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "HttpToolDefinition",
          "kind": "impl",
          "line": 102,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 104,
          "visibility": "pub",
          "signature": "fn new(\n        name: impl Into<String>,\n        description: impl Into<String>,\n        method: HttpMethod,\n        url_template: impl Into<String>,\n    )",
          "doc": "Create a new HTTP tool definition"
        },
        {
          "name": "with_header",
          "kind": "function",
          "line": 127,
          "visibility": "pub",
          "signature": "fn with_header(mut self, key: impl Into<String>, value: impl Into<String>)",
          "doc": "Add a static header"
        },
        {
          "name": "with_body_template",
          "kind": "function",
          "line": 137,
          "visibility": "pub",
          "signature": "fn with_body_template(mut self, template: impl Into<String>)",
          "doc": "Set a request body template"
        },
        {
          "name": "with_response_path",
          "kind": "function",
          "line": 151,
          "visibility": "pub",
          "signature": "fn with_response_path(mut self, path: impl Into<String>)",
          "doc": "Set a JSONPath for response extraction"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 157,
          "visibility": "pub",
          "signature": "fn with_timeout(mut self, timeout: Duration)",
          "doc": "Set custom timeout"
        },
        {
          "name": "extract_parameters",
          "kind": "function",
          "line": 165,
          "visibility": "private",
          "signature": "fn extract_parameters(template: &str)",
          "doc": "Extract parameter names from a template string\n\nParameters are delimited by `{` and `}`"
        },
        {
          "name": "substitute_template",
          "kind": "function",
          "line": 199,
          "visibility": "private",
          "signature": "fn substitute_template(template: &str, params: &HashMap<String, Value>)",
          "doc": "Substitute variables in a template string"
        },
        {
          "name": "HttpTool",
          "kind": "struct",
          "line": 238,
          "visibility": "pub",
          "doc": "Runtime HTTP tool that can be executed"
        },
        {
          "name": "HttpTool",
          "kind": "impl",
          "line": 244,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 246,
          "visibility": "pub",
          "signature": "fn new(definition: HttpToolDefinition)",
          "doc": "Create a new HTTP tool from a definition"
        },
        {
          "name": "execute_request",
          "kind": "function",
          "line": 282,
          "visibility": "private",
          "signature": "async fn execute_request(&self, params: &HashMap<String, Value>)",
          "doc": "Execute the HTTP request",
          "is_async": true
        },
        {
          "name": "Tool for HttpTool",
          "kind": "impl",
          "line": 369,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "metadata",
          "kind": "function",
          "line": 370,
          "visibility": "private",
          "signature": "fn metadata(&self)"
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 374,
          "visibility": "private",
          "signature": "async fn execute(&self, input: ToolInput)",
          "is_async": true
        },
        {
          "name": "extract_json_path",
          "kind": "function",
          "line": 399,
          "visibility": "private",
          "signature": "fn extract_json_path(json: &Value, path: &str)",
          "doc": "Simple JSONPath extraction\n\nSupports paths like:\n- `$.field` - root field\n- `$.parent.child` - nested field\n- `$[0]` - array index\n- `$.array[0].field` - combined"
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 441,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_extract_parameters",
          "kind": "function",
          "line": 445,
          "visibility": "private",
          "signature": "fn test_extract_parameters()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_parameters_empty",
          "kind": "function",
          "line": 455,
          "visibility": "private",
          "signature": "fn test_extract_parameters_empty()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_substitute_template",
          "kind": "function",
          "line": 461,
          "visibility": "private",
          "signature": "fn test_substitute_template()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_substitute_template_missing",
          "kind": "function",
          "line": 479,
          "visibility": "private",
          "signature": "fn test_substitute_template_missing()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_json_path_simple",
          "kind": "function",
          "line": 493,
          "visibility": "private",
          "signature": "fn test_extract_json_path_simple()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_json_path_array",
          "kind": "function",
          "line": 505,
          "visibility": "private",
          "signature": "fn test_extract_json_path_array()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_extract_json_path_nested",
          "kind": "function",
          "line": 515,
          "visibility": "private",
          "signature": "fn test_extract_json_path_nested()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_tool_definition_builder",
          "kind": "function",
          "line": 528,
          "visibility": "private",
          "signature": "fn test_http_tool_definition_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_http_tool_creation",
          "kind": "function",
          "line": 547,
          "visibility": "private",
          "signature": "fn test_http_tool_creation()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ToolError"
        },
        {
          "path": "crate::error::ToolResult"
        },
        {
          "path": "crate::traits::Tool"
        },
        {
          "path": "crate::traits::ToolCapability"
        },
        {
          "path": "crate::traits::ToolInput"
        },
        {
          "path": "crate::traits::ToolMetadata"
        },
        {
          "path": "crate::traits::ToolOutput"
        },
        {
          "path": "crate::traits::ToolParam"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "reqwest::Client"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/builtin/shell.rs",
      "symbols": [
        {
          "name": "SHELL_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 14,
          "visibility": "pub",
          "signature": "const SHELL_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default shell timeout (60 seconds)"
        },
        {
          "name": "SHELL_OUTPUT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 17,
          "visibility": "pub",
          "signature": "const SHELL_OUTPUT_SIZE_BYTES_MAX: u64",
          "doc": "Maximum command output size (1MB)"
        },
        {
          "name": "ShellTool",
          "kind": "struct",
          "line": 22,
          "visibility": "pub",
          "doc": "Shell command execution tool\n\nExecutes shell commands in a sandboxed environment."
        },
        {
          "name": "ShellTool",
          "kind": "impl",
          "line": 29,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 31,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new shell tool"
        },
        {
          "name": "with_sandbox",
          "kind": "function",
          "line": 59,
          "visibility": "pub",
          "signature": "fn with_sandbox(sandbox: Arc<RwLock<MockSandbox>>)",
          "doc": "Create shell tool with a specific sandbox"
        },
        {
          "name": "get_or_create_sandbox",
          "kind": "function",
          "line": 66,
          "visibility": "private",
          "signature": "async fn get_or_create_sandbox(&self)",
          "doc": "Set up a default sandbox if none provided",
          "is_async": true
        },
        {
          "name": "Default for ShellTool",
          "kind": "impl",
          "line": 83,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 84,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "Tool for ShellTool",
          "kind": "impl",
          "line": 90,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "metadata",
          "kind": "function",
          "line": 91,
          "visibility": "private",
          "signature": "fn metadata(&self)"
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 95,
          "visibility": "private",
          "signature": "async fn execute(&self, input: ToolInput)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 163,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_shell_tool_metadata",
          "kind": "function",
          "line": 167,
          "visibility": "private",
          "signature": "async fn test_shell_tool_metadata()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_shell_tool_execute_echo",
          "kind": "function",
          "line": 177,
          "visibility": "private",
          "signature": "async fn test_shell_tool_execute_echo()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_shell_tool_execute_failure",
          "kind": "function",
          "line": 191,
          "visibility": "private",
          "signature": "async fn test_shell_tool_execute_failure()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_shell_tool_missing_command",
          "kind": "function",
          "line": 205,
          "visibility": "private",
          "signature": "async fn test_shell_tool_missing_command()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_shell_tool_empty_command",
          "kind": "function",
          "line": 214,
          "visibility": "private",
          "signature": "async fn test_shell_tool_empty_command()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ToolError"
        },
        {
          "path": "crate::error::ToolResult"
        },
        {
          "path": "crate::traits::Tool"
        },
        {
          "path": "crate::traits::ToolCapability"
        },
        {
          "path": "crate::traits::ToolInput"
        },
        {
          "path": "crate::traits::ToolMetadata"
        },
        {
          "path": "crate::traits::ToolOutput"
        },
        {
          "path": "crate::traits::ToolParam"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_sandbox::ExecOptions"
        },
        {
          "path": "kelpie_sandbox::MockSandbox"
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/builtin/filesystem.rs",
      "symbols": [
        {
          "name": "FILE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 16,
          "visibility": "pub",
          "signature": "const FILE_SIZE_BYTES_MAX: usize",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "FilesystemTool",
          "kind": "struct",
          "line": 21,
          "visibility": "pub",
          "doc": "Filesystem operations tool\n\nProvides safe filesystem operations (read, write, list) in a sandboxed environment."
        },
        {
          "name": "FilesystemTool",
          "kind": "impl",
          "line": 28,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 30,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new filesystem tool"
        },
        {
          "name": "with_sandbox",
          "kind": "function",
          "line": 65,
          "visibility": "pub",
          "signature": "fn with_sandbox(sandbox: Arc<RwLock<MockSandbox>>)",
          "doc": "Create filesystem tool with a specific sandbox"
        },
        {
          "name": "read_file",
          "kind": "function",
          "line": 72,
          "visibility": "private",
          "signature": "async fn read_file(&self, path: &str)",
          "doc": "Read a file",
          "is_async": true
        },
        {
          "name": "write_file",
          "kind": "function",
          "line": 92,
          "visibility": "private",
          "signature": "async fn write_file(&self, path: &str, content: &str)",
          "doc": "Write a file",
          "is_async": true
        },
        {
          "name": "list_dir",
          "kind": "function",
          "line": 111,
          "visibility": "private",
          "signature": "async fn list_dir(&self, _path: &str)",
          "doc": "List directory contents",
          "is_async": true
        },
        {
          "name": "exists",
          "kind": "function",
          "line": 119,
          "visibility": "private",
          "signature": "async fn exists(&self, path: &str)",
          "doc": "Check if path exists",
          "is_async": true
        },
        {
          "name": "delete_file",
          "kind": "function",
          "line": 136,
          "visibility": "private",
          "signature": "async fn delete_file(&self, path: &str)",
          "doc": "Delete a file",
          "is_async": true
        },
        {
          "name": "Default for FilesystemTool",
          "kind": "impl",
          "line": 145,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 146,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "Tool for FilesystemTool",
          "kind": "impl",
          "line": 152,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "metadata",
          "kind": "function",
          "line": 153,
          "visibility": "private",
          "signature": "fn metadata(&self)"
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 157,
          "visibility": "private",
          "signature": "async fn execute(&self, input: ToolInput)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 197,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_test_sandbox",
          "kind": "function",
          "line": 201,
          "visibility": "private",
          "signature": "async fn create_test_sandbox()",
          "is_async": true
        },
        {
          "name": "test_filesystem_tool_metadata",
          "kind": "function",
          "line": 209,
          "visibility": "private",
          "signature": "async fn test_filesystem_tool_metadata()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_filesystem_write_read",
          "kind": "function",
          "line": 219,
          "visibility": "private",
          "signature": "async fn test_filesystem_write_read()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_filesystem_exists",
          "kind": "function",
          "line": 248,
          "visibility": "private",
          "signature": "async fn test_filesystem_exists()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_filesystem_invalid_operation",
          "kind": "function",
          "line": 281,
          "visibility": "private",
          "signature": "async fn test_filesystem_invalid_operation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_filesystem_missing_path",
          "kind": "function",
          "line": 293,
          "visibility": "private",
          "signature": "async fn test_filesystem_missing_path()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ToolError"
        },
        {
          "path": "crate::error::ToolResult"
        },
        {
          "path": "crate::traits::Tool"
        },
        {
          "path": "crate::traits::ToolCapability"
        },
        {
          "path": "crate::traits::ToolInput"
        },
        {
          "path": "crate::traits::ToolMetadata"
        },
        {
          "path": "crate::traits::ToolOutput"
        },
        {
          "path": "crate::traits::ToolParam"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_sandbox::MockSandbox"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/builtin/git.rs",
      "symbols": [
        {
          "name": "GIT_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 15,
          "visibility": "pub",
          "signature": "const GIT_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default git command timeout (120 seconds)"
        },
        {
          "name": "GitTool",
          "kind": "struct",
          "line": 20,
          "visibility": "pub",
          "doc": "Git operations tool\n\nProvides git operations (status, diff, log, etc.) in a sandboxed environment."
        },
        {
          "name": "GitTool",
          "kind": "impl",
          "line": 27,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 29,
          "visibility": "pub",
          "signature": "fn new()",
          "doc": "Create a new git tool"
        },
        {
          "name": "with_sandbox",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "fn with_sandbox(sandbox: Arc<RwLock<MockSandbox>>)",
          "doc": "Create git tool with a specific sandbox"
        },
        {
          "name": "setup_sandbox_handlers",
          "kind": "function",
          "line": 74,
          "visibility": "pub",
          "signature": "async fn setup_sandbox_handlers(sandbox: &MockSandbox)",
          "doc": "Register git command handlers on a sandbox",
          "is_async": true
        },
        {
          "name": "get_sandbox",
          "kind": "function",
          "line": 124,
          "visibility": "private",
          "signature": "async fn get_sandbox(&self)",
          "doc": "Get or create sandbox with git handlers",
          "is_async": true
        },
        {
          "name": "Default for GitTool",
          "kind": "impl",
          "line": 142,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 143,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "Tool for GitTool",
          "kind": "impl",
          "line": 149,
          "visibility": "private",
          "attributes": [
            "async_trait"
          ]
        },
        {
          "name": "metadata",
          "kind": "function",
          "line": 150,
          "visibility": "private",
          "signature": "fn metadata(&self)"
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 154,
          "visibility": "private",
          "signature": "async fn execute(&self, input: ToolInput)",
          "is_async": true
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 214,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "create_test_sandbox",
          "kind": "function",
          "line": 217,
          "visibility": "private",
          "signature": "async fn create_test_sandbox()",
          "is_async": true
        },
        {
          "name": "test_git_tool_metadata",
          "kind": "function",
          "line": 226,
          "visibility": "private",
          "signature": "async fn test_git_tool_metadata()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_git_status",
          "kind": "function",
          "line": 235,
          "visibility": "private",
          "signature": "async fn test_git_status()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_git_log",
          "kind": "function",
          "line": 252,
          "visibility": "private",
          "signature": "async fn test_git_log()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_git_branch",
          "kind": "function",
          "line": 269,
          "visibility": "private",
          "signature": "async fn test_git_branch()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_git_diff",
          "kind": "function",
          "line": 286,
          "visibility": "private",
          "signature": "async fn test_git_diff()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_git_commit_with_message",
          "kind": "function",
          "line": 297,
          "visibility": "private",
          "signature": "async fn test_git_commit_with_message()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_git_missing_operation",
          "kind": "function",
          "line": 310,
          "visibility": "private",
          "signature": "async fn test_git_missing_operation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "crate::error::ToolError"
        },
        {
          "path": "crate::error::ToolResult"
        },
        {
          "path": "crate::traits::Tool"
        },
        {
          "path": "crate::traits::ToolCapability"
        },
        {
          "path": "crate::traits::ToolInput"
        },
        {
          "path": "crate::traits::ToolMetadata"
        },
        {
          "path": "crate::traits::ToolOutput"
        },
        {
          "path": "crate::traits::ToolParam"
        },
        {
          "path": "async_trait::async_trait"
        },
        {
          "path": "kelpie_sandbox::ExecOptions"
        },
        {
          "path": "kelpie_sandbox::MockSandbox"
        },
        {
          "path": "kelpie_sandbox::Sandbox"
        },
        {
          "path": "kelpie_sandbox::SandboxConfig"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "std::time::Duration"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "super::*",
          "is_glob": true
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-tools/src/builtin/mod.rs",
      "symbols": [
        {
          "name": "filesystem",
          "kind": "mod",
          "line": 5,
          "visibility": "private"
        },
        {
          "name": "git",
          "kind": "mod",
          "line": 6,
          "visibility": "private"
        },
        {
          "name": "shell",
          "kind": "mod",
          "line": 7,
          "visibility": "private"
        }
      ],
      "imports": [
        {
          "path": "filesystem::FilesystemTool"
        },
        {
          "path": "git::GitTool"
        },
        {
          "path": "shell::ShellTool"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-wasm/src/runtime.rs",
      "symbols": [
        {
          "name": "WASM_MEMORY_PAGES_MAX",
          "kind": "const",
          "line": 28,
          "visibility": "pub",
          "signature": "const WASM_MEMORY_PAGES_MAX: u32",
          "doc": "Default WASM memory limit in pages (64KB each)"
        },
        {
          "name": "WASM_TIMEOUT_MS_DEFAULT",
          "kind": "const",
          "line": 31,
          "visibility": "pub",
          "signature": "const WASM_TIMEOUT_MS_DEFAULT: u64",
          "doc": "Default WASM execution timeout in milliseconds"
        },
        {
          "name": "WASM_MODULE_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 34,
          "visibility": "pub",
          "signature": "const WASM_MODULE_SIZE_BYTES_MAX: usize",
          "doc": "Maximum WASM module size in bytes"
        },
        {
          "name": "WASM_MODULE_CACHE_COUNT_MAX",
          "kind": "const",
          "line": 37,
          "visibility": "pub",
          "signature": "const WASM_MODULE_CACHE_COUNT_MAX: usize",
          "doc": "Maximum cached modules"
        },
        {
          "name": "WASM_INPUT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 40,
          "visibility": "pub",
          "signature": "const WASM_INPUT_SIZE_BYTES_MAX: usize",
          "doc": "Maximum input size in bytes"
        },
        {
          "name": "WASM_OUTPUT_SIZE_BYTES_MAX",
          "kind": "const",
          "line": 43,
          "visibility": "pub",
          "signature": "const WASM_OUTPUT_SIZE_BYTES_MAX: usize",
          "doc": "Maximum output size in bytes"
        },
        {
          "name": "WasmError",
          "kind": "enum",
          "line": 51,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Error)"
          ]
        },
        {
          "name": "WasmToolResult",
          "kind": "type_alias",
          "line": 87,
          "visibility": "pub",
          "doc": "Result type for WASM operations"
        },
        {
          "name": "WasmConfig",
          "kind": "struct",
          "line": 95,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "Default for WasmConfig",
          "kind": "impl",
          "line": 106,
          "visibility": "private"
        },
        {
          "name": "default",
          "kind": "function",
          "line": 107,
          "visibility": "private",
          "signature": "fn default()"
        },
        {
          "name": "WasmConfig",
          "kind": "impl",
          "line": 117,
          "visibility": "private"
        },
        {
          "name": "with_timeout",
          "kind": "function",
          "line": 119,
          "visibility": "pub",
          "signature": "fn with_timeout(mut self, timeout_ms: u64)",
          "doc": "Create a new configuration with custom timeout"
        },
        {
          "name": "with_memory_limit",
          "kind": "function",
          "line": 126,
          "visibility": "pub",
          "signature": "fn with_memory_limit(mut self, pages: u32)",
          "doc": "Create a new configuration with custom memory limit"
        },
        {
          "name": "validate",
          "kind": "function",
          "line": 133,
          "visibility": "pub",
          "signature": "fn validate(&self)",
          "doc": "Validate configuration"
        },
        {
          "name": "CachedModule",
          "kind": "struct",
          "line": 153,
          "visibility": "private",
          "doc": "Cached module with usage stats"
        },
        {
          "name": "WasmRuntime",
          "kind": "struct",
          "line": 174,
          "visibility": "pub",
          "doc": "WASM execution runtime\n\nProvides secure, sandboxed execution of WASM modules with:\n- Module caching for performance\n- Memory and execution time limits\n- WASI support for system calls\n\nDST-Compliant: Uses TimeProvider for deterministic time in tests.\nWhen the `dst` feature is enabled, supports FaultInjector for testing\nerror paths including compilation failures, execution failures, and timeouts."
        },
        {
          "name": "WasmRuntime",
          "kind": "impl",
          "line": 185,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 187,
          "visibility": "pub",
          "signature": "fn new(config: WasmConfig, time_provider: Arc<dyn TimeProvider>)",
          "doc": "Create a new WASM runtime with TimeProvider for DST compatibility"
        },
        {
          "name": "with_defaults",
          "kind": "function",
          "line": 215,
          "visibility": "pub",
          "signature": "fn with_defaults()",
          "doc": "Create with default configuration and wall clock time"
        },
        {
          "name": "with_fault_injection",
          "kind": "function",
          "line": 227,
          "visibility": "pub",
          "signature": "fn with_fault_injection(\n        config: WasmConfig,\n        time_provider: Arc<dyn TimeProvider>,\n        fault_injector: Arc<FaultInjector>,\n    )",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 239,
          "visibility": "private",
          "signature": "fn check_fault(&self, operation: &str)",
          "attributes": [
            "cfg(feature = \"dst\")"
          ]
        },
        {
          "name": "check_fault",
          "kind": "function",
          "line": 248,
          "visibility": "private",
          "signature": "fn check_fault(&self, _operation: &str)",
          "attributes": [
            "cfg(not(feature = \"dst\"))",
            "allow(dead_code)"
          ]
        },
        {
          "name": "compute_hash",
          "kind": "function",
          "line": 253,
          "visibility": "private",
          "signature": "fn compute_hash(wasm_bytes: &[u8])",
          "doc": "Compute hash for WASM bytes (for caching)"
        },
        {
          "name": "get_or_compile",
          "kind": "function",
          "line": 269,
          "visibility": "private",
          "signature": "async fn get_or_compile(&self, wasm_bytes: &[u8])",
          "doc": "Get or compile a module",
          "is_async": true
        },
        {
          "name": "execute",
          "kind": "function",
          "line": 351,
          "visibility": "pub",
          "signature": "async fn execute(&self, wasm_bytes: &[u8], input: Value)",
          "doc": "Execute a WASM module with JSON input\n\nThe module must export a `_start` function (WASI convention) or `run`.\nInput is passed via stdin, output is captured from stdout.",
          "is_async": true
        },
        {
          "name": "execute_sync",
          "kind": "function",
          "line": 408,
          "visibility": "private",
          "signature": "fn execute_sync(\n        engine: &Engine,\n        module: &Module,\n        input_json: &str,\n        timeout_ms: u64,\n    )",
          "doc": "Synchronous execution (runs in blocking thread)"
        },
        {
          "name": "execute_bytes",
          "kind": "function",
          "line": 476,
          "visibility": "pub",
          "signature": "async fn execute_bytes(\n        &self,\n        wasm_bytes: &[u8],\n        input_bytes: &[u8],\n    )",
          "doc": "Execute from raw bytes",
          "is_async": true
        },
        {
          "name": "clear_cache",
          "kind": "function",
          "line": 489,
          "visibility": "pub",
          "signature": "async fn clear_cache(&self)",
          "doc": "Clear the module cache",
          "is_async": true
        },
        {
          "name": "cache_stats",
          "kind": "function",
          "line": 496,
          "visibility": "pub",
          "signature": "async fn cache_stats(&self)",
          "doc": "Get cache statistics",
          "is_async": true
        },
        {
          "name": "CacheStats",
          "kind": "struct",
          "line": 509,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone)"
          ]
        },
        {
          "name": "tests",
          "kind": "mod",
          "line": 519,
          "visibility": "private",
          "attributes": [
            "cfg(test)"
          ]
        },
        {
          "name": "test_time_provider",
          "kind": "function",
          "line": 524,
          "visibility": "private",
          "signature": "fn test_time_provider()",
          "doc": "Helper to create a test TimeProvider"
        },
        {
          "name": "test_wasm_config_default",
          "kind": "function",
          "line": 529,
          "visibility": "private",
          "signature": "fn test_wasm_config_default()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_wasm_config_builder",
          "kind": "function",
          "line": 537,
          "visibility": "private",
          "signature": "fn test_wasm_config_builder()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_compute_hash",
          "kind": "function",
          "line": 547,
          "visibility": "private",
          "signature": "fn test_compute_hash()",
          "is_test": true,
          "attributes": [
            "test"
          ]
        },
        {
          "name": "test_wasm_runtime_creation",
          "kind": "function",
          "line": 561,
          "visibility": "private",
          "signature": "async fn test_wasm_runtime_creation()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_wasm_module_too_large",
          "kind": "function",
          "line": 567,
          "visibility": "private",
          "signature": "async fn test_wasm_module_too_large()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        },
        {
          "name": "test_wasm_cache_stats",
          "kind": "function",
          "line": 581,
          "visibility": "private",
          "signature": "async fn test_wasm_cache_stats()",
          "is_async": true,
          "is_test": true,
          "attributes": [
            "tokio::test"
          ]
        }
      ],
      "imports": [
        {
          "path": "kelpie_core::io::TimeProvider"
        },
        {
          "path": "serde_json::Value"
        },
        {
          "path": "std::collections::HashMap"
        },
        {
          "path": "std::sync::Arc"
        },
        {
          "path": "thiserror::Error"
        },
        {
          "path": "tokio::sync::RwLock"
        },
        {
          "path": "tracing::debug"
        },
        {
          "path": "tracing::info"
        },
        {
          "path": "wasi_cap_std_sync::WasiCtxBuilder"
        },
        {
          "path": "wasi_common::WasiCtx"
        },
        {
          "path": "wasmtime::Config"
        },
        {
          "path": "wasmtime::Engine"
        },
        {
          "path": "wasmtime::Linker"
        },
        {
          "path": "wasmtime::Module"
        },
        {
          "path": "wasmtime::Store"
        },
        {
          "path": "kelpie_dst::fault::FaultInjector"
        },
        {
          "path": "kelpie_dst::fault::FaultType"
        },
        {
          "path": "super::*",
          "is_glob": true
        },
        {
          "path": "kelpie_core::io::WallClockTime"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-wasm/src/lib.rs",
      "symbols": [
        {
          "name": "runtime",
          "kind": "mod",
          "line": 15,
          "visibility": "private"
        }
      ],
      "imports": [
        {
          "path": "runtime::WasmConfig"
        },
        {
          "path": "runtime::WasmError"
        },
        {
          "path": "runtime::WasmRuntime"
        },
        {
          "path": "runtime::WasmToolResult"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cli/src/repl.rs",
      "symbols": [
        {
          "name": "HISTORY_FILE",
          "kind": "const",
          "line": 16,
          "visibility": "private",
          "signature": "const HISTORY_FILE: &str",
          "doc": "History file name"
        },
        {
          "name": "HISTORY_MAX_ENTRIES",
          "kind": "const",
          "line": 19,
          "visibility": "private",
          "signature": "const HISTORY_MAX_ENTRIES: usize",
          "doc": "Maximum history entries"
        },
        {
          "name": "Repl",
          "kind": "struct",
          "line": 22,
          "visibility": "pub",
          "doc": "REPL state"
        },
        {
          "name": "Repl",
          "kind": "impl",
          "line": 30,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 32,
          "visibility": "pub",
          "signature": "async fn new(client: KelpieClient, agent_id: String, use_streaming: bool)",
          "doc": "Create a new REPL for the given agent",
          "is_async": true
        },
        {
          "name": "history_path",
          "kind": "function",
          "line": 64,
          "visibility": "private",
          "signature": "fn history_path()",
          "doc": "Get history file path"
        },
        {
          "name": "run",
          "kind": "function",
          "line": 71,
          "visibility": "pub",
          "signature": "async fn run(&mut self)",
          "doc": "Run the REPL loop",
          "is_async": true
        },
        {
          "name": "send_message",
          "kind": "function",
          "line": 173,
          "visibility": "private",
          "signature": "async fn send_message(&self, content: &str)",
          "doc": "Send a message and print response",
          "is_async": true
        },
        {
          "name": "send_streaming",
          "kind": "function",
          "line": 216,
          "visibility": "private",
          "signature": "async fn send_streaming(&self, content: &str)",
          "doc": "Send a message with streaming response",
          "is_async": true
        },
        {
          "name": "print_help",
          "kind": "function",
          "line": 295,
          "visibility": "private",
          "signature": "fn print_help(&self)",
          "doc": "Print help information"
        },
        {
          "name": "print_agent_info",
          "kind": "function",
          "line": 307,
          "visibility": "private",
          "signature": "async fn print_agent_info(&self)",
          "doc": "Print agent information",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "crate::client::KelpieClient"
        },
        {
          "path": "anyhow::Context"
        },
        {
          "path": "anyhow::Result"
        },
        {
          "path": "colored::Colorize"
        },
        {
          "path": "futures::StreamExt"
        },
        {
          "path": "rustyline::error::ReadlineError"
        },
        {
          "path": "rustyline::history::FileHistory"
        },
        {
          "path": "rustyline::Editor"
        },
        {
          "path": "std::io::Write"
        },
        {
          "path": "std::path::PathBuf"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cli/src/client.rs",
      "symbols": [
        {
          "name": "DEFAULT_SERVER_URL",
          "kind": "const",
          "line": 10,
          "visibility": "pub",
          "signature": "const DEFAULT_SERVER_URL: &str",
          "doc": "Default server URL"
        },
        {
          "name": "REQUEST_TIMEOUT_SECONDS",
          "kind": "const",
          "line": 13,
          "visibility": "pub",
          "signature": "const REQUEST_TIMEOUT_SECONDS: u64",
          "doc": "Default request timeout in seconds"
        },
        {
          "name": "KelpieClient",
          "kind": "struct",
          "line": 16,
          "visibility": "pub",
          "doc": "Kelpie API client"
        },
        {
          "name": "KelpieClient",
          "kind": "impl",
          "line": 21,
          "visibility": "private"
        },
        {
          "name": "new",
          "kind": "function",
          "line": 23,
          "visibility": "pub",
          "signature": "fn new(base_url: impl Into<String>)",
          "doc": "Create a new client with the given base URL"
        },
        {
          "name": "default_url",
          "kind": "function",
          "line": 37,
          "visibility": "pub",
          "signature": "fn default_url()",
          "attributes": [
            "allow(dead_code)"
          ]
        },
        {
          "name": "health",
          "kind": "function",
          "line": 42,
          "visibility": "pub",
          "signature": "async fn health(&self)",
          "doc": "Get server health status",
          "is_async": true
        },
        {
          "name": "list_agents",
          "kind": "function",
          "line": 47,
          "visibility": "pub",
          "signature": "async fn list_agents(&self)",
          "doc": "List all agents",
          "is_async": true
        },
        {
          "name": "get_agent",
          "kind": "function",
          "line": 52,
          "visibility": "pub",
          "signature": "async fn get_agent(&self, agent_id: &str)",
          "doc": "Get agent by ID",
          "is_async": true
        },
        {
          "name": "create_agent",
          "kind": "function",
          "line": 57,
          "visibility": "pub",
          "signature": "async fn create_agent(&self, request: &CreateAgentRequest)",
          "doc": "Create a new agent",
          "is_async": true
        },
        {
          "name": "delete_agent",
          "kind": "function",
          "line": 62,
          "visibility": "pub",
          "signature": "async fn delete_agent(&self, agent_id: &str)",
          "doc": "Delete an agent",
          "is_async": true
        },
        {
          "name": "send_message",
          "kind": "function",
          "line": 67,
          "visibility": "pub",
          "signature": "async fn send_message(&self, agent_id: &str, content: &str)",
          "doc": "Send a message to an agent (non-streaming)",
          "is_async": true
        },
        {
          "name": "send_message_stream",
          "kind": "function",
          "line": 79,
          "visibility": "pub",
          "signature": "async fn send_message_stream(\n        &self,\n        agent_id: &str,\n        content: &str,\n    )",
          "doc": "Send a message with streaming response",
          "is_async": true
        },
        {
          "name": "get",
          "kind": "function",
          "line": 114,
          "visibility": "private",
          "signature": "async fn get<T>(&self, path: &str)",
          "doc": "GET request helper",
          "is_async": true,
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "post",
          "kind": "function",
          "line": 127,
          "visibility": "private",
          "signature": "async fn post<T, R>(&self, path: &str, body: &R)",
          "doc": "POST request helper",
          "is_async": true,
          "generic_params": [
            "T",
            "R"
          ]
        },
        {
          "name": "delete",
          "kind": "function",
          "line": 141,
          "visibility": "private",
          "signature": "async fn delete(&self, path: &str)",
          "doc": "DELETE request helper",
          "is_async": true
        },
        {
          "name": "handle_response",
          "kind": "function",
          "line": 164,
          "visibility": "private",
          "signature": "async fn handle_response<T>(&self, response: reqwest::Response)",
          "doc": "Handle response and deserialize JSON",
          "is_async": true,
          "generic_params": [
            "T"
          ]
        },
        {
          "name": "HealthResponse",
          "kind": "struct",
          "line": 193,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "ListAgentsResponse",
          "kind": "struct",
          "line": 202,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AgentSummary",
          "kind": "struct",
          "line": 207,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "AgentResponse",
          "kind": "struct",
          "line": 217,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "CreateAgentRequest",
          "kind": "struct",
          "line": 233,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "MemoryBlockInput",
          "kind": "struct",
          "line": 248,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "SendMessageRequest",
          "kind": "struct",
          "line": 254,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "MessageInput",
          "kind": "struct",
          "line": 259,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize)"
          ]
        },
        {
          "name": "SendMessageResponse",
          "kind": "struct",
          "line": 265,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "MessageOutput",
          "kind": "struct",
          "line": 272,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        },
        {
          "name": "UsageStats",
          "kind": "struct",
          "line": 282,
          "visibility": "pub",
          "attributes": [
            "derive(Debug, Clone, Serialize, Deserialize)"
          ]
        }
      ],
      "imports": [
        {
          "path": "anyhow::anyhow"
        },
        {
          "path": "anyhow::Context"
        },
        {
          "path": "anyhow::Result"
        },
        {
          "path": "serde::de::DeserializeOwned"
        },
        {
          "path": "serde::Deserialize"
        },
        {
          "path": "serde::Serialize"
        },
        {
          "path": "std::time::Duration"
        }
      ],
      "exports_to": []
    },
    {
      "path": "crates/kelpie-cli/src/main.rs",
      "symbols": [
        {
          "name": "client",
          "kind": "mod",
          "line": 5,
          "visibility": "private"
        },
        {
          "name": "repl",
          "kind": "mod",
          "line": 6,
          "visibility": "private"
        },
        {
          "name": "Cli",
          "kind": "struct",
          "line": 19,
          "visibility": "private",
          "attributes": [
            "derive(Parser, Debug)",
            "command(name = \"kelpie\")",
            "command(about = \"Kelpie distributed virtual actor system CLI\")",
            "command(version)"
          ]
        },
        {
          "name": "Commands",
          "kind": "enum",
          "line": 33,
          "visibility": "private",
          "attributes": [
            "derive(Subcommand, Debug)"
          ]
        },
        {
          "name": "AgentsCommands",
          "kind": "enum",
          "line": 69,
          "visibility": "private",
          "attributes": [
            "derive(Subcommand, Debug)"
          ]
        },
        {
          "name": "main",
          "kind": "function",
          "line": 121,
          "visibility": "private",
          "signature": "async fn main()",
          "is_async": true,
          "attributes": [
            "tokio::main"
          ]
        },
        {
          "name": "cmd_status",
          "kind": "function",
          "line": 169,
          "visibility": "private",
          "signature": "async fn cmd_status(client: KelpieClient)",
          "doc": "Show server status",
          "is_async": true
        },
        {
          "name": "cmd_agents_list",
          "kind": "function",
          "line": 201,
          "visibility": "private",
          "signature": "async fn cmd_agents_list(client: KelpieClient, json_output: bool)",
          "doc": "List agents",
          "is_async": true
        },
        {
          "name": "cmd_agents_get",
          "kind": "function",
          "line": 239,
          "visibility": "private",
          "signature": "async fn cmd_agents_get(client: KelpieClient, agent_id: &str, json_output: bool)",
          "doc": "Get agent details",
          "is_async": true
        },
        {
          "name": "cmd_agents_create",
          "kind": "function",
          "line": 275,
          "visibility": "private",
          "signature": "async fn cmd_agents_create(\n    client: KelpieClient,\n    name: String,\n    agent_type: String,\n    model: String,\n    system: Option<String>,\n    description: Option<String>,\n)",
          "doc": "Create an agent",
          "is_async": true
        },
        {
          "name": "cmd_agents_delete",
          "kind": "function",
          "line": 311,
          "visibility": "private",
          "signature": "async fn cmd_agents_delete(client: KelpieClient, agent_id: &str, force: bool)",
          "doc": "Delete an agent",
          "is_async": true
        },
        {
          "name": "cmd_chat",
          "kind": "function",
          "line": 343,
          "visibility": "private",
          "signature": "async fn cmd_chat(client: KelpieClient, agent_id: String, use_streaming: bool)",
          "doc": "Interactive chat",
          "is_async": true
        },
        {
          "name": "cmd_invoke",
          "kind": "function",
          "line": 352,
          "visibility": "private",
          "signature": "async fn cmd_invoke(\n    client: KelpieClient,\n    agent_id: &str,\n    message: &str,\n    json_output: bool,\n)",
          "doc": "Send single message",
          "is_async": true
        },
        {
          "name": "cmd_doctor",
          "kind": "function",
          "line": 385,
          "visibility": "private",
          "signature": "async fn cmd_doctor(client: KelpieClient)",
          "doc": "Run diagnostics",
          "is_async": true
        }
      ],
      "imports": [
        {
          "path": "anyhow::Context"
        },
        {
          "path": "anyhow::Result"
        },
        {
          "path": "clap::Parser"
        },
        {
          "path": "clap::Subcommand"
        },
        {
          "path": "client::CreateAgentRequest"
        },
        {
          "path": "client::KelpieClient"
        },
        {
          "path": "client::DEFAULT_SERVER_URL"
        },
        {
          "path": "colored::Colorize"
        },
        {
          "path": "tracing_subscriber::EnvFilter"
        }
      ],
      "exports_to": []
    }
  ]
}